import{r as i,j as e,A as _,m as p,X as J,e as U,d as j,f as q,T as z,h as H,i as V,C as X,k as B}from"./index-C_OYZS1b.js";const o={low:{bg:"rgba(34,197,94,0.15)",border:"rgba(34,197,94,0.3)",text:"#22c55e",label:"Ð›Ñ‘Ð³ÐºÐ°Ñ"},medium:{bg:"rgba(245,158,11,0.15)",border:"rgba(245,158,11,0.3)",text:"#f59e0b",label:"Ð¡Ñ€ÐµÐ´Ð½ÑÑ"},high:{bg:"rgba(239,68,68,0.15)",border:"rgba(239,68,68,0.3)",text:"#ef4444",label:"Ð’Ð°Ð¶Ð½Ð°Ñ"}},G=["Ð’Ñ","ÐŸÐ½","Ð’Ñ‚","Ð¡Ñ€","Ð§Ñ‚","ÐŸÑ‚","Ð¡Ð±"],K=["Ð¯Ð½Ð²Ð°Ñ€ÑŒ","Ð¤ÐµÐ²Ñ€Ð°Ð»ÑŒ","ÐœÐ°Ñ€Ñ‚","ÐÐ¿Ñ€ÐµÐ»ÑŒ","ÐœÐ°Ð¹","Ð˜ÑŽÐ½ÑŒ","Ð˜ÑŽÐ»ÑŒ","ÐÐ²Ð³ÑƒÑÑ‚","Ð¡ÐµÐ½Ñ‚ÑÐ±Ñ€ÑŒ","ÐžÐºÑ‚ÑÐ±Ñ€ÑŒ","ÐÐ¾ÑÐ±Ñ€ÑŒ","Ð”ÐµÐºÐ°Ð±Ñ€ÑŒ"],W=({isOpen:F,onClose:O,onComplete:N})=>{const[a,x]=i.useState([]),[m,y]=i.useState(""),[v,I]=i.useState("medium"),[d,S]=i.useState(new Date().toISOString().split("T")[0]),[D,T]=i.useState(""),[M,w]=i.useState(!1),[r,C]=i.useState(new Date),[k,R]=i.useState("list");i.useEffect(()=>{const t=localStorage.getItem("planner_tasks");t&&x(JSON.parse(t))},[]),i.useEffect(()=>{localStorage.setItem("planner_tasks",JSON.stringify(a))},[a]);const Y=()=>{if(!m.trim())return;const t={id:Date.now().toString(),text:m.trim(),completed:!1,priority:v,date:d,time:D||void 0,createdAt:Date.now()};x([...a,t]),y(""),T(""),w(!1),N(5)},f=t=>{x(a.map(s=>{if(s.id===t){const l=!s.completed;return l&&N(10),{...s,completed:l}}return s}))},$=t=>{x(a.filter(s=>s.id!==t))},h=t=>a.filter(s=>s.date===t),g=h(new Date().toISOString().split("T")[0]),A=g.filter(t=>t.completed).length,P=t=>{const s=t.getFullYear(),l=t.getMonth(),b=new Date(s,l,1),u=new Date(s,l+1,0),c=[];for(let n=0;n<b.getDay();n++)c.push(null);for(let n=1;n<=u.getDate();n++)c.push(n);return c},E=t=>{const s=r.getFullYear(),l=String(r.getMonth()+1).padStart(2,"0");return`${s}-${l}-${String(t).padStart(2,"0")}`};return F?e.jsx(_,{children:e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-[#020617] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-green-600/15 rounded-full blur-[100px] animate-pulse"}),e.jsx("div",{className:"absolute bottom-40 right-10 w-80 h-80 bg-emerald-600/10 rounded-full blur-[120px]"})]}),e.jsx("div",{className:"sticky top-0 z-30 px-4 pt-4 pb-4",children:e.jsxs("div",{className:"p-4 rounded-3xl flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255,255,255,0.15)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(34,197,94,0.3) 0%, rgba(16,185,129,0.2) 100%)"},children:e.jsx("span",{className:"text-2xl",children:"ðŸ“"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº"}),e.jsxs("p",{className:"text-white/50 text-xs",children:[A,"/",g.length," Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ"]})]})]}),e.jsx("button",{onClick:O,className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:e.jsx(J,{size:20,className:"text-white"})})]})}),e.jsx("div",{className:"px-4 mb-4",children:e.jsx("div",{className:"flex p-1 rounded-2xl",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:[{id:"list",label:"Ð¡Ð¿Ð¸ÑÐ¾Ðº",icon:"ðŸ“‹"},{id:"calendar",label:"ÐšÐ°Ð»ÐµÐ½Ð´Ð°Ñ€ÑŒ",icon:"ðŸ“…"}].map(t=>e.jsxs("button",{onClick:()=>R(t.id),className:`flex-1 py-2.5 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2 ${k===t.id?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"text-white/50"}`,children:[e.jsx("span",{children:t.icon}),t.label]},t.id))})}),e.jsx("div",{className:"px-4 pb-40 overflow-y-auto flex-1 min-h-0",children:k==="list"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-white/40 text-xs font-bold uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(U,{size:12})," Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ"]}),g.length===0?e.jsxs("div",{className:"rounded-2xl p-6 text-center",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("span",{className:"text-4xl mb-3 block",children:"ðŸŒŸ"}),e.jsx("p",{className:"text-white/40 text-sm",children:"ÐÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ"}),e.jsx("p",{className:"text-white/30 text-xs mt-1",children:"Ð”Ð¾Ð±Ð°Ð²ÑŒ Ð¿ÐµÑ€Ð²ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ!"})]}):e.jsx("div",{className:"space-y-2",children:g.map(t=>e.jsxs(p.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-2xl p-4 flex items-center gap-3",style:{background:t.completed?"rgba(34,197,94,0.1)":o[t.priority].bg,border:`1px solid ${t.completed?"rgba(34,197,94,0.3)":o[t.priority].border}`},children:[e.jsx("button",{onClick:()=>f(t.id),className:`w-6 h-6 rounded-lg flex items-center justify-center transition-all ${t.completed?"bg-green-500":"bg-white/10 border border-white/20"}`,children:t.completed&&e.jsx(j,{size:14,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${t.completed?"text-white/50 line-through":"text-white"}`,children:t.text}),t.time&&e.jsxs("p",{className:"text-white/40 text-xs flex items-center gap-1 mt-1",children:[e.jsx(q,{size:10})," ",t.time]})]}),e.jsx("button",{onClick:()=>$(t.id),className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center hover:bg-red-500/20 transition-colors",children:e.jsx(z,{size:14,className:"text-white/40"})})]},t.id))})]}),a.filter(t=>t.date!==new Date().toISOString().split("T")[0]).length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white/40 text-xs font-bold uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(H,{size:12})," Ð”Ñ€ÑƒÐ³Ð¸Ðµ Ð´Ð½Ð¸"]}),e.jsx("div",{className:"space-y-2",children:a.filter(t=>t.date!==new Date().toISOString().split("T")[0]).sort((t,s)=>new Date(t.date).getTime()-new Date(s.date).getTime()).map(t=>e.jsxs(p.div,{className:"rounded-2xl p-4 flex items-center gap-3",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("button",{onClick:()=>f(t.id),className:`w-6 h-6 rounded-lg flex items-center justify-center transition-all ${t.completed?"bg-green-500":"bg-white/10 border border-white/20"}`,children:t.completed&&e.jsx(j,{size:14,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`text-sm font-medium ${t.completed?"text-white/50 line-through":"text-white"}`,children:t.text}),e.jsxs("p",{className:"text-white/30 text-xs mt-1",children:[new Date(t.date).toLocaleDateString("ru-RU",{day:"numeric",month:"short"}),t.time&&` Ð² ${t.time}`]})]}),e.jsx("button",{onClick:()=>$(t.id),className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center hover:bg-red-500/20 transition-colors",children:e.jsx(z,{size:14,className:"text-white/40"})})]},t.id))})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>C(new Date(r.getFullYear(),r.getMonth()-1)),className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center",children:e.jsx(V,{size:20,className:"text-white/50"})}),e.jsxs("h3",{className:"text-white font-bold",children:[K[r.getMonth()]," ",r.getFullYear()]}),e.jsx("button",{onClick:()=>C(new Date(r.getFullYear(),r.getMonth()+1)),className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center",children:e.jsx(X,{size:20,className:"text-white/50"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:G.map(t=>e.jsx("div",{className:"text-center text-white/30 text-xs font-medium py-2",children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:P(r).map((t,s)=>{if(!t)return e.jsx("div",{},s);const l=E(t),b=h(l),u=l===new Date().toISOString().split("T")[0],c=l===d;return e.jsxs("button",{onClick:()=>S(l),className:`aspect-square rounded-xl flex flex-col items-center justify-center relative transition-all ${c?"bg-green-500/30 border border-green-500/50":u?"bg-white/10 border border-white/20":"bg-white/5 hover:bg-white/10"}`,children:[e.jsx("span",{className:`text-sm ${c||u?"text-white font-bold":"text-white/60"}`,children:t}),b.length>0&&e.jsx("div",{className:"flex gap-0.5 mt-1",children:b.slice(0,3).map((n,L)=>e.jsx("div",{className:"w-1 h-1 rounded-full bg-green-400"},L))})]},s)})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-white/40 text-xs font-bold uppercase tracking-wider mb-3",children:new Date(d).toLocaleDateString("ru-RU",{day:"numeric",month:"long",weekday:"long"})}),h(d).length===0?e.jsx("div",{className:"rounded-2xl p-4 text-center",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)"},children:e.jsx("p",{className:"text-white/40 text-sm",children:"ÐÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡"})}):e.jsx("div",{className:"space-y-2",children:h(d).map(t=>e.jsxs("div",{className:"rounded-2xl p-3 flex items-center gap-3",style:{background:t.completed?"rgba(34,197,94,0.1)":"rgba(255,255,255,0.05)",border:`1px solid ${t.completed?"rgba(34,197,94,0.3)":"rgba(255,255,255,0.1)"}`},children:[e.jsx("button",{onClick:()=>f(t.id),className:`w-5 h-5 rounded-md flex items-center justify-center ${t.completed?"bg-green-500":"bg-white/10 border border-white/20"}`,children:t.completed&&e.jsx(j,{size:12,className:"text-white"})}),e.jsx("span",{className:`text-sm flex-1 ${t.completed?"text-white/50 line-through":"text-white"}`,children:t.text})]},t.id))})]})]})}),e.jsx("div",{className:"fixed bottom-24 left-4 right-4 z-40",children:M?e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-3xl p-4",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.15)"},children:[e.jsx("input",{type:"text",value:m,onChange:t=>y(t.target.value),placeholder:"Ð§Ñ‚Ð¾ Ð½ÑƒÐ¶Ð½Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ?",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 text-sm mb-3",autoFocus:!0}),e.jsx("div",{className:"flex gap-2 mb-3",children:["low","medium","high"].map(t=>e.jsx("button",{onClick:()=>I(t),className:`flex-1 py-2 rounded-xl text-xs font-medium transition-all ${v===t?"":"opacity-50"}`,style:{background:o[t].bg,border:`1px solid ${o[t].border}`,color:o[t].text},children:o[t].label},t))}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"date",value:d,onChange:t=>S(t.target.value),className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-3 py-2 text-white text-sm"}),e.jsx("input",{type:"time",value:D,onChange:t=>T(t.target.value),className:"w-24 bg-white/5 border border-white/10 rounded-xl px-3 py-2 text-white text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>w(!1),className:"flex-1 py-3 rounded-xl bg-white/5 text-white/50 font-medium text-sm",children:"ÐžÑ‚Ð¼ÐµÐ½Ð°"}),e.jsx("button",{onClick:Y,disabled:!m.trim(),className:"flex-1 py-3 rounded-xl font-medium text-sm text-white disabled:opacity-50",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)"},children:"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ"})]})]}):e.jsxs("button",{onClick:()=>w(!0),className:"w-full py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",boxShadow:"0 8px 32px rgba(34,197,94,0.4)"},children:[e.jsx(B,{size:20}),"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ"]})})]})}):null};export{W as PlannerTool,W as default};
