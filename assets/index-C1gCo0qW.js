const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PomodoroTimer-BidKysp2.js","assets/trending-up-vpayjdHF.js","assets/BalanceWheel-JB6Uo6XT.js","assets/EmotionDiary-CeS-gj0V.js","assets/useSyncTool-BVDn7tr4.js","assets/GoalsTool-zMU_HfCd.js","assets/SyncIndicator-r9xcf7th.js","assets/NotesTool-BrzLg17U.js","assets/HabitTracker-uCwfucum.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Um(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $E(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var fp={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function YE(){if(Hx)return Sc;Hx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Sc.Fragment=e,Sc.jsx=n,Sc.jsxs=n,Sc}var Bx;function WE(){return Bx||(Bx=1,fp.exports=YE()),fp.exports}var o=WE(),hp={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function KE(){if(Gx)return xt;Gx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function S(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function V(F,ne,xe){this.props=F,this.context=ne,this.refs=P,this.updater=xe||j}V.prototype.isReactComponent={},V.prototype.setState=function(F,ne){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ne,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function D(){}D.prototype=V.prototype;function k(F,ne,xe){this.props=F,this.context=ne,this.refs=P,this.updater=xe||j}var G=k.prototype=new D;G.constructor=k,N(G,V.prototype),G.isPureReactComponent=!0;var J=Array.isArray;function K(){}var te={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function B(F,ne,xe){var Ae=xe.ref;return{$$typeof:t,type:F,key:ne,ref:Ae!==void 0?Ae:null,props:xe}}function oe(F,ne){return B(F.type,ne,F.props)}function $(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function ce(F){var ne={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(xe){return ne[xe]})}var ee=/\/+/g;function W(F,ne){return typeof F=="object"&&F!==null&&F.key!=null?ce(""+F.key):ne.toString(36)}function de(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(K,K):(F.status="pending",F.then(function(ne){F.status==="pending"&&(F.status="fulfilled",F.value=ne)},function(ne){F.status==="pending"&&(F.status="rejected",F.reason=ne)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Y(F,ne,xe,Ae,Ne){var Me=typeof F;(Me==="undefined"||Me==="boolean")&&(F=null);var Qe=!1;if(F===null)Qe=!0;else switch(Me){case"bigint":case"string":case"number":Qe=!0;break;case"object":switch(F.$$typeof){case t:case e:Qe=!0;break;case g:return Qe=F._init,Y(Qe(F._payload),ne,xe,Ae,Ne)}}if(Qe)return Ne=Ne(F),Qe=Ae===""?"."+W(F,0):Ae,J(Ne)?(xe="",Qe!=null&&(xe=Qe.replace(ee,"$&/")+"/"),Y(Ne,ne,xe,"",function(gt){return gt})):Ne!=null&&($(Ne)&&(Ne=oe(Ne,xe+(Ne.key==null||F&&F.key===Ne.key?"":(""+Ne.key).replace(ee,"$&/")+"/")+Qe)),ne.push(Ne)),1;Qe=0;var it=Ae===""?".":Ae+":";if(J(F))for(var ut=0;ut<F.length;ut++)Ae=F[ut],Me=it+W(Ae,ut),Qe+=Y(Ae,ne,xe,Me,Ne);else if(ut=S(F),typeof ut=="function")for(F=ut.call(F),ut=0;!(Ae=F.next()).done;)Ae=Ae.value,Me=it+W(Ae,ut++),Qe+=Y(Ae,ne,xe,Me,Ne);else if(Me==="object"){if(typeof F.then=="function")return Y(de(F),ne,xe,Ae,Ne);throw ne=String(F),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Qe}function Z(F,ne,xe){if(F==null)return F;var Ae=[],Ne=0;return Y(F,Ae,"","",function(Me){return ne.call(xe,Me,Ne++)}),Ae}function Q(F){if(F._status===-1){var ne=F._result;ne=ne(),ne.then(function(xe){(F._status===0||F._status===-1)&&(F._status=1,F._result=xe)},function(xe){(F._status===0||F._status===-1)&&(F._status=2,F._result=xe)}),F._status===-1&&(F._status=0,F._result=ne)}if(F._status===1)return F._result.default;throw F._result}var he=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Ee={map:Z,forEach:function(F,ne,xe){Z(F,function(){ne.apply(this,arguments)},xe)},count:function(F){var ne=0;return Z(F,function(){ne++}),ne},toArray:function(F){return Z(F,function(ne){return ne})||[]},only:function(F){if(!$(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return xt.Activity=b,xt.Children=Ee,xt.Component=V,xt.Fragment=n,xt.Profiler=a,xt.PureComponent=k,xt.StrictMode=s,xt.Suspense=p,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,xt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return te.H.useMemoCache(F)}},xt.cache=function(F){return function(){return F.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(F,ne,xe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var Ae=N({},F.props),Ne=F.key;if(ne!=null)for(Me in ne.key!==void 0&&(Ne=""+ne.key),ne)!re.call(ne,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&ne.ref===void 0||(Ae[Me]=ne[Me]);var Me=arguments.length-2;if(Me===1)Ae.children=xe;else if(1<Me){for(var Qe=Array(Me),it=0;it<Me;it++)Qe[it]=arguments[it+2];Ae.children=Qe}return B(F.type,Ne,Ae)},xt.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},xt.createElement=function(F,ne,xe){var Ae,Ne={},Me=null;if(ne!=null)for(Ae in ne.key!==void 0&&(Me=""+ne.key),ne)re.call(ne,Ae)&&Ae!=="key"&&Ae!=="__self"&&Ae!=="__source"&&(Ne[Ae]=ne[Ae]);var Qe=arguments.length-2;if(Qe===1)Ne.children=xe;else if(1<Qe){for(var it=Array(Qe),ut=0;ut<Qe;ut++)it[ut]=arguments[ut+2];Ne.children=it}if(F&&F.defaultProps)for(Ae in Qe=F.defaultProps,Qe)Ne[Ae]===void 0&&(Ne[Ae]=Qe[Ae]);return B(F,Me,Ne)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(F){return{$$typeof:d,render:F}},xt.isValidElement=$,xt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:Q}},xt.memo=function(F,ne){return{$$typeof:h,type:F,compare:ne===void 0?null:ne}},xt.startTransition=function(F){var ne=te.T,xe={};te.T=xe;try{var Ae=F(),Ne=te.S;Ne!==null&&Ne(xe,Ae),typeof Ae=="object"&&Ae!==null&&typeof Ae.then=="function"&&Ae.then(K,he)}catch(Me){he(Me)}finally{ne!==null&&xe.types!==null&&(ne.types=xe.types),te.T=ne}},xt.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},xt.use=function(F){return te.H.use(F)},xt.useActionState=function(F,ne,xe){return te.H.useActionState(F,ne,xe)},xt.useCallback=function(F,ne){return te.H.useCallback(F,ne)},xt.useContext=function(F){return te.H.useContext(F)},xt.useDebugValue=function(){},xt.useDeferredValue=function(F,ne){return te.H.useDeferredValue(F,ne)},xt.useEffect=function(F,ne){return te.H.useEffect(F,ne)},xt.useEffectEvent=function(F){return te.H.useEffectEvent(F)},xt.useId=function(){return te.H.useId()},xt.useImperativeHandle=function(F,ne,xe){return te.H.useImperativeHandle(F,ne,xe)},xt.useInsertionEffect=function(F,ne){return te.H.useInsertionEffect(F,ne)},xt.useLayoutEffect=function(F,ne){return te.H.useLayoutEffect(F,ne)},xt.useMemo=function(F,ne){return te.H.useMemo(F,ne)},xt.useOptimistic=function(F,ne){return te.H.useOptimistic(F,ne)},xt.useReducer=function(F,ne,xe){return te.H.useReducer(F,ne,xe)},xt.useRef=function(F){return te.H.useRef(F)},xt.useState=function(F){return te.H.useState(F)},xt.useSyncExternalStore=function(F,ne,xe){return te.H.useSyncExternalStore(F,ne,xe)},xt.useTransition=function(){return te.H.useTransition()},xt.version="19.2.0",xt}var qx;function Qd(){return qx||(qx=1,hp.exports=KE()),hp.exports}var O=Qd();const Ow=Um(O);var pp={exports:{}},Nc={},mp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function JE(){return $x||($x=1,(function(t){function e(Y,Z){var Q=Y.length;Y.push(Z);e:for(;0<Q;){var he=Q-1>>>1,Ee=Y[he];if(0<a(Ee,Z))Y[he]=Z,Y[Q]=Ee,Q=he;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var Z=Y[0],Q=Y.pop();if(Q!==Z){Y[0]=Q;e:for(var he=0,Ee=Y.length,F=Ee>>>1;he<F;){var ne=2*(he+1)-1,xe=Y[ne],Ae=ne+1,Ne=Y[Ae];if(0>a(xe,Q))Ae<Ee&&0>a(Ne,xe)?(Y[he]=Ne,Y[Ae]=Q,he=Ae):(Y[he]=xe,Y[ne]=Q,he=ne);else if(Ae<Ee&&0>a(Ne,Q))Y[he]=Ne,Y[Ae]=Q,he=Ae;else break e}}return Z}function a(Y,Z){var Q=Y.sortIndex-Z.sortIndex;return Q!==0?Q:Y.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var p=[],h=[],g=1,b=null,T=3,S=!1,j=!1,N=!1,P=!1,V=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function G(Y){for(var Z=n(h);Z!==null;){if(Z.callback===null)s(h);else if(Z.startTime<=Y)s(h),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=n(h)}}function J(Y){if(N=!1,G(Y),!j)if(n(p)!==null)j=!0,K||(K=!0,ce());else{var Z=n(h);Z!==null&&de(J,Z.startTime-Y)}}var K=!1,te=-1,re=5,B=-1;function oe(){return P?!0:!(t.unstable_now()-B<re)}function $(){if(P=!1,K){var Y=t.unstable_now();B=Y;var Z=!0;try{e:{j=!1,N&&(N=!1,D(te),te=-1),S=!0;var Q=T;try{t:{for(G(Y),b=n(p);b!==null&&!(b.expirationTime>Y&&oe());){var he=b.callback;if(typeof he=="function"){b.callback=null,T=b.priorityLevel;var Ee=he(b.expirationTime<=Y);if(Y=t.unstable_now(),typeof Ee=="function"){b.callback=Ee,G(Y),Z=!0;break t}b===n(p)&&s(p),G(Y)}else s(p);b=n(p)}if(b!==null)Z=!0;else{var F=n(h);F!==null&&de(J,F.startTime-Y),Z=!1}}break e}finally{b=null,T=Q,S=!1}Z=void 0}}finally{Z?ce():K=!1}}}var ce;if(typeof k=="function")ce=function(){k($)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,W=ee.port2;ee.port1.onmessage=$,ce=function(){W.postMessage(null)}}else ce=function(){V($,0)};function de(Y,Z){te=V(function(){Y(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Y){switch(T){case 1:case 2:case 3:var Z=3;break;default:Z=T}var Q=T;T=Z;try{return Y()}finally{T=Q}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=T;T=Y;try{return Z()}finally{T=Q}},t.unstable_scheduleCallback=function(Y,Z,Q){var he=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?he+Q:he):Q=he,Y){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=Q+Ee,Y={id:g++,callback:Z,priorityLevel:Y,startTime:Q,expirationTime:Ee,sortIndex:-1},Q>he?(Y.sortIndex=Q,e(h,Y),n(p)===null&&Y===n(h)&&(N?(D(te),te=-1):N=!0,de(J,Q-he))):(Y.sortIndex=Ee,e(p,Y),j||S||(j=!0,K||(K=!0,ce()))),Y},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(Y){var Z=T;return function(){var Q=T;T=Z;try{return Y.apply(this,arguments)}finally{T=Q}}}})(gp)),gp}var Yx;function XE(){return Yx||(Yx=1,mp.exports=JE()),mp.exports}var yp={exports:{}},si={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx;function QE(){if(Wx)return si;Wx=1;var t=Qd();function e(p){var h="https://react.dev/errors/"+p;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,h,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,h){if(p==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return si.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,si.createPortal=function(p,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return l(p,h,null,g)},si.flushSync=function(p){var h=u.T,g=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=h,s.p=g,s.d.f()}},si.preconnect=function(p,h){typeof p=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(p,h))},si.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},si.preinit=function(p,h){if(typeof p=="string"&&h&&typeof h.as=="string"){var g=h.as,b=d(g,h.crossOrigin),T=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?s.d.S(p,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:S}):g==="script"&&s.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},si.preinitModule=function(p,h){if(typeof p=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);s.d.M(p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(p)},si.preload=function(p,h){if(typeof p=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,b=d(g,h.crossOrigin);s.d.L(p,g,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},si.preloadModule=function(p,h){if(typeof p=="string")if(h){var g=d(h.as,h.crossOrigin);s.d.m(p,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(p)},si.requestFormReset=function(p){s.d.r(p)},si.unstable_batchedUpdates=function(p,h){return p(h)},si.useFormState=function(p,h,g){return u.H.useFormState(p,h,g)},si.useFormStatus=function(){return u.H.useHostTransitionStatus()},si.version="19.2.0",si}var Kx;function ZE(){if(Kx)return yp.exports;Kx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yp.exports=QE(),yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function eS(){if(Jx)return Nc;Jx=1;var t=XE(),e=Qd(),n=ZE();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)r+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,c=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(c=r.return),i=r.return;while(i)}return r.tag===3?c:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function h(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var c=i,f=r;;){var x=c.return;if(x===null)break;var _=x.alternate;if(_===null){if(f=x.return,f!==null){c=f;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===c)return p(x),i;if(_===f)return p(x),r;_=_.sibling}throw Error(s(188))}if(c.return!==f.return)c=x,f=_;else{for(var R=!1,L=x.child;L;){if(L===c){R=!0,c=x,f=_;break}if(L===f){R=!0,f=x,c=_;break}L=L.sibling}if(!R){for(L=_.child;L;){if(L===c){R=!0,c=_,f=x;break}if(L===f){R=!0,f=_,c=x;break}L=L.sibling}if(!R)throw Error(s(189))}}if(c.alternate!==f)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ee?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case V:return"Profiler";case P:return"StrictMode";case J:return"Suspense";case K:return"SuspenseList";case B:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case k:return i.displayName||"Context";case D:return(i._context.displayName||"Context")+".Consumer";case G:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case te:return r=i.displayName||null,r!==null?r:W(i.type)||"Memo";case re:r=i._payload,i=i._init;try{return W(i(r))}catch{}}return null}var de=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},he=[],Ee=-1;function F(i){return{current:i}}function ne(i){0>Ee||(i.current=he[Ee],he[Ee]=null,Ee--)}function xe(i,r){Ee++,he[Ee]=i.current,i.current=r}var Ae=F(null),Ne=F(null),Me=F(null),Qe=F(null);function it(i,r){switch(xe(Me,r),xe(Ne,i),xe(Ae,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?dx(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=dx(r),i=fx(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(Ae),xe(Ae,i)}function ut(){ne(Ae),ne(Ne),ne(Me)}function gt(i){i.memoizedState!==null&&xe(Qe,i);var r=Ae.current,c=fx(r,i.type);r!==c&&(xe(Ne,i),xe(Ae,c))}function Ft(i){Ne.current===i&&(ne(Ae),ne(Ne)),Qe.current===i&&(ne(Qe),wc._currentValue=Q)}var st,mt;function At(i){if(st===void 0)try{throw Error()}catch(c){var r=c.stack.trim().match(/\n( *(at )?)/);st=r&&r[1]||"",mt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+st+i+mt}var jt=!1;function Ze(i,r){if(!i||jt)return"";jt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(we){var ye=we}Reflect.construct(i,[],Se)}else{try{Se.call()}catch(we){ye=we}i.call(Se.prototype)}}else{try{throw Error()}catch(we){ye=we}(Se=i())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(we){if(we&&ye&&typeof we.stack=="string")return[we.stack,ye.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=f.DetermineComponentFrameRoot(),R=_[0],L=_[1];if(R&&L){var X=R.split(`
`),me=L.split(`
`);for(x=f=0;f<X.length&&!X[f].includes("DetermineComponentFrameRoot");)f++;for(;x<me.length&&!me[x].includes("DetermineComponentFrameRoot");)x++;if(f===X.length||x===me.length)for(f=X.length-1,x=me.length-1;1<=f&&0<=x&&X[f]!==me[x];)x--;for(;1<=f&&0<=x;f--,x--)if(X[f]!==me[x]){if(f!==1||x!==1)do if(f--,x--,0>x||X[f]!==me[x]){var _e=`
`+X[f].replace(" at new "," at ");return i.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",i.displayName)),_e}while(1<=f&&0<=x);break}}}finally{jt=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?At(c):""}function Xt(i,r){switch(i.tag){case 26:case 27:case 5:return At(i.type);case 16:return At("Lazy");case 13:return i.child!==r&&r!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return Ze(i.type,!1);case 11:return Ze(i.type.render,!1);case 1:return Ze(i.type,!0);case 31:return At("Activity");default:return""}}function et(i){try{var r="",c=null;do r+=Xt(i,c),c=i,i=i.return;while(i);return r}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var De=Object.prototype.hasOwnProperty,nn=t.unstable_scheduleCallback,sn=t.unstable_cancelCallback,gn=t.unstable_shouldYield,gi=t.unstable_requestPaint,Nt=t.unstable_now,lt=t.unstable_getCurrentPriorityLevel,M=t.unstable_ImmediatePriority,E=t.unstable_UserBlockingPriority,C=t.unstable_NormalPriority,z=t.unstable_LowPriority,ae=t.unstable_IdlePriority,be=t.log,Re=t.unstable_setDisableYieldValue,Ke=null,Xe=null;function Ue(i){if(typeof be=="function"&&Re(i),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Ke,i)}catch{}}var rt=Math.clz32?Math.clz32:ot,Pe=Math.log,Fe=Math.LN2;function ot(i){return i>>>=0,i===0?32:31-(Pe(i)/Fe|0)|0}var Ht=256,Be=262144,wt=4194304;function vt(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ct(i,r,c){var f=i.pendingLanes;if(f===0)return 0;var x=0,_=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var L=f&134217727;return L!==0?(f=L&~_,f!==0?x=vt(f):(R&=L,R!==0?x=vt(R):c||(c=L&~i,c!==0&&(x=vt(c))))):(L=f&~_,L!==0?x=vt(L):R!==0?x=vt(R):c||(c=f&~i,c!==0&&(x=vt(c)))),x===0?0:r!==0&&r!==x&&(r&_)===0&&(_=x&-x,c=r&-r,_>=c||_===32&&(c&4194048)!==0)?r:x}function Ge(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Rn(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $t(){var i=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),i}function qe(i){for(var r=[],c=0;31>c;c++)r.push(i);return r}function pt(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function yi(i,r,c,f,x,_){var R=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var L=i.entanglements,X=i.expirationTimes,me=i.hiddenUpdates;for(c=R&~c;0<c;){var _e=31-rt(c),Se=1<<_e;L[_e]=0,X[_e]=-1;var ye=me[_e];if(ye!==null)for(me[_e]=null,_e=0;_e<ye.length;_e++){var we=ye[_e];we!==null&&(we.lane&=-536870913)}c&=~Se}f!==0&&Rl(i,f,0),_!==0&&x===0&&i.tag!==0&&(i.suspendedLanes|=_&~(R&~r))}function Rl(i,r,c){i.pendingLanes|=r,i.suspendedLanes&=~r;var f=31-rt(r);i.entangledLanes|=r,i.entanglements[f]=i.entanglements[f]|1073741824|c&261930}function vr(i,r){var c=i.entangledLanes|=r;for(i=i.entanglements;c;){var f=31-rt(c),x=1<<f;x&r|i[f]&r&&(i[f]|=r),c&=~x}}function ru(i,r){var c=r&-r;return c=(c&42)!==0?1:Ls(c),(c&(i.suspendedLanes|r))!==0?0:c}function Ls(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function to(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ye(){var i=Z.p;return i!==0?i:(i=window.event,i===void 0?32:Px(i.type))}function no(i,r){var c=Z.p;try{return Z.p=i,r()}finally{Z.p=c}}var gs=Math.random().toString(36).slice(2),Bn="__reactFiber$"+gs,Tn="__reactProps$"+gs,Us="__reactContainer$"+gs,io="__reactEvents$"+gs,so="__reactListeners$"+gs,au="__reactHandles$"+gs,Il="__reactResources$"+gs,ys="__reactMarker$"+gs;function ro(i){delete i[Bn],delete i[Tn],delete i[io],delete i[so],delete i[au]}function oi(i){var r=i[Bn];if(r)return r;for(var c=i.parentNode;c;){if(r=c[Us]||c[Bn]){if(c=r.alternate,r.child!==null||c!==null&&c.child!==null)for(i=vx(i);i!==null;){if(c=i[Bn])return c;i=vx(i)}return r}i=c,c=i.parentNode}return null}function Vs(i){if(i=i[Bn]||i[Us]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ca(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function br(i){var r=i[Il];return r||(r=i[Il]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function En(i){i[ys]=!0}var jl=new Set,ao={};function Kn(i,r){ts(i,r),ts(i+"Capture",r)}function ts(i,r){for(ao[i]=r,i=0;i<r.length;i++)jl.add(r[i])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},ua={};function lu(i){return De.call(ua,i)?!0:De.call(ou,i)?!1:Ml.test(i)?ua[i]=!0:(ou[i]=!0,!1)}function da(i,r,c){if(lu(r))if(c===null)i.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+c)}}function xs(i,r,c){if(c===null)i.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+c)}}function Vi(i,r,c,f){if(f===null)i.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(r,c,""+f)}}function kn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oo(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fa(i,r,c){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,_=f.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return x.call(this)},set:function(R){c=""+R,_.call(this,R)}}),Object.defineProperty(i,r,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function vs(i){if(!i._valueTracker){var r=oo(i)?"checked":"value";i._valueTracker=fa(i,r,""+i[r])}}function lo(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var c=r.getValue(),f="";return i&&(f=oo(i)?i.checked?"true":"false":i.value),i=f,i!==c?(r.setValue(i),!0):!1}function xi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ft=/[\n"\\]/g;function yn(i){return i.replace(ft,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vi(i,r,c,f,x,_,R,L){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),r!=null?R==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+kn(r)):i.value!==""+kn(r)&&(i.value=""+kn(r)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),r!=null?co(i,R,kn(r)):c!=null?co(i,R,kn(c)):f!=null&&i.removeAttribute("value"),x==null&&_!=null&&(i.defaultChecked=!!_),x!=null&&(i.checked=x&&typeof x!="function"&&typeof x!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+kn(L):i.removeAttribute("name")}function kl(i,r,c,f,x,_,R,L){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),r!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||r!=null)){vs(i);return}c=c!=null?""+kn(c):"",r=r!=null?""+kn(r):c,L||r===i.value||(i.value=r),i.defaultValue=r}f=f??x,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=L?i.checked:!!f,i.defaultChecked=!!f,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R),vs(i)}function co(i,r,c){r==="number"&&xi(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function zs(i,r,c,f){if(i=i.options,r){r={};for(var x=0;x<c.length;x++)r["$"+c[x]]=!0;for(c=0;c<i.length;c++)x=r.hasOwnProperty("$"+i[c].value),i[c].selected!==x&&(i[c].selected=x),x&&f&&(i[c].defaultSelected=!0)}else{for(c=""+kn(c),r=null,x=0;x<i.length;x++){if(i[x].value===c){i[x].selected=!0,f&&(i[x].defaultSelected=!0);return}r!==null||i[x].disabled||(r=i[x])}r!==null&&(r.selected=!0)}}function pn(i,r,c){if(r!=null&&(r=""+kn(r),r!==i.value&&(i.value=r),c==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=c!=null?""+kn(c):""}function wr(i,r,c,f){if(r==null){if(f!=null){if(c!=null)throw Error(s(92));if(de(f)){if(1<f.length)throw Error(s(93));f=f[0]}c=f}c==null&&(c=""),r=c}c=kn(r),i.defaultValue=c,f=i.textContent,f===c&&f!==""&&f!==null&&(i.value=f),vs(i)}function bs(i,r){if(r){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=r;return}}i.textContent=r}var ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zi(i,r,c){var f=r.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":f?i.setProperty(r,c):typeof c!="number"||c===0||ha.has(r)?r==="float"?i.cssFloat=c:i[r]=(""+c).trim():i[r]=c+"px"}function uo(i,r,c){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var x in r)f=r[x],r.hasOwnProperty(x)&&c[x]!==f&&zi(i,x,f)}else for(var _ in r)r.hasOwnProperty(_)&&zi(i,_,r[_])}function ns(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(i){return pa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ci(){}var fo=null;function ho(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _r=null,Fi=null;function ma(i){var r=Vs(i);if(r&&(i=r.stateNode)){var c=i[Tn]||null;e:switch(i=r.stateNode,r.type){case"input":if(vi(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),r=c.name,c.type==="radio"&&r!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<c.length;r++){var f=c[r];if(f!==i&&f.form===i.form){var x=f[Tn]||null;if(!x)throw Error(s(90));vi(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(r=0;r<c.length;r++)f=c[r],f.form===i.form&&lo(f)}break e;case"textarea":pn(i,c.value,c.defaultValue);break e;case"select":r=c.value,r!=null&&zs(i,!!c.multiple,r,!1)}}}var ws=!1;function ga(i,r,c){if(ws)return i(r,c);ws=!0;try{var f=i(r);return f}finally{if(ws=!1,(_r!==null||Fi!==null)&&(Ku(),_r&&(r=_r,i=Fi,Fi=_r=null,ma(r),i)))for(r=0;r<i.length;r++)ma(i[r])}}function is(i,r){var c=i.stateNode;if(c===null)return null;var f=c[Tn]||null;if(f===null)return null;c=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(s(231,r,typeof c));return c}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(li)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){_s=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{_s=!1}var Sn=null,Dl=null,ci=null;function po(){if(ci)return ci;var i,r=Dl,c=r.length,f,x="value"in Sn?Sn.value:Sn.textContent,_=x.length;for(i=0;i<c&&r[i]===x[i];i++);var R=c-i;for(f=1;f<=R&&r[c-f]===x[_-f];f++);return ci=x.slice(i,1<f?1-f:void 0)}function Hs(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Tr(){return!0}function mo(){return!1}function ii(i){function r(c,f,x,_,R){this._reactName=c,this._targetInst=x,this.type=f,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(c=i[L],this[L]=c?c(_):_[L]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Tr:mo,this.isPropagationStopped=mo,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),r}var Bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=ii(Bs),ya=b({},Bs,{view:0,detail:0}),hf=ii(ya),Pl,Er,Sr,qs=b({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Sr&&(Sr&&i.type==="mousemove"?(Pl=i.screenX-Sr.screenX,Er=i.screenY-Sr.screenY):Er=Pl=0,Sr=i),Pl)},movementY:function(i){return"movementY"in i?i.movementY:Er}}),Ol=ii(qs),uu=b({},qs,{dataTransfer:0}),pf=ii(uu),mf=b({},ya,{relatedTarget:0}),Dn=ii(mf),du=b({},Bs,{animationName:0,elapsedTime:0,pseudoElement:0}),ss=ii(du),gf=b({},Bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),go=ii(gf),yo=b({},Bs,{data:0}),xo=ii(yo),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ll={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xf(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=yf[i])?!!r[i]:!1}function xa(){return xf}var vf=b({},ya,{key:function(i){if(i.key){var r=fu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Hs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ll[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(i){return i.type==="keypress"?Hs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Hs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),bf=ii(vf),hu=b({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pu=ii(hu),wf=b({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),_f=ii(wf),Tf=b({},Bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ef=ii(Tf),Sf=b({},qs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),mu=ii(Sf),Nf=b({},Bs,{newState:0,oldState:0}),Ul=ii(Nf),Vl=[9,13,27,32],zl=li&&"CompositionEvent"in window,va=null;li&&"documentMode"in document&&(va=document.documentMode);var Cf=li&&"TextEvent"in window&&!va,vo=li&&(!zl||va&&8<va&&11>=va),bo=" ",Fl=!1;function wo(i,r){switch(i){case"keyup":return Vl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $s=!1;function gu(i,r){switch(i){case"compositionend":return ba(r);case"keypress":return r.which!==32?null:(Fl=!0,bo);case"textInput":return i=r.data,i===bo&&Fl?null:i;default:return null}}function Af(i,r){if($s)return i==="compositionend"||!zl&&wo(i,r)?(i=po(),ci=Dl=Sn=null,$s=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return vo&&r.locale!=="ko"?null:r.data;default:return null}}var yu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wa(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!yu[i.type]:r==="textarea"}function Hl(i,r,c,f){_r?Fi?Fi.push(f):Fi=[f]:_r=f,r=nd(r,"onChange"),0<r.length&&(c=new Gs("onChange","change",null,c,f),i.push({event:c,listeners:r}))}var Qt=null,ui=null;function Bl(i){rx(i,0)}function _a(i){var r=ca(i);if(lo(r))return i}function Gl(i,r){if(i==="change")return r}var ql=!1;if(li){var _o;if(li){var Nr="oninput"in document;if(!Nr){var $l=document.createElement("div");$l.setAttribute("oninput","return;"),Nr=typeof $l.oninput=="function"}_o=Nr}else _o=!1;ql=_o&&(!document.documentMode||9<document.documentMode)}function v(){Qt&&(Qt.detachEvent("onpropertychange",w),ui=Qt=null)}function w(i){if(i.propertyName==="value"&&_a(ui)){var r=[];Hl(r,ui,i,ho(i)),ga(Bl,r)}}function A(i,r,c){i==="focusin"?(v(),Qt=r,ui=c,Qt.attachEvent("onpropertychange",w)):i==="focusout"&&v()}function I(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _a(ui)}function U(i,r){if(i==="click")return _a(r)}function q(i,r){if(i==="input"||i==="change")return _a(r)}function le(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var se=typeof Object.is=="function"?Object.is:le;function ve(i,r){if(se(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var c=Object.keys(i),f=Object.keys(r);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var x=c[f];if(!De.call(r,x)||!se(i[x],r[x]))return!1}return!0}function ge(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function je(i,r){var c=ge(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=r&&f>=r)return{node:c,offset:r-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ge(c)}}function He(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?He(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function $e(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=xi(i.document);r instanceof i.HTMLIFrameElement;){try{var c=typeof r.contentWindow.location.href=="string"}catch{c=!1}if(c)i=r.contentWindow;else break;r=xi(i.document)}return r}function ue(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ke=li&&"documentMode"in document&&11>=document.documentMode,Ce=null,yt=null,_t=null,Ve=!1;function Yt(i,r,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ve||Ce==null||Ce!==xi(f)||(f=Ce,"selectionStart"in f&&ue(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),_t&&ve(_t,f)||(_t=f,f=nd(yt,"onSelect"),0<f.length&&(r=new Gs("onSelect","select",null,r,c),i.push({event:r,listeners:f}),r.target=Ce)))}function an(i,r){var c={};return c[i.toLowerCase()]=r.toLowerCase(),c["Webkit"+i]="webkit"+r,c["Moz"+i]="moz"+r,c}var Pn={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionrun:an("Transition","TransitionRun"),transitionstart:an("Transition","TransitionStart"),transitioncancel:an("Transition","TransitionCancel"),transitionend:an("Transition","TransitionEnd")},rs={},Mt={};li&&(Mt=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function $n(i){if(rs[i])return rs[i];if(!Pn[i])return i;var r=Pn[i],c;for(c in r)if(r.hasOwnProperty(c)&&c in Mt)return rs[i]=r[c];return i}var xu=$n("animationend"),Ie=$n("animationiteration"),Oe=$n("animationstart"),Rt=$n("transitionrun"),Pt=$n("transitionstart"),bt=$n("transitioncancel"),It=$n("transitionend"),Vt=new Map,zt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zt.push("scrollEnd");function xn(i,r){Vt.set(i,r),Kn(r,[i])}var vn=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ln=[],cn=0,To=0;function Ta(){for(var i=cn,r=To=cn=0;r<i;){var c=ln[r];ln[r++]=null;var f=ln[r];ln[r++]=null;var x=ln[r];ln[r++]=null;var _=ln[r];if(ln[r++]=null,f!==null&&x!==null){var R=f.pending;R===null?x.next=x:(x.next=R.next,R.next=x),f.pending=x}_!==0&&Ss(c,x,_)}}function Es(i,r,c,f){ln[cn++]=i,ln[cn++]=r,ln[cn++]=c,ln[cn++]=f,To|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Ys(i,r,c,f){return Es(i,r,c,f),Ea(i)}function di(i,r){return Es(i,null,null,r),Ea(i)}function Ss(i,r,c){i.lanes|=c;var f=i.alternate;f!==null&&(f.lanes|=c);for(var x=!1,_=i.return;_!==null;)_.childLanes|=c,f=_.alternate,f!==null&&(f.childLanes|=c),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(x=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,x&&r!==null&&(x=31-rt(c),i=_.hiddenUpdates,f=i[x],f===null?i[x]=[r]:f.push(r),r.lane=c|536870912),_):null}function Ea(i){if(50<pc)throw pc=0,Oh=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Ws={};function Cr(i,r,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(i,r,c,f){return new Cr(i,r,c,f)}function Eo(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ks(i,r){var c=i.alternate;return c===null?(c=fi(i.tag,r,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=r,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,r=i.dependencies,c.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function F0(i,r){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,r=c.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function vu(i,r,c,f,x,_){var R=0;if(f=i,typeof i=="function")Eo(i)&&(R=1);else if(typeof i=="string")R=DE(i,c,Ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case B:return i=fi(31,c,r,x),i.elementType=B,i.lanes=_,i;case N:return Sa(c.children,x,_,r);case P:R=8,x|=24;break;case V:return i=fi(12,c,r,x|2),i.elementType=V,i.lanes=_,i;case J:return i=fi(13,c,r,x),i.elementType=J,i.lanes=_,i;case K:return i=fi(19,c,r,x),i.elementType=K,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:R=10;break e;case D:R=9;break e;case G:R=11;break e;case te:R=14;break e;case re:R=16,f=null;break e}R=29,c=Error(s(130,i===null?"null":typeof i,"")),f=null}return r=fi(R,c,r,x),r.elementType=i,r.type=f,r.lanes=_,r}function Sa(i,r,c,f){return i=fi(7,i,f,r),i.lanes=c,i}function Rf(i,r,c){return i=fi(6,i,null,r),i.lanes=c,i}function H0(i){var r=fi(18,null,null,0);return r.stateNode=i,r}function If(i,r,c){return r=fi(4,i.children!==null?i.children:[],i.key,r),r.lanes=c,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var B0=new WeakMap;function Hi(i,r){if(typeof i=="object"&&i!==null){var c=B0.get(i);return c!==void 0?c:(r={value:i,source:r,stack:et(r)},B0.set(i,r),r)}return{value:i,source:r,stack:et(r)}}var So=[],No=0,bu=null,Yl=0,Bi=[],Gi=0,Ar=null,Ns=1,Cs="";function Js(i,r){So[No++]=Yl,So[No++]=bu,bu=i,Yl=r}function G0(i,r,c){Bi[Gi++]=Ns,Bi[Gi++]=Cs,Bi[Gi++]=Ar,Ar=i;var f=Ns;i=Cs;var x=32-rt(f)-1;f&=~(1<<x),c+=1;var _=32-rt(r)+x;if(30<_){var R=x-x%5;_=(f&(1<<R)-1).toString(32),f>>=R,x-=R,Ns=1<<32-rt(r)+x|c<<x|f,Cs=_+i}else Ns=1<<_|c<<x|f,Cs=i}function jf(i){i.return!==null&&(Js(i,1),G0(i,1,0))}function Mf(i){for(;i===bu;)bu=So[--No],So[No]=null,Yl=So[--No],So[No]=null;for(;i===Ar;)Ar=Bi[--Gi],Bi[Gi]=null,Cs=Bi[--Gi],Bi[Gi]=null,Ns=Bi[--Gi],Bi[Gi]=null}function q0(i,r){Bi[Gi++]=Ns,Bi[Gi++]=Cs,Bi[Gi++]=Ar,Ns=r.id,Cs=r.overflow,Ar=i}var Jn=null,un=null,Ut=!1,Rr=null,qi=!1,kf=Error(s(519));function Ir(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Hi(r,i)),kf}function $0(i){var r=i.stateNode,c=i.type,f=i.memoizedProps;switch(r[Bn]=i,r[Tn]=f,c){case"dialog":Dt("cancel",r),Dt("close",r);break;case"iframe":case"object":case"embed":Dt("load",r);break;case"video":case"audio":for(c=0;c<gc.length;c++)Dt(gc[c],r);break;case"source":Dt("error",r);break;case"img":case"image":case"link":Dt("error",r),Dt("load",r);break;case"details":Dt("toggle",r);break;case"input":Dt("invalid",r),kl(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Dt("invalid",r);break;case"textarea":Dt("invalid",r),wr(r,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||r.textContent===""+c||f.suppressHydrationWarning===!0||cx(r.textContent,c)?(f.popover!=null&&(Dt("beforetoggle",r),Dt("toggle",r)),f.onScroll!=null&&Dt("scroll",r),f.onScrollEnd!=null&&Dt("scrollend",r),f.onClick!=null&&(r.onclick=Ci),r=!0):r=!1,r||Ir(i,!0)}function Y0(i){for(Jn=i.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:qi=!1;return;case 27:case 3:qi=!0;return;default:Jn=Jn.return}}function Co(i){if(i!==Jn)return!1;if(!Ut)return Y0(i),Ut=!0,!1;var r=i.tag,c;if((c=r!==3&&r!==27)&&((c=r===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Xh(i.type,i.memoizedProps)),c=!c),c&&un&&Ir(i),Y0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));un=xx(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));un=xx(i)}else r===27?(r=un,Gr(i.type)?(i=np,np=null,un=i):un=r):un=Jn?Yi(i.stateNode.nextSibling):null;return!0}function Na(){un=Jn=null,Ut=!1}function Df(){var i=Rr;return i!==null&&(Ti===null?Ti=i:Ti.push.apply(Ti,i),Rr=null),i}function Wl(i){Rr===null?Rr=[i]:Rr.push(i)}var Pf=F(null),Ca=null,Xs=null;function jr(i,r,c){xe(Pf,r._currentValue),r._currentValue=c}function Qs(i){i._currentValue=Pf.current,ne(Pf)}function Of(i,r,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),i===c)break;i=i.return}}function Lf(i,r,c,f){var x=i.child;for(x!==null&&(x.return=i);x!==null;){var _=x.dependencies;if(_!==null){var R=x.child;_=_.firstContext;e:for(;_!==null;){var L=_;_=x;for(var X=0;X<r.length;X++)if(L.context===r[X]){_.lanes|=c,L=_.alternate,L!==null&&(L.lanes|=c),Of(_.return,c,i),f||(R=null);break e}_=L.next}}else if(x.tag===18){if(R=x.return,R===null)throw Error(s(341));R.lanes|=c,_=R.alternate,_!==null&&(_.lanes|=c),Of(R,c,i),R=null}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===i){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}}function Ao(i,r,c,f){i=null;for(var x=r,_=!1;x!==null;){if(!_){if((x.flags&524288)!==0)_=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var R=x.alternate;if(R===null)throw Error(s(387));if(R=R.memoizedProps,R!==null){var L=x.type;se(x.pendingProps.value,R.value)||(i!==null?i.push(L):i=[L])}}else if(x===Qe.current){if(R=x.alternate,R===null)throw Error(s(387));R.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(i!==null?i.push(wc):i=[wc])}x=x.return}i!==null&&Lf(r,i,c,f),r.flags|=262144}function wu(i){for(i=i.firstContext;i!==null;){if(!se(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Aa(i){Ca=i,Xs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xn(i){return W0(Ca,i)}function _u(i,r){return Ca===null&&Aa(i),W0(i,r)}function W0(i,r){var c=r._currentValue;if(r={context:r,memoizedValue:c,next:null},Xs===null){if(i===null)throw Error(s(308));Xs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Xs=Xs.next=r;return c}var IT=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(c,f){i.push(f)}};this.abort=function(){r.aborted=!0,i.forEach(function(c){return c()})}},jT=t.unstable_scheduleCallback,MT=t.unstable_NormalPriority,On={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new IT,data:new Map,refCount:0}}function Kl(i){i.refCount--,i.refCount===0&&jT(MT,function(){i.controller.abort()})}var Jl=null,Vf=0,Ro=0,Io=null;function kT(i,r){if(Jl===null){var c=Jl=[];Vf=0,Ro=Hh(),Io={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Vf++,r.then(K0,K0),r}function K0(){if(--Vf===0&&Jl!==null){Io!==null&&(Io.status="fulfilled");var i=Jl;Jl=null,Ro=0,Io=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function DT(i,r){var c=[],f={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return i.then(function(){f.status="fulfilled",f.value=r;for(var x=0;x<c.length;x++)(0,c[x])(r)},function(x){for(f.status="rejected",f.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),f}var J0=Y.S;Y.S=function(i,r){ky=Nt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&kT(i,r),J0!==null&&J0(i,r)};var Ra=F(null);function zf(){var i=Ra.current;return i!==null?i:rn.pooledCache}function Tu(i,r){r===null?xe(Ra,Ra.current):xe(Ra,r.pool)}function X0(){var i=zf();return i===null?null:{parent:On._currentValue,pool:i}}var jo=Error(s(460)),Ff=Error(s(474)),Eu=Error(s(542)),Su={then:function(){}};function Q0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Z0(i,r,c){switch(c=i[c],c===void 0?i.push(r):c!==r&&(r.then(Ci,Ci),r=c),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,tg(i),i;default:if(typeof r.status=="string")r.then(Ci,Ci);else{if(i=rn,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(f){if(r.status==="pending"){var x=r;x.status="fulfilled",x.value=f}},function(f){if(r.status==="pending"){var x=r;x.status="rejected",x.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,tg(i),i}throw ja=r,jo}}function Ia(i){try{var r=i._init;return r(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ja=c,jo):c}}var ja=null;function eg(){if(ja===null)throw Error(s(459));var i=ja;return ja=null,i}function tg(i){if(i===jo||i===Eu)throw Error(s(483))}var Mo=null,Xl=0;function Nu(i){var r=Xl;return Xl+=1,Mo===null&&(Mo=[]),Z0(Mo,i,r)}function Ql(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Cu(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function ng(i){function r(fe,ie){if(i){var pe=fe.deletions;pe===null?(fe.deletions=[ie],fe.flags|=16):pe.push(ie)}}function c(fe,ie){if(!i)return null;for(;ie!==null;)r(fe,ie),ie=ie.sibling;return null}function f(fe){for(var ie=new Map;fe!==null;)fe.key!==null?ie.set(fe.key,fe):ie.set(fe.index,fe),fe=fe.sibling;return ie}function x(fe,ie){return fe=Ks(fe,ie),fe.index=0,fe.sibling=null,fe}function _(fe,ie,pe){return fe.index=pe,i?(pe=fe.alternate,pe!==null?(pe=pe.index,pe<ie?(fe.flags|=67108866,ie):pe):(fe.flags|=67108866,ie)):(fe.flags|=1048576,ie)}function R(fe){return i&&fe.alternate===null&&(fe.flags|=67108866),fe}function L(fe,ie,pe,Te){return ie===null||ie.tag!==6?(ie=Rf(pe,fe.mode,Te),ie.return=fe,ie):(ie=x(ie,pe),ie.return=fe,ie)}function X(fe,ie,pe,Te){var at=pe.type;return at===N?_e(fe,ie,pe.props.children,Te,pe.key):ie!==null&&(ie.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===re&&Ia(at)===ie.type)?(ie=x(ie,pe.props),Ql(ie,pe),ie.return=fe,ie):(ie=vu(pe.type,pe.key,pe.props,null,fe.mode,Te),Ql(ie,pe),ie.return=fe,ie)}function me(fe,ie,pe,Te){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==pe.containerInfo||ie.stateNode.implementation!==pe.implementation?(ie=If(pe,fe.mode,Te),ie.return=fe,ie):(ie=x(ie,pe.children||[]),ie.return=fe,ie)}function _e(fe,ie,pe,Te,at){return ie===null||ie.tag!==7?(ie=Sa(pe,fe.mode,Te,at),ie.return=fe,ie):(ie=x(ie,pe),ie.return=fe,ie)}function Se(fe,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Rf(""+ie,fe.mode,pe),ie.return=fe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case S:return pe=vu(ie.type,ie.key,ie.props,null,fe.mode,pe),Ql(pe,ie),pe.return=fe,pe;case j:return ie=If(ie,fe.mode,pe),ie.return=fe,ie;case re:return ie=Ia(ie),Se(fe,ie,pe)}if(de(ie)||ce(ie))return ie=Sa(ie,fe.mode,pe,null),ie.return=fe,ie;if(typeof ie.then=="function")return Se(fe,Nu(ie),pe);if(ie.$$typeof===k)return Se(fe,_u(fe,ie),pe);Cu(fe,ie)}return null}function ye(fe,ie,pe,Te){var at=ie!==null?ie.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return at!==null?null:L(fe,ie,""+pe,Te);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:return pe.key===at?X(fe,ie,pe,Te):null;case j:return pe.key===at?me(fe,ie,pe,Te):null;case re:return pe=Ia(pe),ye(fe,ie,pe,Te)}if(de(pe)||ce(pe))return at!==null?null:_e(fe,ie,pe,Te,null);if(typeof pe.then=="function")return ye(fe,ie,Nu(pe),Te);if(pe.$$typeof===k)return ye(fe,ie,_u(fe,pe),Te);Cu(fe,pe)}return null}function we(fe,ie,pe,Te,at){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return fe=fe.get(pe)||null,L(ie,fe,""+Te,at);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case S:return fe=fe.get(Te.key===null?pe:Te.key)||null,X(ie,fe,Te,at);case j:return fe=fe.get(Te.key===null?pe:Te.key)||null,me(ie,fe,Te,at);case re:return Te=Ia(Te),we(fe,ie,pe,Te,at)}if(de(Te)||ce(Te))return fe=fe.get(pe)||null,_e(ie,fe,Te,at,null);if(typeof Te.then=="function")return we(fe,ie,pe,Nu(Te),at);if(Te.$$typeof===k)return we(fe,ie,pe,_u(ie,Te),at);Cu(ie,Te)}return null}function We(fe,ie,pe,Te){for(var at=null,Bt=null,Je=ie,St=ie=0,Lt=null;Je!==null&&St<pe.length;St++){Je.index>St?(Lt=Je,Je=null):Lt=Je.sibling;var Gt=ye(fe,Je,pe[St],Te);if(Gt===null){Je===null&&(Je=Lt);break}i&&Je&&Gt.alternate===null&&r(fe,Je),ie=_(Gt,ie,St),Bt===null?at=Gt:Bt.sibling=Gt,Bt=Gt,Je=Lt}if(St===pe.length)return c(fe,Je),Ut&&Js(fe,St),at;if(Je===null){for(;St<pe.length;St++)Je=Se(fe,pe[St],Te),Je!==null&&(ie=_(Je,ie,St),Bt===null?at=Je:Bt.sibling=Je,Bt=Je);return Ut&&Js(fe,St),at}for(Je=f(Je);St<pe.length;St++)Lt=we(Je,fe,St,pe[St],Te),Lt!==null&&(i&&Lt.alternate!==null&&Je.delete(Lt.key===null?St:Lt.key),ie=_(Lt,ie,St),Bt===null?at=Lt:Bt.sibling=Lt,Bt=Lt);return i&&Je.forEach(function(Kr){return r(fe,Kr)}),Ut&&Js(fe,St),at}function ct(fe,ie,pe,Te){if(pe==null)throw Error(s(151));for(var at=null,Bt=null,Je=ie,St=ie=0,Lt=null,Gt=pe.next();Je!==null&&!Gt.done;St++,Gt=pe.next()){Je.index>St?(Lt=Je,Je=null):Lt=Je.sibling;var Kr=ye(fe,Je,Gt.value,Te);if(Kr===null){Je===null&&(Je=Lt);break}i&&Je&&Kr.alternate===null&&r(fe,Je),ie=_(Kr,ie,St),Bt===null?at=Kr:Bt.sibling=Kr,Bt=Kr,Je=Lt}if(Gt.done)return c(fe,Je),Ut&&Js(fe,St),at;if(Je===null){for(;!Gt.done;St++,Gt=pe.next())Gt=Se(fe,Gt.value,Te),Gt!==null&&(ie=_(Gt,ie,St),Bt===null?at=Gt:Bt.sibling=Gt,Bt=Gt);return Ut&&Js(fe,St),at}for(Je=f(Je);!Gt.done;St++,Gt=pe.next())Gt=we(Je,fe,St,Gt.value,Te),Gt!==null&&(i&&Gt.alternate!==null&&Je.delete(Gt.key===null?St:Gt.key),ie=_(Gt,ie,St),Bt===null?at=Gt:Bt.sibling=Gt,Bt=Gt);return i&&Je.forEach(function(qE){return r(fe,qE)}),Ut&&Js(fe,St),at}function tn(fe,ie,pe,Te){if(typeof pe=="object"&&pe!==null&&pe.type===N&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case S:e:{for(var at=pe.key;ie!==null;){if(ie.key===at){if(at=pe.type,at===N){if(ie.tag===7){c(fe,ie.sibling),Te=x(ie,pe.props.children),Te.return=fe,fe=Te;break e}}else if(ie.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===re&&Ia(at)===ie.type){c(fe,ie.sibling),Te=x(ie,pe.props),Ql(Te,pe),Te.return=fe,fe=Te;break e}c(fe,ie);break}else r(fe,ie);ie=ie.sibling}pe.type===N?(Te=Sa(pe.props.children,fe.mode,Te,pe.key),Te.return=fe,fe=Te):(Te=vu(pe.type,pe.key,pe.props,null,fe.mode,Te),Ql(Te,pe),Te.return=fe,fe=Te)}return R(fe);case j:e:{for(at=pe.key;ie!==null;){if(ie.key===at)if(ie.tag===4&&ie.stateNode.containerInfo===pe.containerInfo&&ie.stateNode.implementation===pe.implementation){c(fe,ie.sibling),Te=x(ie,pe.children||[]),Te.return=fe,fe=Te;break e}else{c(fe,ie);break}else r(fe,ie);ie=ie.sibling}Te=If(pe,fe.mode,Te),Te.return=fe,fe=Te}return R(fe);case re:return pe=Ia(pe),tn(fe,ie,pe,Te)}if(de(pe))return We(fe,ie,pe,Te);if(ce(pe)){if(at=ce(pe),typeof at!="function")throw Error(s(150));return pe=at.call(pe),ct(fe,ie,pe,Te)}if(typeof pe.then=="function")return tn(fe,ie,Nu(pe),Te);if(pe.$$typeof===k)return tn(fe,ie,_u(fe,pe),Te);Cu(fe,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ie!==null&&ie.tag===6?(c(fe,ie.sibling),Te=x(ie,pe),Te.return=fe,fe=Te):(c(fe,ie),Te=Rf(pe,fe.mode,Te),Te.return=fe,fe=Te),R(fe)):c(fe,ie)}return function(fe,ie,pe,Te){try{Xl=0;var at=tn(fe,ie,pe,Te);return Mo=null,at}catch(Je){if(Je===jo||Je===Eu)throw Je;var Bt=fi(29,Je,null,fe.mode);return Bt.lanes=Te,Bt.return=fe,Bt}finally{}}}var Ma=ng(!0),ig=ng(!1),Mr=!1;function Hf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function kr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Dr(i,r,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Wt&2)!==0){var x=f.pending;return x===null?r.next=r:(r.next=x.next,x.next=r),f.pending=r,r=Ea(i),Ss(i,null,c),r}return Es(i,f,r,c),Ea(i)}function Zl(i,r,c){if(r=r.updateQueue,r!==null&&(r=r.shared,(c&4194048)!==0)){var f=r.lanes;f&=i.pendingLanes,c|=f,r.lanes=c,vr(i,c)}}function Gf(i,r){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var x=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var R={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?x=_=R:_=_.next=R,c=c.next}while(c!==null);_===null?x=_=r:_=_.next=r}else x=_=r;c={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:f.shared,callbacks:f.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=r:i.next=r,c.lastBaseUpdate=r}var qf=!1;function ec(){if(qf){var i=Io;if(i!==null)throw i}}function tc(i,r,c,f){qf=!1;var x=i.updateQueue;Mr=!1;var _=x.firstBaseUpdate,R=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var X=L,me=X.next;X.next=null,R===null?_=me:R.next=me,R=X;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,L=_e.lastBaseUpdate,L!==R&&(L===null?_e.firstBaseUpdate=me:L.next=me,_e.lastBaseUpdate=X))}if(_!==null){var Se=x.baseState;R=0,_e=me=X=null,L=_;do{var ye=L.lane&-536870913,we=ye!==L.lane;if(we?(Ot&ye)===ye:(f&ye)===ye){ye!==0&&ye===Ro&&(qf=!0),_e!==null&&(_e=_e.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var We=i,ct=L;ye=r;var tn=c;switch(ct.tag){case 1:if(We=ct.payload,typeof We=="function"){Se=We.call(tn,Se,ye);break e}Se=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=ct.payload,ye=typeof We=="function"?We.call(tn,Se,ye):We,ye==null)break e;Se=b({},Se,ye);break e;case 2:Mr=!0}}ye=L.callback,ye!==null&&(i.flags|=64,we&&(i.flags|=8192),we=x.callbacks,we===null?x.callbacks=[ye]:we.push(ye))}else we={lane:ye,tag:L.tag,payload:L.payload,callback:L.callback,next:null},_e===null?(me=_e=we,X=Se):_e=_e.next=we,R|=ye;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;we=L,L=we.next,we.next=null,x.lastBaseUpdate=we,x.shared.pending=null}}while(!0);_e===null&&(X=Se),x.baseState=X,x.firstBaseUpdate=me,x.lastBaseUpdate=_e,_===null&&(x.shared.lanes=0),Vr|=R,i.lanes=R,i.memoizedState=Se}}function sg(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function rg(i,r){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)sg(c[i],r)}var ko=F(null),Au=F(0);function ag(i,r){i=or,xe(Au,i),xe(ko,r),or=i|r.baseLanes}function $f(){xe(Au,or),xe(ko,ko.current)}function Yf(){or=Au.current,ne(ko),ne(Au)}var Ai=F(null),$i=null;function Pr(i){var r=i.alternate;xe(In,In.current&1),xe(Ai,i),$i===null&&(r===null||ko.current!==null||r.memoizedState!==null)&&($i=i)}function Wf(i){xe(In,In.current),xe(Ai,i),$i===null&&($i=i)}function og(i){i.tag===22?(xe(In,In.current),xe(Ai,i),$i===null&&($i=i)):Or()}function Or(){xe(In,In.current),xe(Ai,Ai.current)}function Ri(i){ne(Ai),$i===i&&($i=null),ne(In)}var In=F(0);function Ru(i){for(var r=i;r!==null;){if(r.tag===13){var c=r.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||ep(c)||tp(c)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Zs=0,Tt=null,Zt=null,Ln=null,Iu=!1,Do=!1,ka=!1,ju=0,nc=0,Po=null,PT=0;function Nn(){throw Error(s(321))}function Kf(i,r){if(r===null)return!1;for(var c=0;c<r.length&&c<i.length;c++)if(!se(i[c],r[c]))return!1;return!0}function Jf(i,r,c,f,x,_){return Zs=_,Tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?Gg:dh,ka=!1,_=c(f,x),ka=!1,Do&&(_=cg(r,c,f,x)),lg(i),_}function lg(i){Y.H=rc;var r=Zt!==null&&Zt.next!==null;if(Zs=0,Ln=Zt=Tt=null,Iu=!1,nc=0,Po=null,r)throw Error(s(300));i===null||Un||(i=i.dependencies,i!==null&&wu(i)&&(Un=!0))}function cg(i,r,c,f){Tt=i;var x=0;do{if(Do&&(Po=null),nc=0,Do=!1,25<=x)throw Error(s(301));if(x+=1,Ln=Zt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Y.H=qg,_=r(c,f)}while(Do);return _}function OT(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?ic(r):r,i=i.useState()[0],(Zt!==null?Zt.memoizedState:null)!==i&&(Tt.flags|=1024),r}function Xf(){var i=ju!==0;return ju=0,i}function Qf(i,r,c){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~c}function Zf(i){if(Iu){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Iu=!1}Zs=0,Ln=Zt=Tt=null,Do=!1,nc=ju=0,Po=null}function hi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Tt.memoizedState=Ln=i:Ln=Ln.next=i,Ln}function jn(){if(Zt===null){var i=Tt.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var r=Ln===null?Tt.memoizedState:Ln.next;if(r!==null)Ln=r,Zt=i;else{if(i===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ln===null?Tt.memoizedState=Ln=i:Ln=Ln.next=i}return Ln}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ic(i){var r=nc;return nc+=1,Po===null&&(Po=[]),i=Z0(Po,i,r),r=Tt,(Ln===null?r.memoizedState:Ln.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Gg:dh),i}function ku(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ic(i);if(i.$$typeof===k)return Xn(i)}throw Error(s(438,String(i)))}function eh(i){var r=null,c=Tt.updateQueue;if(c!==null&&(r=c.memoCache),r==null){var f=Tt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(x){return x.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),c===null&&(c=Mu(),Tt.updateQueue=c),c.memoCache=r,c=r.data[r.index],c===void 0)for(c=r.data[r.index]=Array(i),f=0;f<i;f++)c[f]=oe;return r.index++,c}function er(i,r){return typeof r=="function"?r(i):r}function Du(i){var r=jn();return th(r,Zt,i)}function th(i,r,c){var f=i.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=c;var x=i.baseQueue,_=f.pending;if(_!==null){if(x!==null){var R=x.next;x.next=_.next,_.next=R}r.baseQueue=x=_,f.pending=null}if(_=i.baseState,x===null)i.memoizedState=_;else{r=x.next;var L=R=null,X=null,me=r,_e=!1;do{var Se=me.lane&-536870913;if(Se!==me.lane?(Ot&Se)===Se:(Zs&Se)===Se){var ye=me.revertLane;if(ye===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Se===Ro&&(_e=!0);else if((Zs&ye)===ye){me=me.next,ye===Ro&&(_e=!0);continue}else Se={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},X===null?(L=X=Se,R=_):X=X.next=Se,Tt.lanes|=ye,Vr|=ye;Se=me.action,ka&&c(_,Se),_=me.hasEagerState?me.eagerState:c(_,Se)}else ye={lane:Se,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},X===null?(L=X=ye,R=_):X=X.next=ye,Tt.lanes|=Se,Vr|=Se;me=me.next}while(me!==null&&me!==r);if(X===null?R=_:X.next=L,!se(_,i.memoizedState)&&(Un=!0,_e&&(c=Io,c!==null)))throw c;i.memoizedState=_,i.baseState=R,i.baseQueue=X,f.lastRenderedState=_}return x===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function nh(i){var r=jn(),c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=i;var f=c.dispatch,x=c.pending,_=r.memoizedState;if(x!==null){c.pending=null;var R=x=x.next;do _=i(_,R.action),R=R.next;while(R!==x);se(_,r.memoizedState)||(Un=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),c.lastRenderedState=_}return[_,f]}function ug(i,r,c){var f=Tt,x=jn(),_=Ut;if(_){if(c===void 0)throw Error(s(407));c=c()}else c=r();var R=!se((Zt||x).memoizedState,c);if(R&&(x.memoizedState=c,Un=!0),x=x.queue,rh(hg.bind(null,f,x,i),[i]),x.getSnapshot!==r||R||Ln!==null&&Ln.memoizedState.tag&1){if(f.flags|=2048,Oo(9,{destroy:void 0},fg.bind(null,f,x,c,r),null),rn===null)throw Error(s(349));_||(Zs&127)!==0||dg(f,r,c)}return c}function dg(i,r,c){i.flags|=16384,i={getSnapshot:r,value:c},r=Tt.updateQueue,r===null?(r=Mu(),Tt.updateQueue=r,r.stores=[i]):(c=r.stores,c===null?r.stores=[i]:c.push(i))}function fg(i,r,c,f){r.value=c,r.getSnapshot=f,pg(r)&&mg(i)}function hg(i,r,c){return c(function(){pg(r)&&mg(i)})}function pg(i){var r=i.getSnapshot;i=i.value;try{var c=r();return!se(i,c)}catch{return!0}}function mg(i){var r=di(i,2);r!==null&&Ei(r,i,2)}function ih(i){var r=hi();if(typeof i=="function"){var c=i;if(i=c(),ka){Ue(!0);try{c()}finally{Ue(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:i},r}function gg(i,r,c,f){return i.baseState=c,th(i,Zt,typeof f=="function"?f:er)}function LT(i,r,c,f,x){if(Lu(i))throw Error(s(485));if(i=r.action,i!==null){var _={payload:x,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};Y.T!==null?c(!0):_.isTransition=!1,f(_),c=r.pending,c===null?(_.next=r.pending=_,yg(r,_)):(_.next=c.next,r.pending=c.next=_)}}function yg(i,r){var c=r.action,f=r.payload,x=i.state;if(r.isTransition){var _=Y.T,R={};Y.T=R;try{var L=c(x,f),X=Y.S;X!==null&&X(R,L),xg(i,r,L)}catch(me){sh(i,r,me)}finally{_!==null&&R.types!==null&&(_.types=R.types),Y.T=_}}else try{_=c(x,f),xg(i,r,_)}catch(me){sh(i,r,me)}}function xg(i,r,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){vg(i,r,f)},function(f){return sh(i,r,f)}):vg(i,r,c)}function vg(i,r,c){r.status="fulfilled",r.value=c,bg(r),i.state=c,r=i.pending,r!==null&&(c=r.next,c===r?i.pending=null:(c=c.next,r.next=c,yg(i,c)))}function sh(i,r,c){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=c,bg(r),r=r.next;while(r!==f)}i.action=null}function bg(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function wg(i,r){return r}function _g(i,r){if(Ut){var c=rn.formState;if(c!==null){e:{var f=Tt;if(Ut){if(un){t:{for(var x=un,_=qi;x.nodeType!==8;){if(!_){x=null;break t}if(x=Yi(x.nextSibling),x===null){x=null;break t}}_=x.data,x=_==="F!"||_==="F"?x:null}if(x){un=Yi(x.nextSibling),f=x.data==="F!";break e}}Ir(f)}f=!1}f&&(r=c[0])}}return c=hi(),c.memoizedState=c.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:r},c.queue=f,c=Fg.bind(null,Tt,f),f.dispatch=c,f=ih(!1),_=uh.bind(null,Tt,!1,f.queue),f=hi(),x={state:r,dispatch:null,action:i,pending:null},f.queue=x,c=LT.bind(null,Tt,x,_,c),x.dispatch=c,f.memoizedState=i,[r,c,!1]}function Tg(i){var r=jn();return Eg(r,Zt,i)}function Eg(i,r,c){if(r=th(i,r,wg)[0],i=Du(er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=ic(r)}catch(R){throw R===jo?Eu:R}else f=r;r=jn();var x=r.queue,_=x.dispatch;return c!==r.memoizedState&&(Tt.flags|=2048,Oo(9,{destroy:void 0},UT.bind(null,x,c),null)),[f,_,i]}function UT(i,r){i.action=r}function Sg(i){var r=jn(),c=Zt;if(c!==null)return Eg(r,c,i);jn(),r=r.memoizedState,c=jn();var f=c.queue.dispatch;return c.memoizedState=i,[r,f,!1]}function Oo(i,r,c,f){return i={tag:i,create:c,deps:f,inst:r,next:null},r=Tt.updateQueue,r===null&&(r=Mu(),Tt.updateQueue=r),c=r.lastEffect,c===null?r.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,r.lastEffect=i),i}function Ng(){return jn().memoizedState}function Pu(i,r,c,f){var x=hi();Tt.flags|=i,x.memoizedState=Oo(1|r,{destroy:void 0},c,f===void 0?null:f)}function Ou(i,r,c,f){var x=jn();f=f===void 0?null:f;var _=x.memoizedState.inst;Zt!==null&&f!==null&&Kf(f,Zt.memoizedState.deps)?x.memoizedState=Oo(r,_,c,f):(Tt.flags|=i,x.memoizedState=Oo(1|r,_,c,f))}function Cg(i,r){Pu(8390656,8,i,r)}function rh(i,r){Ou(2048,8,i,r)}function VT(i){Tt.flags|=4;var r=Tt.updateQueue;if(r===null)r=Mu(),Tt.updateQueue=r,r.events=[i];else{var c=r.events;c===null?r.events=[i]:c.push(i)}}function Ag(i){var r=jn().memoizedState;return VT({ref:r,nextImpl:i}),function(){if((Wt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Rg(i,r){return Ou(4,2,i,r)}function Ig(i,r){return Ou(4,4,i,r)}function jg(i,r){if(typeof r=="function"){i=i();var c=r(i);return function(){typeof c=="function"?c():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Mg(i,r,c){c=c!=null?c.concat([i]):null,Ou(4,4,jg.bind(null,r,i),c)}function ah(){}function kg(i,r){var c=jn();r=r===void 0?null:r;var f=c.memoizedState;return r!==null&&Kf(r,f[1])?f[0]:(c.memoizedState=[i,r],i)}function Dg(i,r){var c=jn();r=r===void 0?null:r;var f=c.memoizedState;if(r!==null&&Kf(r,f[1]))return f[0];if(f=i(),ka){Ue(!0);try{i()}finally{Ue(!1)}}return c.memoizedState=[f,r],f}function oh(i,r,c){return c===void 0||(Zs&1073741824)!==0&&(Ot&261930)===0?i.memoizedState=r:(i.memoizedState=c,i=Py(),Tt.lanes|=i,Vr|=i,c)}function Pg(i,r,c,f){return se(c,r)?c:ko.current!==null?(i=oh(i,c,f),se(i,r)||(Un=!0),i):(Zs&42)===0||(Zs&1073741824)!==0&&(Ot&261930)===0?(Un=!0,i.memoizedState=c):(i=Py(),Tt.lanes|=i,Vr|=i,r)}function Og(i,r,c,f,x){var _=Z.p;Z.p=_!==0&&8>_?_:8;var R=Y.T,L={};Y.T=L,uh(i,!1,r,c);try{var X=x(),me=Y.S;if(me!==null&&me(L,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var _e=DT(X,f);sc(i,r,_e,Mi(i))}else sc(i,r,f,Mi(i))}catch(Se){sc(i,r,{then:function(){},status:"rejected",reason:Se},Mi())}finally{Z.p=_,R!==null&&L.types!==null&&(R.types=L.types),Y.T=R}}function zT(){}function lh(i,r,c,f){if(i.tag!==5)throw Error(s(476));var x=Lg(i).queue;Og(i,x,r,Q,c===null?zT:function(){return Ug(i),c(f)})}function Lg(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:Q},next:null};var c={};return r.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:c},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Ug(i){var r=Lg(i);r.next===null&&(r=i.alternate.memoizedState),sc(i,r.next.queue,{},Mi())}function ch(){return Xn(wc)}function Vg(){return jn().memoizedState}function zg(){return jn().memoizedState}function FT(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var c=Mi();i=kr(c);var f=Dr(r,i,c);f!==null&&(Ei(f,r,c),Zl(f,r,c)),r={cache:Uf()},i.payload=r;return}r=r.return}}function HT(i,r,c){var f=Mi();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Lu(i)?Hg(r,c):(c=Ys(i,r,c,f),c!==null&&(Ei(c,i,f),Bg(c,r,f)))}function Fg(i,r,c){var f=Mi();sc(i,r,c,f)}function sc(i,r,c,f){var x={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Lu(i))Hg(r,x);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var R=r.lastRenderedState,L=_(R,c);if(x.hasEagerState=!0,x.eagerState=L,se(L,R))return Es(i,r,x,0),rn===null&&Ta(),!1}catch{}finally{}if(c=Ys(i,r,x,f),c!==null)return Ei(c,i,f),Bg(c,r,f),!0}return!1}function uh(i,r,c,f){if(f={lane:2,revertLane:Hh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Lu(i)){if(r)throw Error(s(479))}else r=Ys(i,c,f,2),r!==null&&Ei(r,i,2)}function Lu(i){var r=i.alternate;return i===Tt||r!==null&&r===Tt}function Hg(i,r){Do=Iu=!0;var c=i.pending;c===null?r.next=r:(r.next=c.next,c.next=r),i.pending=r}function Bg(i,r,c){if((c&4194048)!==0){var f=r.lanes;f&=i.pendingLanes,c|=f,r.lanes=c,vr(i,c)}}var rc={readContext:Xn,use:ku,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn};rc.useEffectEvent=Nn;var Gg={readContext:Xn,use:ku,useCallback:function(i,r){return hi().memoizedState=[i,r===void 0?null:r],i},useContext:Xn,useEffect:Cg,useImperativeHandle:function(i,r,c){c=c!=null?c.concat([i]):null,Pu(4194308,4,jg.bind(null,r,i),c)},useLayoutEffect:function(i,r){return Pu(4194308,4,i,r)},useInsertionEffect:function(i,r){Pu(4,2,i,r)},useMemo:function(i,r){var c=hi();r=r===void 0?null:r;var f=i();if(ka){Ue(!0);try{i()}finally{Ue(!1)}}return c.memoizedState=[f,r],f},useReducer:function(i,r,c){var f=hi();if(c!==void 0){var x=c(r);if(ka){Ue(!0);try{c(r)}finally{Ue(!1)}}}else x=r;return f.memoizedState=f.baseState=x,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:x},f.queue=i,i=i.dispatch=HT.bind(null,Tt,i),[f.memoizedState,i]},useRef:function(i){var r=hi();return i={current:i},r.memoizedState=i},useState:function(i){i=ih(i);var r=i.queue,c=Fg.bind(null,Tt,r);return r.dispatch=c,[i.memoizedState,c]},useDebugValue:ah,useDeferredValue:function(i,r){var c=hi();return oh(c,i,r)},useTransition:function(){var i=ih(!1);return i=Og.bind(null,Tt,i.queue,!0,!1),hi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,c){var f=Tt,x=hi();if(Ut){if(c===void 0)throw Error(s(407));c=c()}else{if(c=r(),rn===null)throw Error(s(349));(Ot&127)!==0||dg(f,r,c)}x.memoizedState=c;var _={value:c,getSnapshot:r};return x.queue=_,Cg(hg.bind(null,f,_,i),[i]),f.flags|=2048,Oo(9,{destroy:void 0},fg.bind(null,f,_,c,r),null),c},useId:function(){var i=hi(),r=rn.identifierPrefix;if(Ut){var c=Cs,f=Ns;c=(f&~(1<<32-rt(f)-1)).toString(32)+c,r="_"+r+"R_"+c,c=ju++,0<c&&(r+="H"+c.toString(32)),r+="_"}else c=PT++,r="_"+r+"r_"+c.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:ch,useFormState:_g,useActionState:_g,useOptimistic:function(i){var r=hi();r.memoizedState=r.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=c,r=uh.bind(null,Tt,!0,c),c.dispatch=r,[i,r]},useMemoCache:eh,useCacheRefresh:function(){return hi().memoizedState=FT.bind(null,Tt)},useEffectEvent:function(i){var r=hi(),c={impl:i};return r.memoizedState=c,function(){if((Wt&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},dh={readContext:Xn,use:ku,useCallback:kg,useContext:Xn,useEffect:rh,useImperativeHandle:Mg,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:Dg,useReducer:Du,useRef:Ng,useState:function(){return Du(er)},useDebugValue:ah,useDeferredValue:function(i,r){var c=jn();return Pg(c,Zt.memoizedState,i,r)},useTransition:function(){var i=Du(er)[0],r=jn().memoizedState;return[typeof i=="boolean"?i:ic(i),r]},useSyncExternalStore:ug,useId:Vg,useHostTransitionStatus:ch,useFormState:Tg,useActionState:Tg,useOptimistic:function(i,r){var c=jn();return gg(c,Zt,i,r)},useMemoCache:eh,useCacheRefresh:zg};dh.useEffectEvent=Ag;var qg={readContext:Xn,use:ku,useCallback:kg,useContext:Xn,useEffect:rh,useImperativeHandle:Mg,useInsertionEffect:Rg,useLayoutEffect:Ig,useMemo:Dg,useReducer:nh,useRef:Ng,useState:function(){return nh(er)},useDebugValue:ah,useDeferredValue:function(i,r){var c=jn();return Zt===null?oh(c,i,r):Pg(c,Zt.memoizedState,i,r)},useTransition:function(){var i=nh(er)[0],r=jn().memoizedState;return[typeof i=="boolean"?i:ic(i),r]},useSyncExternalStore:ug,useId:Vg,useHostTransitionStatus:ch,useFormState:Sg,useActionState:Sg,useOptimistic:function(i,r){var c=jn();return Zt!==null?gg(c,Zt,i,r):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:eh,useCacheRefresh:zg};qg.useEffectEvent=Ag;function fh(i,r,c,f){r=i.memoizedState,c=c(f,r),c=c==null?r:b({},r,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var hh={enqueueSetState:function(i,r,c){i=i._reactInternals;var f=Mi(),x=kr(f);x.payload=r,c!=null&&(x.callback=c),r=Dr(i,x,f),r!==null&&(Ei(r,i,f),Zl(r,i,f))},enqueueReplaceState:function(i,r,c){i=i._reactInternals;var f=Mi(),x=kr(f);x.tag=1,x.payload=r,c!=null&&(x.callback=c),r=Dr(i,x,f),r!==null&&(Ei(r,i,f),Zl(r,i,f))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var c=Mi(),f=kr(c);f.tag=2,r!=null&&(f.callback=r),r=Dr(i,f,c),r!==null&&(Ei(r,i,c),Zl(r,i,c))}};function $g(i,r,c,f,x,_,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,_,R):r.prototype&&r.prototype.isPureReactComponent?!ve(c,f)||!ve(x,_):!0}function Yg(i,r,c,f){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(c,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(c,f),r.state!==i&&hh.enqueueReplaceState(r,r.state,null)}function Da(i,r){var c=r;if("ref"in r){c={};for(var f in r)f!=="ref"&&(c[f]=r[f])}if(i=i.defaultProps){c===r&&(c=b({},c));for(var x in i)c[x]===void 0&&(c[x]=i[x])}return c}function Wg(i){vn(i)}function Kg(i){console.error(i)}function Jg(i){vn(i)}function Uu(i,r){try{var c=i.onUncaughtError;c(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function Xg(i,r,c){try{var f=i.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function ph(i,r,c){return c=kr(c),c.tag=3,c.payload={element:null},c.callback=function(){Uu(i,r)},c}function Qg(i){return i=kr(i),i.tag=3,i}function Zg(i,r,c,f){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var _=f.value;i.payload=function(){return x(_)},i.callback=function(){Xg(r,c,f)}}var R=c.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){Xg(r,c,f),typeof x!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var L=f.stack;this.componentDidCatch(f.value,{componentStack:L!==null?L:""})})}function BT(i,r,c,f,x){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=c.alternate,r!==null&&Ao(r,c,x,!0),c=Ai.current,c!==null){switch(c.tag){case 31:case 13:return $i===null?Ju():c.alternate===null&&Cn===0&&(Cn=3),c.flags&=-257,c.flags|=65536,c.lanes=x,f===Su?c.flags|=16384:(r=c.updateQueue,r===null?c.updateQueue=new Set([f]):r.add(f),Vh(i,f,x)),!1;case 22:return c.flags|=65536,f===Su?c.flags|=16384:(r=c.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=r):(c=r.retryQueue,c===null?r.retryQueue=new Set([f]):c.add(f)),Vh(i,f,x)),!1}throw Error(s(435,c.tag))}return Vh(i,f,x),Ju(),!1}if(Ut)return r=Ai.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=x,f!==kf&&(i=Error(s(422),{cause:f}),Wl(Hi(i,c)))):(f!==kf&&(r=Error(s(423),{cause:f}),Wl(Hi(r,c))),i=i.current.alternate,i.flags|=65536,x&=-x,i.lanes|=x,f=Hi(f,c),x=ph(i.stateNode,f,x),Gf(i,x),Cn!==4&&(Cn=2)),!1;var _=Error(s(520),{cause:f});if(_=Hi(_,c),hc===null?hc=[_]:hc.push(_),Cn!==4&&(Cn=2),r===null)return!0;f=Hi(f,c),c=r;do{switch(c.tag){case 3:return c.flags|=65536,i=x&-x,c.lanes|=i,i=ph(c.stateNode,f,i),Gf(c,i),!1;case 1:if(r=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(zr===null||!zr.has(_))))return c.flags|=65536,x&=-x,c.lanes|=x,x=Qg(x),Zg(x,i,c,f),Gf(c,x),!1}c=c.return}while(c!==null);return!1}var mh=Error(s(461)),Un=!1;function Qn(i,r,c,f){r.child=i===null?ig(r,null,c,f):Ma(r,i.child,c,f)}function ey(i,r,c,f,x){c=c.render;var _=r.ref;if("ref"in f){var R={};for(var L in f)L!=="ref"&&(R[L]=f[L])}else R=f;return Aa(r),f=Jf(i,r,c,R,_,x),L=Xf(),i!==null&&!Un?(Qf(i,r,x),tr(i,r,x)):(Ut&&L&&jf(r),r.flags|=1,Qn(i,r,f,x),r.child)}function ty(i,r,c,f,x){if(i===null){var _=c.type;return typeof _=="function"&&!Eo(_)&&_.defaultProps===void 0&&c.compare===null?(r.tag=15,r.type=_,ny(i,r,_,f,x)):(i=vu(c.type,null,f,r,r.mode,x),i.ref=r.ref,i.return=r,r.child=i)}if(_=i.child,!Th(i,x)){var R=_.memoizedProps;if(c=c.compare,c=c!==null?c:ve,c(R,f)&&i.ref===r.ref)return tr(i,r,x)}return r.flags|=1,i=Ks(_,f),i.ref=r.ref,i.return=r,r.child=i}function ny(i,r,c,f,x){if(i!==null){var _=i.memoizedProps;if(ve(_,f)&&i.ref===r.ref)if(Un=!1,r.pendingProps=f=_,Th(i,x))(i.flags&131072)!==0&&(Un=!0);else return r.lanes=i.lanes,tr(i,r,x)}return gh(i,r,c,f,x)}function iy(i,r,c,f){var x=f.children,_=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((r.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,i!==null){for(f=r.child=i.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;f=x&~_}else f=0,r.child=null;return sy(i,r,_,c,f)}if((c&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Tu(r,_!==null?_.cachePool:null),_!==null?ag(r,_):$f(),og(r);else return f=r.lanes=536870912,sy(i,r,_!==null?_.baseLanes|c:c,c,f)}else _!==null?(Tu(r,_.cachePool),ag(r,_),Or(),r.memoizedState=null):(i!==null&&Tu(r,null),$f(),Or());return Qn(i,r,x,c),r.child}function ac(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function sy(i,r,c,f,x){var _=zf();return _=_===null?null:{parent:On._currentValue,pool:_},r.memoizedState={baseLanes:c,cachePool:_},i!==null&&Tu(r,null),$f(),og(r),i!==null&&Ao(i,r,f,!0),r.childLanes=x,null}function Vu(i,r){return r=Fu({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function ry(i,r,c){return Ma(r,i.child,null,c),i=Vu(r,r.pendingProps),i.flags|=2,Ri(r),r.memoizedState=null,i}function GT(i,r,c){var f=r.pendingProps,x=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Ut){if(f.mode==="hidden")return i=Vu(r,f),r.lanes=536870912,ac(null,i);if(Wf(r),(i=un)?(i=yx(i,qi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ar!==null?{id:Ns,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},c=H0(i),c.return=r,r.child=c,Jn=r,un=null)):i=null,i===null)throw Ir(r);return r.lanes=536870912,null}return Vu(r,f)}var _=i.memoizedState;if(_!==null){var R=_.dehydrated;if(Wf(r),x)if(r.flags&256)r.flags&=-257,r=ry(i,r,c);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Un||Ao(i,r,c,!1),x=(c&i.childLanes)!==0,Un||x){if(f=rn,f!==null&&(R=ru(f,c),R!==0&&R!==_.retryLane))throw _.retryLane=R,di(i,R),Ei(f,i,R),mh;Ju(),r=ry(i,r,c)}else i=_.treeContext,un=Yi(R.nextSibling),Jn=r,Ut=!0,Rr=null,qi=!1,i!==null&&q0(r,i),r=Vu(r,f),r.flags|=4096;return r}return i=Ks(i.child,{mode:f.mode,children:f.children}),i.ref=r.ref,r.child=i,i.return=r,i}function zu(i,r){var c=r.ref;if(c===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(i===null||i.ref!==c)&&(r.flags|=4194816)}}function gh(i,r,c,f,x){return Aa(r),c=Jf(i,r,c,f,void 0,x),f=Xf(),i!==null&&!Un?(Qf(i,r,x),tr(i,r,x)):(Ut&&f&&jf(r),r.flags|=1,Qn(i,r,c,x),r.child)}function ay(i,r,c,f,x,_){return Aa(r),r.updateQueue=null,c=cg(r,f,c,x),lg(i),f=Xf(),i!==null&&!Un?(Qf(i,r,_),tr(i,r,_)):(Ut&&f&&jf(r),r.flags|=1,Qn(i,r,c,_),r.child)}function oy(i,r,c,f,x){if(Aa(r),r.stateNode===null){var _=Ws,R=c.contextType;typeof R=="object"&&R!==null&&(_=Xn(R)),_=new c(f,_),r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=hh,r.stateNode=_,_._reactInternals=r,_=r.stateNode,_.props=f,_.state=r.memoizedState,_.refs={},Hf(r),R=c.contextType,_.context=typeof R=="object"&&R!==null?Xn(R):Ws,_.state=r.memoizedState,R=c.getDerivedStateFromProps,typeof R=="function"&&(fh(r,c,R,f),_.state=r.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&hh.enqueueReplaceState(_,_.state,null),tc(r,f,_,x),ec(),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(i===null){_=r.stateNode;var L=r.memoizedProps,X=Da(c,L);_.props=X;var me=_.context,_e=c.contextType;R=Ws,typeof _e=="object"&&_e!==null&&(R=Xn(_e));var Se=c.getDerivedStateFromProps;_e=typeof Se=="function"||typeof _.getSnapshotBeforeUpdate=="function",L=r.pendingProps!==L,_e||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(L||me!==R)&&Yg(r,_,f,R),Mr=!1;var ye=r.memoizedState;_.state=ye,tc(r,f,_,x),ec(),me=r.memoizedState,L||ye!==me||Mr?(typeof Se=="function"&&(fh(r,c,Se,f),me=r.memoizedState),(X=Mr||$g(r,c,X,f,ye,me,R))?(_e||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=me),_.props=f,_.state=me,_.context=R,f=X):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{_=r.stateNode,Bf(i,r),R=r.memoizedProps,_e=Da(c,R),_.props=_e,Se=r.pendingProps,ye=_.context,me=c.contextType,X=Ws,typeof me=="object"&&me!==null&&(X=Xn(me)),L=c.getDerivedStateFromProps,(me=typeof L=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==Se||ye!==X)&&Yg(r,_,f,X),Mr=!1,ye=r.memoizedState,_.state=ye,tc(r,f,_,x),ec();var we=r.memoizedState;R!==Se||ye!==we||Mr||i!==null&&i.dependencies!==null&&wu(i.dependencies)?(typeof L=="function"&&(fh(r,c,L,f),we=r.memoizedState),(_e=Mr||$g(r,c,_e,f,ye,we,X)||i!==null&&i.dependencies!==null&&wu(i.dependencies))?(me||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(f,we,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(f,we,X)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&ye===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ye===i.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=we),_.props=f,_.state=we,_.context=X,f=_e):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&ye===i.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ye===i.memoizedState||(r.flags|=1024),f=!1)}return _=f,zu(i,r),f=(r.flags&128)!==0,_||f?(_=r.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:_.render(),r.flags|=1,i!==null&&f?(r.child=Ma(r,i.child,null,x),r.child=Ma(r,null,c,x)):Qn(i,r,c,x),r.memoizedState=_.state,i=r.child):i=tr(i,r,x),i}function ly(i,r,c,f){return Na(),r.flags|=256,Qn(i,r,c,f),r.child}var yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(i){return{baseLanes:i,cachePool:X0()}}function vh(i,r,c){return i=i!==null?i.childLanes&~c:0,r&&(i|=ji),i}function cy(i,r,c){var f=r.pendingProps,x=!1,_=(r.flags&128)!==0,R;if((R=_)||(R=i!==null&&i.memoizedState===null?!1:(In.current&2)!==0),R&&(x=!0,r.flags&=-129),R=(r.flags&32)!==0,r.flags&=-33,i===null){if(Ut){if(x?Pr(r):Or(),(i=un)?(i=yx(i,qi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Ar!==null?{id:Ns,overflow:Cs}:null,retryLane:536870912,hydrationErrors:null},c=H0(i),c.return=r,r.child=c,Jn=r,un=null)):i=null,i===null)throw Ir(r);return tp(i)?r.lanes=32:r.lanes=536870912,null}var L=f.children;return f=f.fallback,x?(Or(),x=r.mode,L=Fu({mode:"hidden",children:L},x),f=Sa(f,x,c,null),L.return=r,f.return=r,L.sibling=f,r.child=L,f=r.child,f.memoizedState=xh(c),f.childLanes=vh(i,R,c),r.memoizedState=yh,ac(null,f)):(Pr(r),bh(r,L))}var X=i.memoizedState;if(X!==null&&(L=X.dehydrated,L!==null)){if(_)r.flags&256?(Pr(r),r.flags&=-257,r=wh(i,r,c)):r.memoizedState!==null?(Or(),r.child=i.child,r.flags|=128,r=null):(Or(),L=f.fallback,x=r.mode,f=Fu({mode:"visible",children:f.children},x),L=Sa(L,x,c,null),L.flags|=2,f.return=r,L.return=r,f.sibling=L,r.child=f,Ma(r,i.child,null,c),f=r.child,f.memoizedState=xh(c),f.childLanes=vh(i,R,c),r.memoizedState=yh,r=ac(null,f));else if(Pr(r),tp(L)){if(R=L.nextSibling&&L.nextSibling.dataset,R)var me=R.dgst;R=me,f=Error(s(419)),f.stack="",f.digest=R,Wl({value:f,source:null,stack:null}),r=wh(i,r,c)}else if(Un||Ao(i,r,c,!1),R=(c&i.childLanes)!==0,Un||R){if(R=rn,R!==null&&(f=ru(R,c),f!==0&&f!==X.retryLane))throw X.retryLane=f,di(i,f),Ei(R,i,f),mh;ep(L)||Ju(),r=wh(i,r,c)}else ep(L)?(r.flags|=192,r.child=i.child,r=null):(i=X.treeContext,un=Yi(L.nextSibling),Jn=r,Ut=!0,Rr=null,qi=!1,i!==null&&q0(r,i),r=bh(r,f.children),r.flags|=4096);return r}return x?(Or(),L=f.fallback,x=r.mode,X=i.child,me=X.sibling,f=Ks(X,{mode:"hidden",children:f.children}),f.subtreeFlags=X.subtreeFlags&65011712,me!==null?L=Ks(me,L):(L=Sa(L,x,c,null),L.flags|=2),L.return=r,f.return=r,f.sibling=L,r.child=f,ac(null,f),f=r.child,L=i.child.memoizedState,L===null?L=xh(c):(x=L.cachePool,x!==null?(X=On._currentValue,x=x.parent!==X?{parent:X,pool:X}:x):x=X0(),L={baseLanes:L.baseLanes|c,cachePool:x}),f.memoizedState=L,f.childLanes=vh(i,R,c),r.memoizedState=yh,ac(i.child,f)):(Pr(r),c=i.child,i=c.sibling,c=Ks(c,{mode:"visible",children:f.children}),c.return=r,c.sibling=null,i!==null&&(R=r.deletions,R===null?(r.deletions=[i],r.flags|=16):R.push(i)),r.child=c,r.memoizedState=null,c)}function bh(i,r){return r=Fu({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Fu(i,r){return i=fi(22,i,null,r),i.lanes=0,i}function wh(i,r,c){return Ma(r,i.child,null,c),i=bh(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function uy(i,r,c){i.lanes|=r;var f=i.alternate;f!==null&&(f.lanes|=r),Of(i.return,r,c)}function _h(i,r,c,f,x,_){var R=i.memoizedState;R===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:x,treeForkCount:_}:(R.isBackwards=r,R.rendering=null,R.renderingStartTime=0,R.last=f,R.tail=c,R.tailMode=x,R.treeForkCount=_)}function dy(i,r,c){var f=r.pendingProps,x=f.revealOrder,_=f.tail;f=f.children;var R=In.current,L=(R&2)!==0;if(L?(R=R&1|2,r.flags|=128):R&=1,xe(In,R),Qn(i,r,f,c),f=Ut?Yl:0,!L&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uy(i,c,r);else if(i.tag===19)uy(i,c,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(x){case"forwards":for(c=r.child,x=null;c!==null;)i=c.alternate,i!==null&&Ru(i)===null&&(x=c),c=c.sibling;c=x,c===null?(x=r.child,r.child=null):(x=c.sibling,c.sibling=null),_h(r,!1,x,c,_,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=r.child,r.child=null;x!==null;){if(i=x.alternate,i!==null&&Ru(i)===null){r.child=x;break}i=x.sibling,x.sibling=c,c=x,x=i}_h(r,!0,c,null,_,f);break;case"together":_h(r,!1,null,null,void 0,f);break;default:r.memoizedState=null}return r.child}function tr(i,r,c){if(i!==null&&(r.dependencies=i.dependencies),Vr|=r.lanes,(c&r.childLanes)===0)if(i!==null){if(Ao(i,r,c,!1),(c&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,c=Ks(i,i.pendingProps),r.child=c,c.return=r;i.sibling!==null;)i=i.sibling,c=c.sibling=Ks(i,i.pendingProps),c.return=r;c.sibling=null}return r.child}function Th(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&wu(i)))}function qT(i,r,c){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),jr(r,On,i.memoizedState.cache),Na();break;case 27:case 5:gt(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:jr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Wf(r),null;break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(Pr(r),r.flags|=128,null):(c&r.child.childLanes)!==0?cy(i,r,c):(Pr(r),i=tr(i,r,c),i!==null?i.sibling:null);Pr(r);break;case 19:var x=(i.flags&128)!==0;if(f=(c&r.childLanes)!==0,f||(Ao(i,r,c,!1),f=(c&r.childLanes)!==0),x){if(f)return dy(i,r,c);r.flags|=128}if(x=r.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),xe(In,In.current),f)break;return null;case 22:return r.lanes=0,iy(i,r,c,r.pendingProps);case 24:jr(r,On,i.memoizedState.cache)}return tr(i,r,c)}function fy(i,r,c){if(i!==null)if(i.memoizedProps!==r.pendingProps)Un=!0;else{if(!Th(i,c)&&(r.flags&128)===0)return Un=!1,qT(i,r,c);Un=(i.flags&131072)!==0}else Un=!1,Ut&&(r.flags&1048576)!==0&&G0(r,Yl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var f=r.pendingProps;if(i=Ia(r.elementType),r.type=i,typeof i=="function")Eo(i)?(f=Da(i,f),r.tag=1,r=oy(null,r,i,f,c)):(r.tag=0,r=gh(null,r,i,f,c));else{if(i!=null){var x=i.$$typeof;if(x===G){r.tag=11,r=ey(null,r,i,f,c);break e}else if(x===te){r.tag=14,r=ty(null,r,i,f,c);break e}}throw r=W(i)||i,Error(s(306,r,""))}}return r;case 0:return gh(i,r,r.type,r.pendingProps,c);case 1:return f=r.type,x=Da(f,r.pendingProps),oy(i,r,f,x,c);case 3:e:{if(it(r,r.stateNode.containerInfo),i===null)throw Error(s(387));f=r.pendingProps;var _=r.memoizedState;x=_.element,Bf(i,r),tc(r,f,null,c);var R=r.memoizedState;if(f=R.cache,jr(r,On,f),f!==_.cache&&Lf(r,[On],c,!0),ec(),f=R.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:R.cache},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){r=ly(i,r,f,c);break e}else if(f!==x){x=Hi(Error(s(424)),r),Wl(x),r=ly(i,r,f,c);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(un=Yi(i.firstChild),Jn=r,Ut=!0,Rr=null,qi=!0,c=ig(r,null,f,c),r.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Na(),f===x){r=tr(i,r,c);break e}Qn(i,r,f,c)}r=r.child}return r;case 26:return zu(i,r),i===null?(c=Tx(r.type,null,r.pendingProps,null))?r.memoizedState=c:Ut||(c=r.type,i=r.pendingProps,f=id(Me.current).createElement(c),f[Bn]=r,f[Tn]=i,Zn(f,c,i),En(f),r.stateNode=f):r.memoizedState=Tx(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return gt(r),i===null&&Ut&&(f=r.stateNode=bx(r.type,r.pendingProps,Me.current),Jn=r,qi=!0,x=un,Gr(r.type)?(np=x,un=Yi(f.firstChild)):un=x),Qn(i,r,r.pendingProps.children,c),zu(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Ut&&((x=f=un)&&(f=wE(f,r.type,r.pendingProps,qi),f!==null?(r.stateNode=f,Jn=r,un=Yi(f.firstChild),qi=!1,x=!0):x=!1),x||Ir(r)),gt(r),x=r.type,_=r.pendingProps,R=i!==null?i.memoizedProps:null,f=_.children,Xh(x,_)?f=null:R!==null&&Xh(x,R)&&(r.flags|=32),r.memoizedState!==null&&(x=Jf(i,r,OT,null,null,c),wc._currentValue=x),zu(i,r),Qn(i,r,f,c),r.child;case 6:return i===null&&Ut&&((i=c=un)&&(c=_E(c,r.pendingProps,qi),c!==null?(r.stateNode=c,Jn=r,un=null,i=!0):i=!1),i||Ir(r)),null;case 13:return cy(i,r,c);case 4:return it(r,r.stateNode.containerInfo),f=r.pendingProps,i===null?r.child=Ma(r,null,f,c):Qn(i,r,f,c),r.child;case 11:return ey(i,r,r.type,r.pendingProps,c);case 7:return Qn(i,r,r.pendingProps,c),r.child;case 8:return Qn(i,r,r.pendingProps.children,c),r.child;case 12:return Qn(i,r,r.pendingProps.children,c),r.child;case 10:return f=r.pendingProps,jr(r,r.type,f.value),Qn(i,r,f.children,c),r.child;case 9:return x=r.type._context,f=r.pendingProps.children,Aa(r),x=Xn(x),f=f(x),r.flags|=1,Qn(i,r,f,c),r.child;case 14:return ty(i,r,r.type,r.pendingProps,c);case 15:return ny(i,r,r.type,r.pendingProps,c);case 19:return dy(i,r,c);case 31:return GT(i,r,c);case 22:return iy(i,r,c,r.pendingProps);case 24:return Aa(r),f=Xn(On),i===null?(x=zf(),x===null&&(x=rn,_=Uf(),x.pooledCache=_,_.refCount++,_!==null&&(x.pooledCacheLanes|=c),x=_),r.memoizedState={parent:f,cache:x},Hf(r),jr(r,On,x)):((i.lanes&c)!==0&&(Bf(i,r),tc(r,null,null,c),ec()),x=i.memoizedState,_=r.memoizedState,x.parent!==f?(x={parent:f,cache:f},r.memoizedState=x,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=x),jr(r,On,f)):(f=_.cache,jr(r,On,f),f!==x.cache&&Lf(r,[On],c,!0))),Qn(i,r,r.pendingProps.children,c),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function nr(i){i.flags|=4}function Eh(i,r,c,f,x){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(x&335544128)===x)if(i.stateNode.complete)i.flags|=8192;else if(Vy())i.flags|=8192;else throw ja=Su,Ff}else i.flags&=-16777217}function hy(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Ax(r))if(Vy())i.flags|=8192;else throw ja=Su,Ff}function Hu(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?$t():536870912,i.lanes|=r,zo|=r)}function oc(i,r){if(!Ut)switch(i.tailMode){case"hidden":r=i.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function dn(i){var r=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(r)for(var x=i.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags&65011712,f|=x.flags&65011712,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)c|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=f,i.childLanes=c,r}function $T(i,r,c){var f=r.pendingProps;switch(Mf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(r),null;case 1:return dn(r),null;case 3:return c=r.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),Qs(On),ut(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Co(r)?nr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Df())),dn(r),null;case 26:var x=r.type,_=r.memoizedState;return i===null?(nr(r),_!==null?(dn(r),hy(r,_)):(dn(r),Eh(r,x,null,f,c))):_?_!==i.memoizedState?(nr(r),dn(r),hy(r,_)):(dn(r),r.flags&=-16777217):(i=i.memoizedProps,i!==f&&nr(r),dn(r),Eh(r,x,i,f,c)),null;case 27:if(Ft(r),c=Me.current,x=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&nr(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return dn(r),null}i=Ae.current,Co(r)?$0(r):(i=bx(x,f,c),r.stateNode=i,nr(r))}return dn(r),null;case 5:if(Ft(r),x=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&nr(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return dn(r),null}if(_=Ae.current,Co(r))$0(r);else{var R=id(Me.current);switch(_){case 1:_=R.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:_=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":_=R.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":_=R.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":_=R.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof f.is=="string"?R.createElement("select",{is:f.is}):R.createElement("select"),f.multiple?_.multiple=!0:f.size&&(_.size=f.size);break;default:_=typeof f.is=="string"?R.createElement(x,{is:f.is}):R.createElement(x)}}_[Bn]=r,_[Tn]=f;e:for(R=r.child;R!==null;){if(R.tag===5||R.tag===6)_.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===r)break e;for(;R.sibling===null;){if(R.return===null||R.return===r)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}r.stateNode=_;e:switch(Zn(_,x,f),x){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&nr(r)}}return dn(r),Eh(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,c),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==f&&nr(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(s(166));if(i=Me.current,Co(r)){if(i=r.stateNode,c=r.memoizedProps,f=null,x=Jn,x!==null)switch(x.tag){case 27:case 5:f=x.memoizedProps}i[Bn]=r,i=!!(i.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||cx(i.nodeValue,c)),i||Ir(r,!0)}else i=id(i).createTextNode(f),i[Bn]=r,r.stateNode=i}return dn(r),null;case 31:if(c=r.memoizedState,i===null||i.memoizedState!==null){if(f=Co(r),c!==null){if(i===null){if(!f)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Bn]=r}else Na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dn(r),i=!1}else c=Df(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return r.flags&256?(Ri(r),r):(Ri(r),null);if((r.flags&128)!==0)throw Error(s(558))}return dn(r),null;case 13:if(f=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(x=Co(r),f!==null&&f.dehydrated!==null){if(i===null){if(!x)throw Error(s(318));if(x=r.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[Bn]=r}else Na(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dn(r),x=!1}else x=Df(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=x),x=!0;if(!x)return r.flags&256?(Ri(r),r):(Ri(r),null)}return Ri(r),(r.flags&128)!==0?(r.lanes=c,r):(c=f!==null,i=i!==null&&i.memoizedState!==null,c&&(f=r.child,x=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(x=f.alternate.memoizedState.cachePool.pool),_=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(_=f.memoizedState.cachePool.pool),_!==x&&(f.flags|=2048)),c!==i&&c&&(r.child.flags|=8192),Hu(r,r.updateQueue),dn(r),null);case 4:return ut(),i===null&&$h(r.stateNode.containerInfo),dn(r),null;case 10:return Qs(r.type),dn(r),null;case 19:if(ne(In),f=r.memoizedState,f===null)return dn(r),null;if(x=(r.flags&128)!==0,_=f.rendering,_===null)if(x)oc(f,!1);else{if(Cn!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(_=Ru(i),_!==null){for(r.flags|=128,oc(f,!1),i=_.updateQueue,r.updateQueue=i,Hu(r,i),r.subtreeFlags=0,i=c,c=r.child;c!==null;)F0(c,i),c=c.sibling;return xe(In,In.current&1|2),Ut&&Js(r,f.treeForkCount),r.child}i=i.sibling}f.tail!==null&&Nt()>Yu&&(r.flags|=128,x=!0,oc(f,!1),r.lanes=4194304)}else{if(!x)if(i=Ru(_),i!==null){if(r.flags|=128,x=!0,i=i.updateQueue,r.updateQueue=i,Hu(r,i),oc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!_.alternate&&!Ut)return dn(r),null}else 2*Nt()-f.renderingStartTime>Yu&&c!==536870912&&(r.flags|=128,x=!0,oc(f,!1),r.lanes=4194304);f.isBackwards?(_.sibling=r.child,r.child=_):(i=f.last,i!==null?i.sibling=_:r.child=_,f.last=_)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Nt(),i.sibling=null,c=In.current,xe(In,x?c&1|2:c&1),Ut&&Js(r,f.treeForkCount),i):(dn(r),null);case 22:case 23:return Ri(r),Yf(),f=r.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(c&536870912)!==0&&(r.flags&128)===0&&(dn(r),r.subtreeFlags&6&&(r.flags|=8192)):dn(r),c=r.updateQueue,c!==null&&Hu(r,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048),i!==null&&ne(Ra),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Qs(On),dn(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function YT(i,r){switch(Mf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Qs(On),ut(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ft(r),null;case 31:if(r.memoizedState!==null){if(Ri(r),r.alternate===null)throw Error(s(340));Na()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Ri(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Na()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ne(In),null;case 4:return ut(),null;case 10:return Qs(r.type),null;case 22:case 23:return Ri(r),Yf(),i!==null&&ne(Ra),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Qs(On),null;case 25:return null;default:return null}}function py(i,r){switch(Mf(r),r.tag){case 3:Qs(On),ut();break;case 26:case 27:case 5:Ft(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&Ri(r);break;case 13:Ri(r);break;case 19:ne(In);break;case 10:Qs(r.type);break;case 22:case 23:Ri(r),Yf(),i!==null&&ne(Ra);break;case 24:Qs(On)}}function lc(i,r){try{var c=r.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var x=f.next;c=x;do{if((c.tag&i)===i){f=void 0;var _=c.create,R=c.inst;f=_(),R.destroy=f}c=c.next}while(c!==x)}}catch(L){Jt(r,r.return,L)}}function Lr(i,r,c){try{var f=r.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var _=x.next;f=_;do{if((f.tag&i)===i){var R=f.inst,L=R.destroy;if(L!==void 0){R.destroy=void 0,x=r;var X=c,me=L;try{me()}catch(_e){Jt(x,X,_e)}}}f=f.next}while(f!==_)}}catch(_e){Jt(r,r.return,_e)}}function my(i){var r=i.updateQueue;if(r!==null){var c=i.stateNode;try{rg(r,c)}catch(f){Jt(i,i.return,f)}}}function gy(i,r,c){c.props=Da(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(f){Jt(i,r,f)}}function cc(i,r){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof c=="function"?i.refCleanup=c(f):c.current=f}}catch(x){Jt(i,r,x)}}function As(i,r){var c=i.ref,f=i.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(x){Jt(i,r,x)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){Jt(i,r,x)}else c.current=null}function yy(i){var r=i.type,c=i.memoizedProps,f=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(x){Jt(i,i.return,x)}}function Sh(i,r,c){try{var f=i.stateNode;mE(f,i.type,c,r),f[Tn]=r}catch(x){Jt(i,i.return,x)}}function xy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Gr(i.type)||i.tag===4}function Nh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||xy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Gr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ch(i,r,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,r):(r=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,r.appendChild(i),c=c._reactRootContainer,c!=null||r.onclick!==null||(r.onclick=Ci));else if(f!==4&&(f===27&&Gr(i.type)&&(c=i.stateNode,r=null),i=i.child,i!==null))for(Ch(i,r,c),i=i.sibling;i!==null;)Ch(i,r,c),i=i.sibling}function Bu(i,r,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?c.insertBefore(i,r):c.appendChild(i);else if(f!==4&&(f===27&&Gr(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Bu(i,r,c),i=i.sibling;i!==null;)Bu(i,r,c),i=i.sibling}function vy(i){var r=i.stateNode,c=i.memoizedProps;try{for(var f=i.type,x=r.attributes;x.length;)r.removeAttributeNode(x[0]);Zn(r,f,c),r[Bn]=i,r[Tn]=c}catch(_){Jt(i,i.return,_)}}var ir=!1,Vn=!1,Ah=!1,by=typeof WeakSet=="function"?WeakSet:Set,Yn=null;function WT(i,r){if(i=i.containerInfo,Kh=ud,i=$e(i),ue(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var x=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var R=0,L=-1,X=-1,me=0,_e=0,Se=i,ye=null;t:for(;;){for(var we;Se!==c||x!==0&&Se.nodeType!==3||(L=R+x),Se!==_||f!==0&&Se.nodeType!==3||(X=R+f),Se.nodeType===3&&(R+=Se.nodeValue.length),(we=Se.firstChild)!==null;)ye=Se,Se=we;for(;;){if(Se===i)break t;if(ye===c&&++me===x&&(L=R),ye===_&&++_e===f&&(X=R),(we=Se.nextSibling)!==null)break;Se=ye,ye=Se.parentNode}Se=we}c=L===-1||X===-1?null:{start:L,end:X}}else c=null}c=c||{start:0,end:0}}else c=null;for(Jh={focusedElem:i,selectionRange:c},ud=!1,Yn=r;Yn!==null;)if(r=Yn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Yn=i;else for(;Yn!==null;){switch(r=Yn,_=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)x=i[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,c=r,x=_.memoizedProps,_=_.memoizedState,f=c.stateNode;try{var We=Da(c.type,x);i=f.getSnapshotBeforeUpdate(We,_),f.__reactInternalSnapshotBeforeUpdate=i}catch(ct){Jt(c,c.return,ct)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,c=i.nodeType,c===9)Zh(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Yn=i;break}Yn=r.return}}function wy(i,r,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:rr(i,c),f&4&&lc(5,c);break;case 1:if(rr(i,c),f&4)if(i=c.stateNode,r===null)try{i.componentDidMount()}catch(R){Jt(c,c.return,R)}else{var x=Da(c.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(x,r,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Jt(c,c.return,R)}}f&64&&my(c),f&512&&cc(c,c.return);break;case 3:if(rr(i,c),f&64&&(i=c.updateQueue,i!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{rg(i,r)}catch(R){Jt(c,c.return,R)}}break;case 27:r===null&&f&4&&vy(c);case 26:case 5:rr(i,c),r===null&&f&4&&yy(c),f&512&&cc(c,c.return);break;case 12:rr(i,c);break;case 31:rr(i,c),f&4&&Ey(i,c);break;case 13:rr(i,c),f&4&&Sy(i,c),f&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=iE.bind(null,c),TE(i,c))));break;case 22:if(f=c.memoizedState!==null||ir,!f){r=r!==null&&r.memoizedState!==null||Vn,x=ir;var _=Vn;ir=f,(Vn=r)&&!_?ar(i,c,(c.subtreeFlags&8772)!==0):rr(i,c),ir=x,Vn=_}break;case 30:break;default:rr(i,c)}}function _y(i){var r=i.alternate;r!==null&&(i.alternate=null,_y(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&ro(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var mn=null,bi=!1;function sr(i,r,c){for(c=c.child;c!==null;)Ty(i,r,c),c=c.sibling}function Ty(i,r,c){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Ke,c)}catch{}switch(c.tag){case 26:Vn||As(c,r),sr(i,r,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Vn||As(c,r);var f=mn,x=bi;Gr(c.type)&&(mn=c.stateNode,bi=!1),sr(i,r,c),xc(c.stateNode),mn=f,bi=x;break;case 5:Vn||As(c,r);case 6:if(f=mn,x=bi,mn=null,sr(i,r,c),mn=f,bi=x,mn!==null)if(bi)try{(mn.nodeType===9?mn.body:mn.nodeName==="HTML"?mn.ownerDocument.body:mn).removeChild(c.stateNode)}catch(_){Jt(c,r,_)}else try{mn.removeChild(c.stateNode)}catch(_){Jt(c,r,_)}break;case 18:mn!==null&&(bi?(i=mn,mx(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Wo(i)):mx(mn,c.stateNode));break;case 4:f=mn,x=bi,mn=c.stateNode.containerInfo,bi=!0,sr(i,r,c),mn=f,bi=x;break;case 0:case 11:case 14:case 15:Lr(2,c,r),Vn||Lr(4,c,r),sr(i,r,c);break;case 1:Vn||(As(c,r),f=c.stateNode,typeof f.componentWillUnmount=="function"&&gy(c,r,f)),sr(i,r,c);break;case 21:sr(i,r,c);break;case 22:Vn=(f=Vn)||c.memoizedState!==null,sr(i,r,c),Vn=f;break;default:sr(i,r,c)}}function Ey(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Wo(i)}catch(c){Jt(r,r.return,c)}}}function Sy(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Wo(i)}catch(c){Jt(r,r.return,c)}}function KT(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new by),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new by),r;default:throw Error(s(435,i.tag))}}function Gu(i,r){var c=KT(i);r.forEach(function(f){if(!c.has(f)){c.add(f);var x=sE.bind(null,i,f);f.then(x,x)}})}function wi(i,r){var c=r.deletions;if(c!==null)for(var f=0;f<c.length;f++){var x=c[f],_=i,R=r,L=R;e:for(;L!==null;){switch(L.tag){case 27:if(Gr(L.type)){mn=L.stateNode,bi=!1;break e}break;case 5:mn=L.stateNode,bi=!1;break e;case 3:case 4:mn=L.stateNode.containerInfo,bi=!0;break e}L=L.return}if(mn===null)throw Error(s(160));Ty(_,R,x),mn=null,bi=!1,_=x.alternate,_!==null&&(_.return=null),x.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Ny(r,i),r=r.sibling}var as=null;function Ny(i,r){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wi(r,i),_i(i),f&4&&(Lr(3,i,i.return),lc(3,i),Lr(5,i,i.return));break;case 1:wi(r,i),_i(i),f&512&&(Vn||c===null||As(c,c.return)),f&64&&ir&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var x=as;if(wi(r,i),_i(i),f&512&&(Vn||c===null||As(c,c.return)),f&4){var _=c!==null?c.memoizedState:null;if(f=i.memoizedState,c===null)if(f===null)if(i.stateNode===null){e:{f=i.type,c=i.memoizedProps,x=x.ownerDocument||x;t:switch(f){case"title":_=x.getElementsByTagName("title")[0],(!_||_[ys]||_[Bn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=x.createElement(f),x.head.insertBefore(_,x.querySelector("head > title"))),Zn(_,f,c),_[Bn]=i,En(_),f=_;break e;case"link":var R=Nx("link","href",x).get(f+(c.href||""));if(R){for(var L=0;L<R.length;L++)if(_=R[L],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){R.splice(L,1);break t}}_=x.createElement(f),Zn(_,f,c),x.head.appendChild(_);break;case"meta":if(R=Nx("meta","content",x).get(f+(c.content||""))){for(L=0;L<R.length;L++)if(_=R[L],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){R.splice(L,1);break t}}_=x.createElement(f),Zn(_,f,c),x.head.appendChild(_);break;default:throw Error(s(468,f))}_[Bn]=i,En(_),f=_}i.stateNode=f}else Cx(x,i.type,i.stateNode);else i.stateNode=Sx(x,f,i.memoizedProps);else _!==f?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,f===null?Cx(x,i.type,i.stateNode):Sx(x,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Sh(i,i.memoizedProps,c.memoizedProps)}break;case 27:wi(r,i),_i(i),f&512&&(Vn||c===null||As(c,c.return)),c!==null&&f&4&&Sh(i,i.memoizedProps,c.memoizedProps);break;case 5:if(wi(r,i),_i(i),f&512&&(Vn||c===null||As(c,c.return)),i.flags&32){x=i.stateNode;try{bs(x,"")}catch(We){Jt(i,i.return,We)}}f&4&&i.stateNode!=null&&(x=i.memoizedProps,Sh(i,x,c!==null?c.memoizedProps:x)),f&1024&&(Ah=!0);break;case 6:if(wi(r,i),_i(i),f&4){if(i.stateNode===null)throw Error(s(162));f=i.memoizedProps,c=i.stateNode;try{c.nodeValue=f}catch(We){Jt(i,i.return,We)}}break;case 3:if(ad=null,x=as,as=sd(r.containerInfo),wi(r,i),as=x,_i(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Wo(r.containerInfo)}catch(We){Jt(i,i.return,We)}Ah&&(Ah=!1,Cy(i));break;case 4:f=as,as=sd(i.stateNode.containerInfo),wi(r,i),_i(i),as=f;break;case 12:wi(r,i),_i(i);break;case 31:wi(r,i),_i(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Gu(i,f)));break;case 13:wi(r,i),_i(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&($u=Nt()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Gu(i,f)));break;case 22:x=i.memoizedState!==null;var X=c!==null&&c.memoizedState!==null,me=ir,_e=Vn;if(ir=me||x,Vn=_e||X,wi(r,i),Vn=_e,ir=me,_i(i),f&8192)e:for(r=i.stateNode,r._visibility=x?r._visibility&-2:r._visibility|1,x&&(c===null||X||ir||Vn||Pa(i)),c=null,r=i;;){if(r.tag===5||r.tag===26){if(c===null){X=c=r;try{if(_=X.stateNode,x)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{L=X.stateNode;var Se=X.memoizedProps.style,ye=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;L.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(We){Jt(X,X.return,We)}}}else if(r.tag===6){if(c===null){X=r;try{X.stateNode.nodeValue=x?"":X.memoizedProps}catch(We){Jt(X,X.return,We)}}}else if(r.tag===18){if(c===null){X=r;try{var we=X.stateNode;x?gx(we,!0):gx(X.stateNode,!1)}catch(We){Jt(X,X.return,We)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;c===r&&(c=null),r=r.return}c===r&&(c=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=i.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Gu(i,c))));break;case 19:wi(r,i),_i(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Gu(i,f)));break;case 30:break;case 21:break;default:wi(r,i),_i(i)}}function _i(i){var r=i.flags;if(r&2){try{for(var c,f=i.return;f!==null;){if(xy(f)){c=f;break}f=f.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var x=c.stateNode,_=Nh(i);Bu(i,_,x);break;case 5:var R=c.stateNode;c.flags&32&&(bs(R,""),c.flags&=-33);var L=Nh(i);Bu(i,L,R);break;case 3:case 4:var X=c.stateNode.containerInfo,me=Nh(i);Ch(i,me,X);break;default:throw Error(s(161))}}catch(_e){Jt(i,i.return,_e)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Cy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Cy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function rr(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)wy(i,r.alternate,r),r=r.sibling}function Pa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),Pa(r);break;case 1:As(r,r.return);var c=r.stateNode;typeof c.componentWillUnmount=="function"&&gy(r,r.return,c),Pa(r);break;case 27:xc(r.stateNode);case 26:case 5:As(r,r.return),Pa(r);break;case 22:r.memoizedState===null&&Pa(r);break;case 30:Pa(r);break;default:Pa(r)}i=i.sibling}}function ar(i,r,c){for(c=c&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,x=i,_=r,R=_.flags;switch(_.tag){case 0:case 11:case 15:ar(x,_,c),lc(4,_);break;case 1:if(ar(x,_,c),f=_,x=f.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(me){Jt(f,f.return,me)}if(f=_,x=f.updateQueue,x!==null){var L=f.stateNode;try{var X=x.shared.hiddenCallbacks;if(X!==null)for(x.shared.hiddenCallbacks=null,x=0;x<X.length;x++)sg(X[x],L)}catch(me){Jt(f,f.return,me)}}c&&R&64&&my(_),cc(_,_.return);break;case 27:vy(_);case 26:case 5:ar(x,_,c),c&&f===null&&R&4&&yy(_),cc(_,_.return);break;case 12:ar(x,_,c);break;case 31:ar(x,_,c),c&&R&4&&Ey(x,_);break;case 13:ar(x,_,c),c&&R&4&&Sy(x,_);break;case 22:_.memoizedState===null&&ar(x,_,c),cc(_,_.return);break;case 30:break;default:ar(x,_,c)}r=r.sibling}}function Rh(i,r){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Kl(c))}function Ih(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Kl(i))}function os(i,r,c,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ay(i,r,c,f),r=r.sibling}function Ay(i,r,c,f){var x=r.flags;switch(r.tag){case 0:case 11:case 15:os(i,r,c,f),x&2048&&lc(9,r);break;case 1:os(i,r,c,f);break;case 3:os(i,r,c,f),x&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Kl(i)));break;case 12:if(x&2048){os(i,r,c,f),i=r.stateNode;try{var _=r.memoizedProps,R=_.id,L=_.onPostCommit;typeof L=="function"&&L(R,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){Jt(r,r.return,X)}}else os(i,r,c,f);break;case 31:os(i,r,c,f);break;case 13:os(i,r,c,f);break;case 23:break;case 22:_=r.stateNode,R=r.alternate,r.memoizedState!==null?_._visibility&2?os(i,r,c,f):uc(i,r):_._visibility&2?os(i,r,c,f):(_._visibility|=2,Lo(i,r,c,f,(r.subtreeFlags&10256)!==0||!1)),x&2048&&Rh(R,r);break;case 24:os(i,r,c,f),x&2048&&Ih(r.alternate,r);break;default:os(i,r,c,f)}}function Lo(i,r,c,f,x){for(x=x&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var _=i,R=r,L=c,X=f,me=R.flags;switch(R.tag){case 0:case 11:case 15:Lo(_,R,L,X,x),lc(8,R);break;case 23:break;case 22:var _e=R.stateNode;R.memoizedState!==null?_e._visibility&2?Lo(_,R,L,X,x):uc(_,R):(_e._visibility|=2,Lo(_,R,L,X,x)),x&&me&2048&&Rh(R.alternate,R);break;case 24:Lo(_,R,L,X,x),x&&me&2048&&Ih(R.alternate,R);break;default:Lo(_,R,L,X,x)}r=r.sibling}}function uc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var c=i,f=r,x=f.flags;switch(f.tag){case 22:uc(c,f),x&2048&&Rh(f.alternate,f);break;case 24:uc(c,f),x&2048&&Ih(f.alternate,f);break;default:uc(c,f)}r=r.sibling}}var dc=8192;function Uo(i,r,c){if(i.subtreeFlags&dc)for(i=i.child;i!==null;)Ry(i,r,c),i=i.sibling}function Ry(i,r,c){switch(i.tag){case 26:Uo(i,r,c),i.flags&dc&&i.memoizedState!==null&&PE(c,as,i.memoizedState,i.memoizedProps);break;case 5:Uo(i,r,c);break;case 3:case 4:var f=as;as=sd(i.stateNode.containerInfo),Uo(i,r,c),as=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=dc,dc=16777216,Uo(i,r,c),dc=f):Uo(i,r,c));break;default:Uo(i,r,c)}}function Iy(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function fc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var f=r[c];Yn=f,My(f,i)}Iy(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jy(i),i=i.sibling}function jy(i){switch(i.tag){case 0:case 11:case 15:fc(i),i.flags&2048&&Lr(9,i,i.return);break;case 3:fc(i);break;case 12:fc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,qu(i)):fc(i);break;default:fc(i)}}function qu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var c=0;c<r.length;c++){var f=r[c];Yn=f,My(f,i)}Iy(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),qu(r);break;case 22:c=r.stateNode,c._visibility&2&&(c._visibility&=-3,qu(r));break;default:qu(r)}i=i.sibling}}function My(i,r){for(;Yn!==null;){var c=Yn;switch(c.tag){case 0:case 11:case 15:Lr(8,c,r);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Kl(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Yn=f;else e:for(c=i;Yn!==null;){f=Yn;var x=f.sibling,_=f.return;if(_y(f),f===c){Yn=null;break e}if(x!==null){x.return=_,Yn=x;break e}Yn=_}}}var JT={getCacheForType:function(i){var r=Xn(On),c=r.data.get(i);return c===void 0&&(c=i(),r.data.set(i,c)),c},cacheSignal:function(){return Xn(On).controller.signal}},XT=typeof WeakMap=="function"?WeakMap:Map,Wt=0,rn=null,kt=null,Ot=0,Kt=0,Ii=null,Ur=!1,Vo=!1,jh=!1,or=0,Cn=0,Vr=0,Oa=0,Mh=0,ji=0,zo=0,hc=null,Ti=null,kh=!1,$u=0,ky=0,Yu=1/0,Wu=null,zr=null,Gn=0,Fr=null,Fo=null,lr=0,Dh=0,Ph=null,Dy=null,pc=0,Oh=null;function Mi(){return(Wt&2)!==0&&Ot!==0?Ot&-Ot:Y.T!==null?Hh():Ye()}function Py(){if(ji===0)if((Ot&536870912)===0||Ut){var i=Be;Be<<=1,(Be&3932160)===0&&(Be=262144),ji=i}else ji=536870912;return i=Ai.current,i!==null&&(i.flags|=32),ji}function Ei(i,r,c){(i===rn&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)&&(Ho(i,0),Hr(i,Ot,ji,!1)),pt(i,c),((Wt&2)===0||i!==rn)&&(i===rn&&((Wt&2)===0&&(Oa|=c),Cn===4&&Hr(i,Ot,ji,!1)),Rs(i))}function Oy(i,r,c){if((Wt&6)!==0)throw Error(s(327));var f=!c&&(r&127)===0&&(r&i.expiredLanes)===0||Ge(i,r),x=f?eE(i,r):Uh(i,r,!0),_=f;do{if(x===0){Vo&&!f&&Hr(i,r,0,!1);break}else{if(c=i.current.alternate,_&&!QT(c)){x=Uh(i,r,!1),_=!1;continue}if(x===2){if(_=r,i.errorRecoveryDisabledLanes&_)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){r=R;e:{var L=i;x=hc;var X=L.current.memoizedState.isDehydrated;if(X&&(Ho(L,R).flags|=256),R=Uh(L,R,!1),R!==2){if(jh&&!X){L.errorRecoveryDisabledLanes|=_,Oa|=_,x=4;break e}_=Ti,Ti=x,_!==null&&(Ti===null?Ti=_:Ti.push.apply(Ti,_))}x=R}if(_=!1,x!==2)continue}}if(x===1){Ho(i,0),Hr(i,r,0,!0);break}e:{switch(f=i,_=x,_){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Hr(f,r,ji,!Ur);break e;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(x=$u+300-Nt(),10<x)){if(Hr(f,r,ji,!Ur),Ct(f,0,!0)!==0)break e;lr=r,f.timeoutHandle=hx(Ly.bind(null,f,c,Ti,Wu,kh,r,ji,Oa,zo,Ur,_,"Throttled",-0,0),x);break e}Ly(f,c,Ti,Wu,kh,r,ji,Oa,zo,Ur,_,null,-0,0)}}break}while(!0);Rs(i)}function Ly(i,r,c,f,x,_,R,L,X,me,_e,Se,ye,we){if(i.timeoutHandle=-1,Se=r.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},Ry(r,_,Se);var We=(_&62914560)===_?$u-Nt():(_&4194048)===_?ky-Nt():0;if(We=OE(Se,We),We!==null){lr=_,i.cancelPendingCommit=We(qy.bind(null,i,r,_,c,f,x,R,L,X,_e,Se,null,ye,we)),Hr(i,_,R,!me);return}}qy(i,r,_,c,f,x,R,L,X)}function QT(i){for(var r=i;;){var c=r.tag;if((c===0||c===11||c===15)&&r.flags&16384&&(c=r.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var x=c[f],_=x.getSnapshot;x=x.value;try{if(!se(_(),x))return!1}catch{return!1}}if(c=r.child,r.subtreeFlags&16384&&c!==null)c.return=r,r=c;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hr(i,r,c,f){r&=~Mh,r&=~Oa,i.suspendedLanes|=r,i.pingedLanes&=~r,f&&(i.warmLanes|=r),f=i.expirationTimes;for(var x=r;0<x;){var _=31-rt(x),R=1<<_;f[_]=-1,x&=~R}c!==0&&Rl(i,c,r)}function Ku(){return(Wt&6)===0?(mc(0),!1):!0}function Lh(){if(kt!==null){if(Kt===0)var i=kt.return;else i=kt,Xs=Ca=null,Zf(i),Mo=null,Xl=0,i=kt;for(;i!==null;)py(i.alternate,i),i=i.return;kt=null}}function Ho(i,r){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,xE(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),lr=0,Lh(),rn=i,kt=c=Ks(i.current,null),Ot=r,Kt=0,Ii=null,Ur=!1,Vo=Ge(i,r),jh=!1,zo=ji=Mh=Oa=Vr=Cn=0,Ti=hc=null,kh=!1,(r&8)!==0&&(r|=r&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=r;0<f;){var x=31-rt(f),_=1<<x;r|=i[x],f&=~_}return or=r,Ta(),c}function Uy(i,r){Tt=null,Y.H=rc,r===jo||r===Eu?(r=eg(),Kt=3):r===Ff?(r=eg(),Kt=4):Kt=r===mh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ii=r,kt===null&&(Cn=1,Uu(i,Hi(r,i.current)))}function Vy(){var i=Ai.current;return i===null?!0:(Ot&4194048)===Ot?$i===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?i===$i:!1}function zy(){var i=Y.H;return Y.H=rc,i===null?rc:i}function Fy(){var i=Y.A;return Y.A=JT,i}function Ju(){Cn=4,Ur||(Ot&4194048)!==Ot&&Ai.current!==null||(Vo=!0),(Vr&134217727)===0&&(Oa&134217727)===0||rn===null||Hr(rn,Ot,ji,!1)}function Uh(i,r,c){var f=Wt;Wt|=2;var x=zy(),_=Fy();(rn!==i||Ot!==r)&&(Wu=null,Ho(i,r)),r=!1;var R=Cn;e:do try{if(Kt!==0&&kt!==null){var L=kt,X=Ii;switch(Kt){case 8:Lh(),R=6;break e;case 3:case 2:case 9:case 6:Ai.current===null&&(r=!0);var me=Kt;if(Kt=0,Ii=null,Bo(i,L,X,me),c&&Vo){R=0;break e}break;default:me=Kt,Kt=0,Ii=null,Bo(i,L,X,me)}}ZT(),R=Cn;break}catch(_e){Uy(i,_e)}while(!0);return r&&i.shellSuspendCounter++,Xs=Ca=null,Wt=f,Y.H=x,Y.A=_,kt===null&&(rn=null,Ot=0,Ta()),R}function ZT(){for(;kt!==null;)Hy(kt)}function eE(i,r){var c=Wt;Wt|=2;var f=zy(),x=Fy();rn!==i||Ot!==r?(Wu=null,Yu=Nt()+500,Ho(i,r)):Vo=Ge(i,r);e:do try{if(Kt!==0&&kt!==null){r=kt;var _=Ii;t:switch(Kt){case 1:Kt=0,Ii=null,Bo(i,r,_,1);break;case 2:case 9:if(Q0(_)){Kt=0,Ii=null,By(r);break}r=function(){Kt!==2&&Kt!==9||rn!==i||(Kt=7),Rs(i)},_.then(r,r);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:Q0(_)?(Kt=0,Ii=null,By(r)):(Kt=0,Ii=null,Bo(i,r,_,7));break;case 5:var R=null;switch(kt.tag){case 26:R=kt.memoizedState;case 5:case 27:var L=kt;if(R?Ax(R):L.stateNode.complete){Kt=0,Ii=null;var X=L.sibling;if(X!==null)kt=X;else{var me=L.return;me!==null?(kt=me,Xu(me)):kt=null}break t}}Kt=0,Ii=null,Bo(i,r,_,5);break;case 6:Kt=0,Ii=null,Bo(i,r,_,6);break;case 8:Lh(),Cn=6;break e;default:throw Error(s(462))}}tE();break}catch(_e){Uy(i,_e)}while(!0);return Xs=Ca=null,Y.H=f,Y.A=x,Wt=c,kt!==null?0:(rn=null,Ot=0,Ta(),Cn)}function tE(){for(;kt!==null&&!gn();)Hy(kt)}function Hy(i){var r=fy(i.alternate,i,or);i.memoizedProps=i.pendingProps,r===null?Xu(i):kt=r}function By(i){var r=i,c=r.alternate;switch(r.tag){case 15:case 0:r=ay(c,r,r.pendingProps,r.type,void 0,Ot);break;case 11:r=ay(c,r,r.pendingProps,r.type.render,r.ref,Ot);break;case 5:Zf(r);default:py(c,r),r=kt=F0(r,or),r=fy(c,r,or)}i.memoizedProps=i.pendingProps,r===null?Xu(i):kt=r}function Bo(i,r,c,f){Xs=Ca=null,Zf(r),Mo=null,Xl=0;var x=r.return;try{if(BT(i,x,r,c,Ot)){Cn=1,Uu(i,Hi(c,i.current)),kt=null;return}}catch(_){if(x!==null)throw kt=x,_;Cn=1,Uu(i,Hi(c,i.current)),kt=null;return}r.flags&32768?(Ut||f===1?i=!0:Vo||(Ot&536870912)!==0?i=!1:(Ur=i=!0,(f===2||f===9||f===3||f===6)&&(f=Ai.current,f!==null&&f.tag===13&&(f.flags|=16384))),Gy(r,i)):Xu(r)}function Xu(i){var r=i;do{if((r.flags&32768)!==0){Gy(r,Ur);return}i=r.return;var c=$T(r.alternate,r,or);if(c!==null){kt=c;return}if(r=r.sibling,r!==null){kt=r;return}kt=r=i}while(r!==null);Cn===0&&(Cn=5)}function Gy(i,r){do{var c=YT(i.alternate,i);if(c!==null){c.flags&=32767,kt=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!r&&(i=i.sibling,i!==null)){kt=i;return}kt=i=c}while(i!==null);Cn=6,kt=null}function qy(i,r,c,f,x,_,R,L,X){i.cancelPendingCommit=null;do Qu();while(Gn!==0);if((Wt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(_=r.lanes|r.childLanes,_|=To,yi(i,c,_,R,L,X),i===rn&&(kt=rn=null,Ot=0),Fo=r,Fr=i,lr=c,Dh=_,Ph=x,Dy=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,rE(C,function(){return Jy(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=Y.T,Y.T=null,x=Z.p,Z.p=2,R=Wt,Wt|=4;try{WT(i,r,c)}finally{Wt=R,Z.p=x,Y.T=f}}Gn=1,$y(),Yy(),Wy()}}function $y(){if(Gn===1){Gn=0;var i=Fr,r=Fo,c=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null;var f=Z.p;Z.p=2;var x=Wt;Wt|=4;try{Ny(r,i);var _=Jh,R=$e(i.containerInfo),L=_.focusedElem,X=_.selectionRange;if(R!==L&&L&&L.ownerDocument&&He(L.ownerDocument.documentElement,L)){if(X!==null&&ue(L)){var me=X.start,_e=X.end;if(_e===void 0&&(_e=me),"selectionStart"in L)L.selectionStart=me,L.selectionEnd=Math.min(_e,L.value.length);else{var Se=L.ownerDocument||document,ye=Se&&Se.defaultView||window;if(ye.getSelection){var we=ye.getSelection(),We=L.textContent.length,ct=Math.min(X.start,We),tn=X.end===void 0?ct:Math.min(X.end,We);!we.extend&&ct>tn&&(R=tn,tn=ct,ct=R);var fe=je(L,ct),ie=je(L,tn);if(fe&&ie&&(we.rangeCount!==1||we.anchorNode!==fe.node||we.anchorOffset!==fe.offset||we.focusNode!==ie.node||we.focusOffset!==ie.offset)){var pe=Se.createRange();pe.setStart(fe.node,fe.offset),we.removeAllRanges(),ct>tn?(we.addRange(pe),we.extend(ie.node,ie.offset)):(pe.setEnd(ie.node,ie.offset),we.addRange(pe))}}}}for(Se=[],we=L;we=we.parentNode;)we.nodeType===1&&Se.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Se.length;L++){var Te=Se[L];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}ud=!!Kh,Jh=Kh=null}finally{Wt=x,Z.p=f,Y.T=c}}i.current=r,Gn=2}}function Yy(){if(Gn===2){Gn=0;var i=Fr,r=Fo,c=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||c){c=Y.T,Y.T=null;var f=Z.p;Z.p=2;var x=Wt;Wt|=4;try{wy(i,r.alternate,r)}finally{Wt=x,Z.p=f,Y.T=c}}Gn=3}}function Wy(){if(Gn===4||Gn===3){Gn=0,gi();var i=Fr,r=Fo,c=lr,f=Dy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gn=5:(Gn=0,Fo=Fr=null,Ky(i,i.pendingLanes));var x=i.pendingLanes;if(x===0&&(zr=null),to(c),r=r.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Ke,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=Y.T,x=Z.p,Z.p=2,Y.T=null;try{for(var _=i.onRecoverableError,R=0;R<f.length;R++){var L=f[R];_(L.value,{componentStack:L.stack})}}finally{Y.T=r,Z.p=x}}(lr&3)!==0&&Qu(),Rs(i),x=i.pendingLanes,(c&261930)!==0&&(x&42)!==0?i===Oh?pc++:(pc=0,Oh=i):pc=0,mc(0)}}function Ky(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Kl(r)))}function Qu(){return $y(),Yy(),Wy(),Jy()}function Jy(){if(Gn!==5)return!1;var i=Fr,r=Dh;Dh=0;var c=to(lr),f=Y.T,x=Z.p;try{Z.p=32>c?32:c,Y.T=null,c=Ph,Ph=null;var _=Fr,R=lr;if(Gn=0,Fo=Fr=null,lr=0,(Wt&6)!==0)throw Error(s(331));var L=Wt;if(Wt|=4,jy(_.current),Ay(_,_.current,R,c),Wt=L,mc(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Ke,_)}catch{}return!0}finally{Z.p=x,Y.T=f,Ky(i,r)}}function Xy(i,r,c){r=Hi(c,r),r=ph(i.stateNode,r,2),i=Dr(i,r,2),i!==null&&(pt(i,2),Rs(i))}function Jt(i,r,c){if(i.tag===3)Xy(i,i,c);else for(;r!==null;){if(r.tag===3){Xy(r,i,c);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(zr===null||!zr.has(f))){i=Hi(c,i),c=Qg(2),f=Dr(r,c,2),f!==null&&(Zg(c,f,r,i),pt(f,2),Rs(f));break}}r=r.return}}function Vh(i,r,c){var f=i.pingCache;if(f===null){f=i.pingCache=new XT;var x=new Set;f.set(r,x)}else x=f.get(r),x===void 0&&(x=new Set,f.set(r,x));x.has(c)||(jh=!0,x.add(c),i=nE.bind(null,i,r,c),r.then(i,i))}function nE(i,r,c){var f=i.pingCache;f!==null&&f.delete(r),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,rn===i&&(Ot&c)===c&&(Cn===4||Cn===3&&(Ot&62914560)===Ot&&300>Nt()-$u?(Wt&2)===0&&Ho(i,0):Mh|=c,zo===Ot&&(zo=0)),Rs(i)}function Qy(i,r){r===0&&(r=$t()),i=di(i,r),i!==null&&(pt(i,r),Rs(i))}function iE(i){var r=i.memoizedState,c=0;r!==null&&(c=r.retryLane),Qy(i,c)}function sE(i,r){var c=0;switch(i.tag){case 31:case 13:var f=i.stateNode,x=i.memoizedState;x!==null&&(c=x.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(r),Qy(i,c)}function rE(i,r){return nn(i,r)}var Zu=null,Go=null,zh=!1,ed=!1,Fh=!1,Br=0;function Rs(i){i!==Go&&i.next===null&&(Go===null?Zu=Go=i:Go=Go.next=i),ed=!0,zh||(zh=!0,oE())}function mc(i,r){if(!Fh&&ed){Fh=!0;do for(var c=!1,f=Zu;f!==null;){if(i!==0){var x=f.pendingLanes;if(x===0)var _=0;else{var R=f.suspendedLanes,L=f.pingedLanes;_=(1<<31-rt(42|i)+1)-1,_&=x&~(R&~L),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,nx(f,_))}else _=Ot,_=Ct(f,f===rn?_:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(_&3)===0||Ge(f,_)||(c=!0,nx(f,_));f=f.next}while(c);Fh=!1}}function aE(){Zy()}function Zy(){ed=zh=!1;var i=0;Br!==0&&yE()&&(i=Br);for(var r=Nt(),c=null,f=Zu;f!==null;){var x=f.next,_=ex(f,r);_===0?(f.next=null,c===null?Zu=x:c.next=x,x===null&&(Go=c)):(c=f,(i!==0||(_&3)!==0)&&(ed=!0)),f=x}Gn!==0&&Gn!==5||mc(i),Br!==0&&(Br=0)}function ex(i,r){for(var c=i.suspendedLanes,f=i.pingedLanes,x=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var R=31-rt(_),L=1<<R,X=x[R];X===-1?((L&c)===0||(L&f)!==0)&&(x[R]=Rn(L,r)):X<=r&&(i.expiredLanes|=L),_&=~L}if(r=rn,c=Ot,c=Ct(i,i===r?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,c===0||i===r&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&sn(f),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Ge(i,c)){if(r=c&-c,r===i.callbackPriority)return r;switch(f!==null&&sn(f),to(c)){case 2:case 8:c=E;break;case 32:c=C;break;case 268435456:c=ae;break;default:c=C}return f=tx.bind(null,i),c=nn(c,f),i.callbackPriority=r,i.callbackNode=c,r}return f!==null&&f!==null&&sn(f),i.callbackPriority=2,i.callbackNode=null,2}function tx(i,r){if(Gn!==0&&Gn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Qu()&&i.callbackNode!==c)return null;var f=Ot;return f=Ct(i,i===rn?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Oy(i,f,r),ex(i,Nt()),i.callbackNode!=null&&i.callbackNode===c?tx.bind(null,i):null)}function nx(i,r){if(Qu())return null;Oy(i,r,!0)}function oE(){vE(function(){(Wt&6)!==0?nn(M,aE):Zy()})}function Hh(){if(Br===0){var i=Ro;i===0&&(i=Ht,Ht<<=1,(Ht&261888)===0&&(Ht=256)),Br=i}return Br}function ix(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Fs(""+i)}function sx(i,r){var c=r.ownerDocument.createElement("input");return c.name=r.name,c.value=r.value,i.id&&c.setAttribute("form",i.id),r.parentNode.insertBefore(c,r),i=new FormData(i),c.parentNode.removeChild(c),i}function lE(i,r,c,f,x){if(r==="submit"&&c&&c.stateNode===x){var _=ix((x[Tn]||null).action),R=f.submitter;R&&(r=(r=R[Tn]||null)?ix(r.formAction):R.getAttribute("formAction"),r!==null&&(_=r,R=null));var L=new Gs("action","action",null,f,x);i.push({event:L,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Br!==0){var X=R?sx(x,R):new FormData(x);lh(c,{pending:!0,data:X,method:x.method,action:_},null,X)}}else typeof _=="function"&&(L.preventDefault(),X=R?sx(x,R):new FormData(x),lh(c,{pending:!0,data:X,method:x.method,action:_},_,X))},currentTarget:x}]})}}for(var Bh=0;Bh<zt.length;Bh++){var Gh=zt[Bh],cE=Gh.toLowerCase(),uE=Gh[0].toUpperCase()+Gh.slice(1);xn(cE,"on"+uE)}xn(xu,"onAnimationEnd"),xn(Ie,"onAnimationIteration"),xn(Oe,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Rt,"onTransitionRun"),xn(Pt,"onTransitionStart"),xn(bt,"onTransitionCancel"),xn(It,"onTransitionEnd"),ts("onMouseEnter",["mouseout","mouseover"]),ts("onMouseLeave",["mouseout","mouseover"]),ts("onPointerEnter",["pointerout","pointerover"]),ts("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function rx(i,r){r=(r&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],x=f.event;f=f.listeners;e:{var _=void 0;if(r)for(var R=f.length-1;0<=R;R--){var L=f[R],X=L.instance,me=L.currentTarget;if(L=L.listener,X!==_&&x.isPropagationStopped())break e;_=L,x.currentTarget=me;try{_(x)}catch(_e){vn(_e)}x.currentTarget=null,_=X}else for(R=0;R<f.length;R++){if(L=f[R],X=L.instance,me=L.currentTarget,L=L.listener,X!==_&&x.isPropagationStopped())break e;_=L,x.currentTarget=me;try{_(x)}catch(_e){vn(_e)}x.currentTarget=null,_=X}}}}function Dt(i,r){var c=r[io];c===void 0&&(c=r[io]=new Set);var f=i+"__bubble";c.has(f)||(ax(r,i,2,!1),c.add(f))}function qh(i,r,c){var f=0;r&&(f|=4),ax(c,i,f,r)}var td="_reactListening"+Math.random().toString(36).slice(2);function $h(i){if(!i[td]){i[td]=!0,jl.forEach(function(c){c!=="selectionchange"&&(dE.has(c)||qh(c,!1,i),qh(c,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[td]||(r[td]=!0,qh("selectionchange",!1,r))}}function ax(i,r,c,f){switch(Px(r)){case 2:var x=VE;break;case 8:x=zE;break;default:x=op}c=x.bind(null,r,c,i),x=void 0,!_s||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(x=!0),f?x!==void 0?i.addEventListener(r,c,{capture:!0,passive:x}):i.addEventListener(r,c,!0):x!==void 0?i.addEventListener(r,c,{passive:x}):i.addEventListener(r,c,!1)}function Yh(i,r,c,f,x){var _=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var R=f.tag;if(R===3||R===4){var L=f.stateNode.containerInfo;if(L===x)break;if(R===4)for(R=f.return;R!==null;){var X=R.tag;if((X===3||X===4)&&R.stateNode.containerInfo===x)return;R=R.return}for(;L!==null;){if(R=oi(L),R===null)return;if(X=R.tag,X===5||X===6||X===26||X===27){f=_=R;continue e}L=L.parentNode}}f=f.return}ga(function(){var me=_,_e=ho(c),Se=[];e:{var ye=Vt.get(i);if(ye!==void 0){var we=Gs,We=i;switch(i){case"keypress":if(Hs(c)===0)break e;case"keydown":case"keyup":we=bf;break;case"focusin":We="focus",we=Dn;break;case"focusout":We="blur",we=Dn;break;case"beforeblur":case"afterblur":we=Dn;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=_f;break;case xu:case Ie:case Oe:we=ss;break;case It:we=Ef;break;case"scroll":case"scrollend":we=hf;break;case"wheel":we=mu;break;case"copy":case"cut":case"paste":we=go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=pu;break;case"toggle":case"beforetoggle":we=Ul}var ct=(r&4)!==0,tn=!ct&&(i==="scroll"||i==="scrollend"),fe=ct?ye!==null?ye+"Capture":null:ye;ct=[];for(var ie=me,pe;ie!==null;){var Te=ie;if(pe=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||pe===null||fe===null||(Te=is(ie,fe),Te!=null&&ct.push(yc(ie,Te,pe))),tn)break;ie=ie.return}0<ct.length&&(ye=new we(ye,We,null,c,_e),Se.push({event:ye,listeners:ct}))}}if((r&7)===0){e:{if(ye=i==="mouseover"||i==="pointerover",we=i==="mouseout"||i==="pointerout",ye&&c!==fo&&(We=c.relatedTarget||c.fromElement)&&(oi(We)||We[Us]))break e;if((we||ye)&&(ye=_e.window===_e?_e:(ye=_e.ownerDocument)?ye.defaultView||ye.parentWindow:window,we?(We=c.relatedTarget||c.toElement,we=me,We=We?oi(We):null,We!==null&&(tn=l(We),ct=We.tag,We!==tn||ct!==5&&ct!==27&&ct!==6)&&(We=null)):(we=null,We=me),we!==We)){if(ct=Ol,Te="onMouseLeave",fe="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(ct=pu,Te="onPointerLeave",fe="onPointerEnter",ie="pointer"),tn=we==null?ye:ca(we),pe=We==null?ye:ca(We),ye=new ct(Te,ie+"leave",we,c,_e),ye.target=tn,ye.relatedTarget=pe,Te=null,oi(_e)===me&&(ct=new ct(fe,ie+"enter",We,c,_e),ct.target=pe,ct.relatedTarget=tn,Te=ct),tn=Te,we&&We)t:{for(ct=fE,fe=we,ie=We,pe=0,Te=fe;Te;Te=ct(Te))pe++;Te=0;for(var at=ie;at;at=ct(at))Te++;for(;0<pe-Te;)fe=ct(fe),pe--;for(;0<Te-pe;)ie=ct(ie),Te--;for(;pe--;){if(fe===ie||ie!==null&&fe===ie.alternate){ct=fe;break t}fe=ct(fe),ie=ct(ie)}ct=null}else ct=null;we!==null&&ox(Se,ye,we,ct,!1),We!==null&&tn!==null&&ox(Se,tn,We,ct,!0)}}e:{if(ye=me?ca(me):window,we=ye.nodeName&&ye.nodeName.toLowerCase(),we==="select"||we==="input"&&ye.type==="file")var Bt=Gl;else if(wa(ye))if(ql)Bt=q;else{Bt=I;var Je=A}else we=ye.nodeName,!we||we.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?me&&ns(me.elementType)&&(Bt=Gl):Bt=U;if(Bt&&(Bt=Bt(i,me))){Hl(Se,Bt,c,_e);break e}Je&&Je(i,ye,me),i==="focusout"&&me&&ye.type==="number"&&me.memoizedProps.value!=null&&co(ye,"number",ye.value)}switch(Je=me?ca(me):window,i){case"focusin":(wa(Je)||Je.contentEditable==="true")&&(Ce=Je,yt=me,_t=null);break;case"focusout":_t=yt=Ce=null;break;case"mousedown":Ve=!0;break;case"contextmenu":case"mouseup":case"dragend":Ve=!1,Yt(Se,c,_e);break;case"selectionchange":if(ke)break;case"keydown":case"keyup":Yt(Se,c,_e)}var St;if(zl)e:{switch(i){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else $s?wo(i,c)&&(Lt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Lt="onCompositionStart");Lt&&(vo&&c.locale!=="ko"&&($s||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&$s&&(St=po()):(Sn=_e,Dl="value"in Sn?Sn.value:Sn.textContent,$s=!0)),Je=nd(me,Lt),0<Je.length&&(Lt=new xo(Lt,i,null,c,_e),Se.push({event:Lt,listeners:Je}),St?Lt.data=St:(St=ba(c),St!==null&&(Lt.data=St)))),(St=Cf?gu(i,c):Af(i,c))&&(Lt=nd(me,"onBeforeInput"),0<Lt.length&&(Je=new xo("onBeforeInput","beforeinput",null,c,_e),Se.push({event:Je,listeners:Lt}),Je.data=St)),lE(Se,i,me,c,_e)}rx(Se,r)})}function yc(i,r,c){return{instance:i,listener:r,currentTarget:c}}function nd(i,r){for(var c=r+"Capture",f=[];i!==null;){var x=i,_=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||_===null||(x=is(i,c),x!=null&&f.unshift(yc(i,x,_)),x=is(i,r),x!=null&&f.push(yc(i,x,_))),i.tag===3)return f;i=i.return}return[]}function fE(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ox(i,r,c,f,x){for(var _=r._reactName,R=[];c!==null&&c!==f;){var L=c,X=L.alternate,me=L.stateNode;if(L=L.tag,X!==null&&X===f)break;L!==5&&L!==26&&L!==27||me===null||(X=me,x?(me=is(c,_),me!=null&&R.unshift(yc(c,me,X))):x||(me=is(c,_),me!=null&&R.push(yc(c,me,X)))),c=c.return}R.length!==0&&i.push({event:r,listeners:R})}var hE=/\r\n?/g,pE=/\u0000|\uFFFD/g;function lx(i){return(typeof i=="string"?i:""+i).replace(hE,`
`).replace(pE,"")}function cx(i,r){return r=lx(r),lx(i)===r}function en(i,r,c,f,x,_){switch(c){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||bs(i,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&bs(i,""+f);break;case"className":xs(i,"class",f);break;case"tabIndex":xs(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":xs(i,c,f);break;case"style":uo(i,f,_);break;case"data":if(r!=="object"){xs(i,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||c!=="href")){i.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Fs(""+f),i.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(r!=="input"&&en(i,r,"name",x.name,x,null),en(i,r,"formEncType",x.formEncType,x,null),en(i,r,"formMethod",x.formMethod,x,null),en(i,r,"formTarget",x.formTarget,x,null)):(en(i,r,"encType",x.encType,x,null),en(i,r,"method",x.method,x,null),en(i,r,"target",x.target,x,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(c);break}f=Fs(""+f),i.setAttribute(c,f);break;case"onClick":f!=null&&(i.onclick=Ci);break;case"onScroll":f!=null&&Dt("scroll",i);break;case"onScrollEnd":f!=null&&Dt("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(x.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}c=Fs(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""+f):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":f===!0?i.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(c,f):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(c,f):i.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(c):i.setAttribute(c,f);break;case"popover":Dt("beforetoggle",i),Dt("toggle",i),da(i,"popover",f);break;case"xlinkActuate":Vi(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Vi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Vi(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Vi(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Vi(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Vi(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Vi(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Vi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Vi(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":da(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=cu.get(c)||c,da(i,c,f))}}function Wh(i,r,c,f,x,_){switch(c){case"style":uo(i,f,_);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(c=f.__html,c!=null){if(x.children!=null)throw Error(s(60));i.innerHTML=c}}break;case"children":typeof f=="string"?bs(i,f):(typeof f=="number"||typeof f=="bigint")&&bs(i,""+f);break;case"onScroll":f!=null&&Dt("scroll",i);break;case"onScrollEnd":f!=null&&Dt("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ao.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),r=c.slice(2,x?c.length-7:void 0),_=i[Tn]||null,_=_!=null?_[c]:null,typeof _=="function"&&i.removeEventListener(r,_,x),typeof f=="function")){typeof _!="function"&&_!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(r,f,x);break e}c in i?i[c]=f:f===!0?i.setAttribute(c,""):da(i,c,f)}}}function Zn(i,r,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",i),Dt("load",i);var f=!1,x=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var R=c[_];if(R!=null)switch(_){case"src":f=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:en(i,r,_,R,c,null)}}x&&en(i,r,"srcSet",c.srcSet,c,null),f&&en(i,r,"src",c.src,c,null);return;case"input":Dt("invalid",i);var L=_=R=x=null,X=null,me=null;for(f in c)if(c.hasOwnProperty(f)){var _e=c[f];if(_e!=null)switch(f){case"name":x=_e;break;case"type":R=_e;break;case"checked":X=_e;break;case"defaultChecked":me=_e;break;case"value":_=_e;break;case"defaultValue":L=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(s(137,r));break;default:en(i,r,f,_e,c,null)}}kl(i,_,L,X,me,R,x,!1);return;case"select":Dt("invalid",i),f=R=_=null;for(x in c)if(c.hasOwnProperty(x)&&(L=c[x],L!=null))switch(x){case"value":_=L;break;case"defaultValue":R=L;break;case"multiple":f=L;default:en(i,r,x,L,c,null)}r=_,c=R,i.multiple=!!f,r!=null?zs(i,!!f,r,!1):c!=null&&zs(i,!!f,c,!0);return;case"textarea":Dt("invalid",i),_=x=f=null;for(R in c)if(c.hasOwnProperty(R)&&(L=c[R],L!=null))switch(R){case"value":f=L;break;case"defaultValue":x=L;break;case"children":_=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:en(i,r,R,L,c,null)}wr(i,f,x,_);return;case"option":for(X in c)if(c.hasOwnProperty(X)&&(f=c[X],f!=null))switch(X){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:en(i,r,X,f,c,null)}return;case"dialog":Dt("beforetoggle",i),Dt("toggle",i),Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":Dt("load",i);break;case"video":case"audio":for(f=0;f<gc.length;f++)Dt(gc[f],i);break;case"image":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"embed":case"source":case"link":Dt("error",i),Dt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in c)if(c.hasOwnProperty(me)&&(f=c[me],f!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:en(i,r,me,f,c,null)}return;default:if(ns(r)){for(_e in c)c.hasOwnProperty(_e)&&(f=c[_e],f!==void 0&&Wh(i,r,_e,f,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(f=c[L],f!=null&&en(i,r,L,f,c,null))}function mE(i,r,c,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,_=null,R=null,L=null,X=null,me=null,_e=null;for(we in c){var Se=c[we];if(c.hasOwnProperty(we)&&Se!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":X=Se;default:f.hasOwnProperty(we)||en(i,r,we,null,f,Se)}}for(var ye in f){var we=f[ye];if(Se=c[ye],f.hasOwnProperty(ye)&&(we!=null||Se!=null))switch(ye){case"type":_=we;break;case"name":x=we;break;case"checked":me=we;break;case"defaultChecked":_e=we;break;case"value":R=we;break;case"defaultValue":L=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(s(137,r));break;default:we!==Se&&en(i,r,ye,we,f,Se)}}vi(i,R,L,X,me,_e,_,x);return;case"select":we=R=L=ye=null;for(_ in c)if(X=c[_],c.hasOwnProperty(_)&&X!=null)switch(_){case"value":break;case"multiple":we=X;default:f.hasOwnProperty(_)||en(i,r,_,null,f,X)}for(x in f)if(_=f[x],X=c[x],f.hasOwnProperty(x)&&(_!=null||X!=null))switch(x){case"value":ye=_;break;case"defaultValue":L=_;break;case"multiple":R=_;default:_!==X&&en(i,r,x,_,f,X)}r=L,c=R,f=we,ye!=null?zs(i,!!c,ye,!1):!!f!=!!c&&(r!=null?zs(i,!!c,r,!0):zs(i,!!c,c?[]:"",!1));return;case"textarea":we=ye=null;for(L in c)if(x=c[L],c.hasOwnProperty(L)&&x!=null&&!f.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:en(i,r,L,null,f,x)}for(R in f)if(x=f[R],_=c[R],f.hasOwnProperty(R)&&(x!=null||_!=null))switch(R){case"value":ye=x;break;case"defaultValue":we=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==_&&en(i,r,R,x,f,_)}pn(i,ye,we);return;case"option":for(var We in c)if(ye=c[We],c.hasOwnProperty(We)&&ye!=null&&!f.hasOwnProperty(We))switch(We){case"selected":i.selected=!1;break;default:en(i,r,We,null,f,ye)}for(X in f)if(ye=f[X],we=c[X],f.hasOwnProperty(X)&&ye!==we&&(ye!=null||we!=null))switch(X){case"selected":i.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:en(i,r,X,ye,f,we)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in c)ye=c[ct],c.hasOwnProperty(ct)&&ye!=null&&!f.hasOwnProperty(ct)&&en(i,r,ct,null,f,ye);for(me in f)if(ye=f[me],we=c[me],f.hasOwnProperty(me)&&ye!==we&&(ye!=null||we!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,r));break;default:en(i,r,me,ye,f,we)}return;default:if(ns(r)){for(var tn in c)ye=c[tn],c.hasOwnProperty(tn)&&ye!==void 0&&!f.hasOwnProperty(tn)&&Wh(i,r,tn,void 0,f,ye);for(_e in f)ye=f[_e],we=c[_e],!f.hasOwnProperty(_e)||ye===we||ye===void 0&&we===void 0||Wh(i,r,_e,ye,f,we);return}}for(var fe in c)ye=c[fe],c.hasOwnProperty(fe)&&ye!=null&&!f.hasOwnProperty(fe)&&en(i,r,fe,null,f,ye);for(Se in f)ye=f[Se],we=c[Se],!f.hasOwnProperty(Se)||ye===we||ye==null&&we==null||en(i,r,Se,ye,f,we)}function ux(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gE(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var x=c[f],_=x.transferSize,R=x.initiatorType,L=x.duration;if(_&&L&&ux(R)){for(R=0,L=x.responseEnd,f+=1;f<c.length;f++){var X=c[f],me=X.startTime;if(me>L)break;var _e=X.transferSize,Se=X.initiatorType;_e&&ux(Se)&&(X=X.responseEnd,R+=_e*(X<L?1:(L-me)/(X-me)))}if(--f,r+=8*(_+R)/(x.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Kh=null,Jh=null;function id(i){return i.nodeType===9?i:i.ownerDocument}function dx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fx(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Xh(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qh=null;function yE(){var i=window.event;return i&&i.type==="popstate"?i===Qh?!1:(Qh=i,!0):(Qh=null,!1)}var hx=typeof setTimeout=="function"?setTimeout:void 0,xE=typeof clearTimeout=="function"?clearTimeout:void 0,px=typeof Promise=="function"?Promise:void 0,vE=typeof queueMicrotask=="function"?queueMicrotask:typeof px<"u"?function(i){return px.resolve(null).then(i).catch(bE)}:hx;function bE(i){setTimeout(function(){throw i})}function Gr(i){return i==="head"}function mx(i,r){var c=r,f=0;do{var x=c.nextSibling;if(i.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(f===0){i.removeChild(x),Wo(r);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")xc(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,xc(c);for(var _=c.firstChild;_;){var R=_.nextSibling,L=_.nodeName;_[ys]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=R}}else c==="body"&&xc(i.ownerDocument.body);c=x}while(c);Wo(r)}function gx(i,r){var c=i;i=0;do{var f=c.nextSibling;if(c.nodeType===1?r?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(r?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=f}while(c)}function Zh(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var c=r;switch(r=r.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Zh(c),ro(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function wE(i,r,c,f){for(;i.nodeType===1;){var x=c;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[ys])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==x.rel||i.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||i.getAttribute("title")!==(x.title==null?null:x.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(x.src==null?null:x.src)||i.getAttribute("type")!==(x.type==null?null:x.type)||i.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var _=x.name==null?null:""+x.name;if(x.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Yi(i.nextSibling),i===null)break}return null}function _E(i,r,c){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Yi(i.nextSibling),i===null))return null;return i}function yx(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Yi(i.nextSibling),i===null))return null;return i}function ep(i){return i.data==="$?"||i.data==="$~"}function tp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function TE(i,r){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||c.readyState!=="loading")r();else{var f=function(){r(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Yi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var np=null;function xx(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(r===0)return Yi(i.nextSibling);r--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||r++}i=i.nextSibling}return null}function vx(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(r===0)return i;r--}else c!=="/$"&&c!=="/&"||r++}i=i.previousSibling}return null}function bx(i,r,c){switch(r=id(c),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function xc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);ro(i)}var Wi=new Map,wx=new Set;function sd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var cr=Z.d;Z.d={f:EE,r:SE,D:NE,C:CE,L:AE,m:RE,X:jE,S:IE,M:ME};function EE(){var i=cr.f(),r=Ku();return i||r}function SE(i){var r=Vs(i);r!==null&&r.tag===5&&r.type==="form"?Ug(r):cr.r(i)}var qo=typeof document>"u"?null:document;function _x(i,r,c){var f=qo;if(f&&typeof r=="string"&&r){var x=yn(r);x='link[rel="'+i+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),wx.has(x)||(wx.add(x),i={rel:i,crossOrigin:c,href:r},f.querySelector(x)===null&&(r=f.createElement("link"),Zn(r,"link",i),En(r),f.head.appendChild(r)))}}function NE(i){cr.D(i),_x("dns-prefetch",i,null)}function CE(i,r){cr.C(i,r),_x("preconnect",i,r)}function AE(i,r,c){cr.L(i,r,c);var f=qo;if(f&&i&&r){var x='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+yn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+yn(c.imageSizes)+'"]')):x+='[href="'+yn(i)+'"]';var _=x;switch(r){case"style":_=$o(i);break;case"script":_=Yo(i)}Wi.has(_)||(i=b({rel:"preload",href:r==="image"&&c&&c.imageSrcSet?void 0:i,as:r},c),Wi.set(_,i),f.querySelector(x)!==null||r==="style"&&f.querySelector(vc(_))||r==="script"&&f.querySelector(bc(_))||(r=f.createElement("link"),Zn(r,"link",i),En(r),f.head.appendChild(r)))}}function RE(i,r){cr.m(i,r);var c=qo;if(c&&i){var f=r&&typeof r.as=="string"?r.as:"script",x='link[rel="modulepreload"][as="'+yn(f)+'"][href="'+yn(i)+'"]',_=x;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Yo(i)}if(!Wi.has(_)&&(i=b({rel:"modulepreload",href:i},r),Wi.set(_,i),c.querySelector(x)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bc(_)))return}f=c.createElement("link"),Zn(f,"link",i),En(f),c.head.appendChild(f)}}}function IE(i,r,c){cr.S(i,r,c);var f=qo;if(f&&i){var x=br(f).hoistableStyles,_=$o(i);r=r||"default";var R=x.get(_);if(!R){var L={loading:0,preload:null};if(R=f.querySelector(vc(_)))L.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},c),(c=Wi.get(_))&&ip(i,c);var X=R=f.createElement("link");En(X),Zn(X,"link",i),X._p=new Promise(function(me,_e){X.onload=me,X.onerror=_e}),X.addEventListener("load",function(){L.loading|=1}),X.addEventListener("error",function(){L.loading|=2}),L.loading|=4,rd(R,r,f)}R={type:"stylesheet",instance:R,count:1,state:L},x.set(_,R)}}}function jE(i,r){cr.X(i,r);var c=qo;if(c&&i){var f=br(c).hoistableScripts,x=Yo(i),_=f.get(x);_||(_=c.querySelector(bc(x)),_||(i=b({src:i,async:!0},r),(r=Wi.get(x))&&sp(i,r),_=c.createElement("script"),En(_),Zn(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(x,_))}}function ME(i,r){cr.M(i,r);var c=qo;if(c&&i){var f=br(c).hoistableScripts,x=Yo(i),_=f.get(x);_||(_=c.querySelector(bc(x)),_||(i=b({src:i,async:!0,type:"module"},r),(r=Wi.get(x))&&sp(i,r),_=c.createElement("script"),En(_),Zn(_,"link",i),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},f.set(x,_))}}function Tx(i,r,c,f){var x=(x=Me.current)?sd(x):null;if(!x)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(r=$o(c.href),c=br(x).hoistableStyles,f=c.get(r),f||(f={type:"style",instance:null,count:0,state:null},c.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=$o(c.href);var _=br(x).hoistableStyles,R=_.get(i);if(R||(x=x.ownerDocument||x,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,R),(_=x.querySelector(vc(i)))&&!_._p&&(R.instance=_,R.state.loading=5),Wi.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Wi.set(i,c),_||kE(x,i,c,R.state))),r&&f===null)throw Error(s(528,""));return R}if(r&&f!==null)throw Error(s(529,""));return null;case"script":return r=c.async,c=c.src,typeof c=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Yo(c),c=br(x).hoistableScripts,f=c.get(r),f||(f={type:"script",instance:null,count:0,state:null},c.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function $o(i){return'href="'+yn(i)+'"'}function vc(i){return'link[rel="stylesheet"]['+i+"]"}function Ex(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function kE(i,r,c,f){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=i.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Zn(r,"link",c),En(r),i.head.appendChild(r))}function Yo(i){return'[src="'+yn(i)+'"]'}function bc(i){return"script[async]"+i}function Sx(i,r,c){if(r.count++,r.instance===null)switch(r.type){case"style":var f=i.querySelector('style[data-href~="'+yn(c.href)+'"]');if(f)return r.instance=f,En(f),f;var x=b({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),En(f),Zn(f,"style",x),rd(f,c.precedence,i),r.instance=f;case"stylesheet":x=$o(c.href);var _=i.querySelector(vc(x));if(_)return r.state.loading|=4,r.instance=_,En(_),_;f=Ex(c),(x=Wi.get(x))&&ip(f,x),_=(i.ownerDocument||i).createElement("link"),En(_);var R=_;return R._p=new Promise(function(L,X){R.onload=L,R.onerror=X}),Zn(_,"link",f),r.state.loading|=4,rd(_,c.precedence,i),r.instance=_;case"script":return _=Yo(c.src),(x=i.querySelector(bc(_)))?(r.instance=x,En(x),x):(f=c,(x=Wi.get(_))&&(f=b({},c),sp(f,x)),i=i.ownerDocument||i,x=i.createElement("script"),En(x),Zn(x,"link",f),i.head.appendChild(x),r.instance=x);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,rd(f,c.precedence,i));return r.instance}function rd(i,r,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=f.length?f[f.length-1]:null,_=x,R=0;R<f.length;R++){var L=f[R];if(L.dataset.precedence===r)_=L;else if(_!==x)break}_?_.parentNode.insertBefore(i,_.nextSibling):(r=c.nodeType===9?c.head:c,r.insertBefore(i,r.firstChild))}function ip(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function sp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var ad=null;function Nx(i,r,c){if(ad===null){var f=new Map,x=ad=new Map;x.set(c,f)}else x=ad,f=x.get(c),f||(f=new Map,x.set(c,f));if(f.has(i))return f;for(f.set(i,null),c=c.getElementsByTagName(i),x=0;x<c.length;x++){var _=c[x];if(!(_[ys]||_[Bn]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(r)||"";R=i+R;var L=f.get(R);L?L.push(_):f.set(R,[_])}}return f}function Cx(i,r,c){i=i.ownerDocument||i,i.head.insertBefore(c,r==="title"?i.querySelector("head > title"):null)}function DE(i,r,c){if(c===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ax(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function PE(i,r,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=$o(f.href),_=r.querySelector(vc(x));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=od.bind(i),r.then(i,i)),c.state.loading|=4,c.instance=_,En(_);return}_=r.ownerDocument||r,f=Ex(f),(x=Wi.get(x))&&ip(f,x),_=_.createElement("link"),En(_);var R=_;R._p=new Promise(function(L,X){R.onload=L,R.onerror=X}),Zn(_,"link",f),c.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,r),(r=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=od.bind(i),r.addEventListener("load",c),r.addEventListener("error",c))}}var rp=0;function OE(i,r){return i.stylesheets&&i.count===0&&cd(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var f=setTimeout(function(){if(i.stylesheets&&cd(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+r);0<i.imgBytes&&rp===0&&(rp=62500*gE());var x=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&cd(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>rp?50:800)+r);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(x)}}:null}function od(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ld=null;function cd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ld=new Map,r.forEach(LE,i),ld=null,od.call(i))}function LE(i,r){if(!(r.state.loading&4)){var c=ld.get(i);if(c)var f=c.get(null);else{c=new Map,ld.set(i,c);for(var x=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<x.length;_++){var R=x[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(c.set(R.dataset.precedence,R),f=R)}f&&c.set(null,f)}x=r.instance,R=x.getAttribute("data-precedence"),_=c.get(R)||f,_===f&&c.set(null,x),c.set(R,x),this.count++,f=od.bind(this),x.addEventListener("load",f),x.addEventListener("error",f),_?_.parentNode.insertBefore(x,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(x,i.firstChild)),r.state.loading|=4}}var wc={$$typeof:k,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function UE(i,r,c,f,x,_,R,L,X){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qe(0),this.hiddenUpdates=qe(null),this.identifierPrefix=f,this.onUncaughtError=x,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Rx(i,r,c,f,x,_,R,L,X,me,_e,Se){return i=new UE(i,r,c,R,X,me,_e,Se,L),r=1,_===!0&&(r|=24),_=fi(3,null,null,r),i.current=_,_.stateNode=i,r=Uf(),r.refCount++,i.pooledCache=r,r.refCount++,_.memoizedState={element:f,isDehydrated:c,cache:r},Hf(_),i}function Ix(i){return i?(i=Ws,i):Ws}function jx(i,r,c,f,x,_){x=Ix(x),f.context===null?f.context=x:f.pendingContext=x,f=kr(r),f.payload={element:c},_=_===void 0?null:_,_!==null&&(f.callback=_),c=Dr(i,f,r),c!==null&&(Ei(c,i,r),Zl(c,i,r))}function Mx(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<r?c:r}}function ap(i,r){Mx(i,r),(i=i.alternate)&&Mx(i,r)}function kx(i){if(i.tag===13||i.tag===31){var r=di(i,67108864);r!==null&&Ei(r,i,67108864),ap(i,67108864)}}function Dx(i){if(i.tag===13||i.tag===31){var r=Mi();r=Ls(r);var c=di(i,r);c!==null&&Ei(c,i,r),ap(i,r)}}var ud=!0;function VE(i,r,c,f){var x=Y.T;Y.T=null;var _=Z.p;try{Z.p=2,op(i,r,c,f)}finally{Z.p=_,Y.T=x}}function zE(i,r,c,f){var x=Y.T;Y.T=null;var _=Z.p;try{Z.p=8,op(i,r,c,f)}finally{Z.p=_,Y.T=x}}function op(i,r,c,f){if(ud){var x=lp(f);if(x===null)Yh(i,r,f,dd,c),Ox(i,f);else if(HE(x,i,r,c,f))f.stopPropagation();else if(Ox(i,f),r&4&&-1<FE.indexOf(i)){for(;x!==null;){var _=Vs(x);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=vt(_.pendingLanes);if(R!==0){var L=_;for(L.pendingLanes|=2,L.entangledLanes|=2;R;){var X=1<<31-rt(R);L.entanglements[1]|=X,R&=~X}Rs(_),(Wt&6)===0&&(Yu=Nt()+500,mc(0))}}break;case 31:case 13:L=di(_,2),L!==null&&Ei(L,_,2),Ku(),ap(_,2)}if(_=lp(f),_===null&&Yh(i,r,f,dd,c),_===x)break;x=_}x!==null&&f.stopPropagation()}else Yh(i,r,f,null,c)}}function lp(i){return i=ho(i),cp(i)}var dd=null;function cp(i){if(dd=null,i=oi(i),i!==null){var r=l(i);if(r===null)i=null;else{var c=r.tag;if(c===13){if(i=u(r),i!==null)return i;i=null}else if(c===31){if(i=d(r),i!==null)return i;i=null}else if(c===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return dd=i,null}function Px(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lt()){case M:return 2;case E:return 8;case C:case z:return 32;case ae:return 268435456;default:return 32}default:return 32}}var up=!1,qr=null,$r=null,Yr=null,_c=new Map,Tc=new Map,Wr=[],FE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ox(i,r){switch(i){case"focusin":case"focusout":qr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":_c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(r.pointerId)}}function Ec(i,r,c,f,x,_){return i===null||i.nativeEvent!==_?(i={blockedOn:r,domEventName:c,eventSystemFlags:f,nativeEvent:_,targetContainers:[x]},r!==null&&(r=Vs(r),r!==null&&kx(r)),i):(i.eventSystemFlags|=f,r=i.targetContainers,x!==null&&r.indexOf(x)===-1&&r.push(x),i)}function HE(i,r,c,f,x){switch(r){case"focusin":return qr=Ec(qr,i,r,c,f,x),!0;case"dragenter":return $r=Ec($r,i,r,c,f,x),!0;case"mouseover":return Yr=Ec(Yr,i,r,c,f,x),!0;case"pointerover":var _=x.pointerId;return _c.set(_,Ec(_c.get(_)||null,i,r,c,f,x)),!0;case"gotpointercapture":return _=x.pointerId,Tc.set(_,Ec(Tc.get(_)||null,i,r,c,f,x)),!0}return!1}function Lx(i){var r=oi(i.target);if(r!==null){var c=l(r);if(c!==null){if(r=c.tag,r===13){if(r=u(c),r!==null){i.blockedOn=r,no(i.priority,function(){Dx(c)});return}}else if(r===31){if(r=d(c),r!==null){i.blockedOn=r,no(i.priority,function(){Dx(c)});return}}else if(r===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var c=lp(i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);fo=f,c.target.dispatchEvent(f),fo=null}else return r=Vs(c),r!==null&&kx(r),i.blockedOn=c,!1;r.shift()}return!0}function Ux(i,r,c){fd(i)&&c.delete(r)}function BE(){up=!1,qr!==null&&fd(qr)&&(qr=null),$r!==null&&fd($r)&&($r=null),Yr!==null&&fd(Yr)&&(Yr=null),_c.forEach(Ux),Tc.forEach(Ux)}function hd(i,r){i.blockedOn===r&&(i.blockedOn=null,up||(up=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BE)))}var pd=null;function Vx(i){pd!==i&&(pd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pd===i&&(pd=null);for(var r=0;r<i.length;r+=3){var c=i[r],f=i[r+1],x=i[r+2];if(typeof f!="function"){if(cp(f||c)===null)continue;break}var _=Vs(c);_!==null&&(i.splice(r,3),r-=3,lh(_,{pending:!0,data:x,method:c.method,action:f},f,x))}}))}function Wo(i){function r(X){return hd(X,i)}qr!==null&&hd(qr,i),$r!==null&&hd($r,i),Yr!==null&&hd(Yr,i),_c.forEach(r),Tc.forEach(r);for(var c=0;c<Wr.length;c++){var f=Wr[c];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Wr.length&&(c=Wr[0],c.blockedOn===null);)Lx(c),c.blockedOn===null&&Wr.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var x=c[f],_=c[f+1],R=x[Tn]||null;if(typeof _=="function")R||Vx(c);else if(R){var L=null;if(_&&_.hasAttribute("formAction")){if(x=_,R=_[Tn]||null)L=R.formAction;else if(cp(x)!==null)continue}else L=R.action;typeof L=="function"?c[f+1]=L:(c.splice(f,3),f-=3),Vx(c)}}}function zx(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(R){return x=R})},focusReset:"manual",scroll:"manual"})}function r(){x!==null&&(x(),x=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,x=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),x!==null&&(x(),x=null)}}}function dp(i){this._internalRoot=i}md.prototype.render=dp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var c=r.current,f=Mi();jx(c,f,i,r,null,null)},md.prototype.unmount=dp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;jx(i.current,2,null,i,null,null),Ku(),r[Us]=null}};function md(i){this._internalRoot=i}md.prototype.unstable_scheduleHydration=function(i){if(i){var r=Ye();i={blockedOn:null,target:i,priority:r};for(var c=0;c<Wr.length&&r!==0&&r<Wr[c].priority;c++);Wr.splice(c,0,i),c===0&&Lx(i)}};var Fx=e.version;if(Fx!=="19.2.0")throw Error(s(527,Fx,"19.2.0"));Z.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=h(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var GE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gd.isDisabled&&gd.supportsFiber)try{Ke=gd.inject(GE),Xe=gd}catch{}}return Nc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var c=!1,f="",x=Wg,_=Kg,R=Jg;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(x=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError)),r=Rx(i,1,!1,null,null,c,f,null,x,_,R,zx),i[Us]=r.current,$h(i),new dp(r)},Nc.hydrateRoot=function(i,r,c){if(!a(i))throw Error(s(299));var f=!1,x="",_=Wg,R=Kg,L=Jg,X=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.formState!==void 0&&(X=c.formState)),r=Rx(i,1,!0,r,c??null,f,x,X,_,R,L,zx),r.context=Ix(null),c=r.current,f=Mi(),f=Ls(f),x=kr(f),x.callback=null,Dr(c,x,f),c=f,r.current.lanes=c,pt(r,c),Rs(r),i[Us]=r.current,$h(i),new md(r)},Nc.version="19.2.0",Nc}var Xx;function tS(){if(Xx)return pp.exports;Xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pp.exports=eS(),pp.exports}var nS=tS();const iS=Um(nS);var Zr=(t=>(t.TEEN="TEEN",t.PARENT="PARENT",t.CURATOR="CURATOR",t))(Zr||{});const Qx="https://api.dicebear.com/7.x/avataaars/svg?seed=Katya&hair=long&clothing=hoodie",Zx={welcome:"!  ?   ,     .   ,   .  .",mainMessage:"   .  .  .      ."},xp={MYSTERY_MULTIPLIER_CHANCE:.25,MYSTERY_MULTIPLIER_MAX:3};Zr.TEEN;const Ko=[{id:"t1",week:1,title:" v2.0",description:"   ",xpReward:150,coinsReward:75,isLocked:!1,slides:[{id:"s1_intro",type:"THEORY",title:" !  ?",content:`  .     .  ,   .

,     :    .  .`,animation:"katya_waving",tips:["     ","  ,  "]},{id:"s1_poll_start",type:"POLL",question:"    ?",options:[" ,  !"," , "," ,  "," ,  "]},{id:"s1_0a",type:"THEORY",title:"     !",content:`,      .   ,    .

      .      .`,animation:"brain"},{id:"s1_0",type:"THEORY",title:"    RPG",content:`       ,   .

  ?   .      .   !`,tips:["    ","      ","    "]},{id:"s1_quiz_intro",type:"QUIZ",question:"     ?",options:["1 ","86 ","1 "],correctIndex:1,explanation:"     ,     !   ."},{id:"s1_1",type:"THEORY",title:" 86  ",content:`     10,000 !

 ,    - ,      .`,animation:"brain",tips:["   ",' ",      "']},{id:"s1_game1",type:"GAME",gameType:"NEURO_MATCH",instructions:`  !

 .      !`,targetScore:3},{id:"s1_vid",type:"VIDEO",title:"  2 ",videoUrl:"https://www.youtube.com/embed/ELpfYCZa87g",duration:"2:00",description:"        !"},{id:"s1_2",type:"THEORY",title:" ",content:`     .

 ,  :
   
    
   

...   !`},{id:"s1_sort",type:"SORTING",question:"  ,   ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:"",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"RIGHT"},{id:"i6",text:"",emoji:"",category:"LEFT"}]},{id:"s1_3",type:"THEORY",title:"   ?",content:`    -?

1    (10 /)
2   
3      !`,tips:["   >  ","   "]},{id:"s1_quiz",type:"QUIZ",question:" ,    ?",options:["   ","   ","  "],correctIndex:1,explanation:"     .     !"},{id:"s1_match",type:"MATCHING",question:" :",pairs:[{id:"p1",left:"",right:" "},{id:"p2",left:"",right:"  "},{id:"p3",left:"",right:"  "},{id:"p4",left:"",right:" "}]},{id:"s1_puzzle",type:"PUZZLE",question:"  :",correctSentence:["","","","","",""],distractorWords:["",""]},{id:"s1_game2",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

      .
 !`,durationSeconds:25,targetScore:6},{id:"s1_thermite",type:"GAME",gameType:"THERMITE_GRID",instructions:` THERMITE -     !

   .
    !

 ,    .`,durationSeconds:45,targetScore:12},{id:"s1_summary",type:"THEORY",title:"   ",content:`     
 86    
    
   =  `,tips:[" :        !"]},{id:"s1_katya",type:"THEORY",title:"   !",content:`   .    3 ,     .

  ! " ", " ", "   ".`,tips:["    ","   ,   "]},{id:"s1_end",type:"INPUT",question:'    ""   ?',placeholder:": , Python, , ...",minLength:3}]},{id:"t2",week:1,title:"",description:"  ",xpReward:180,coinsReward:90,isLocked:!1,slides:[{id:"s2_intro",type:"THEORY",title:"   ",content:` ,    .

 ,   "" ,   "".`,animation:"dopamine"},{id:"s2_poll_start",type:"POLL",question:'   ""  ?',options:[" TikTok / Reels / YouTube"," ","  / ","  / "]},{id:"s2_1",type:"THEORY",title:'  ""',content:`     !

    .

 : " ,   !"`,tips:["      ","      ","    "]},{id:"s2_quiz_check",type:"QUIZ",question:"   ...",options:["","  ",""],correctIndex:1,explanation:" !     -,      ."},{id:"s2_2",type:"THEORY",title:"  ",content:`    ,    :

   
   
   

    ...`,animation:"dopamine"},{id:"s2_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

    .
   ,   !`,durationSeconds:30,targetScore:8},{id:"s2_3",type:"THEORY",title:"   ?",content:`     "" :

   
    
   

      !`},{id:"s2_sort",type:"SORTING",question:"  :",leftCategoryLabel:"  ()",rightCategoryLabel:"  ()",items:[{id:"i1",text:"  ",emoji:"",category:"LEFT"},{id:"i2",text:"  ",emoji:"",category:"RIGHT"},{id:"i3",text:"",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:" ",emoji:"",category:"RIGHT"},{id:"i7",text:" ",emoji:"",category:"LEFT"},{id:"i8",text:" ",emoji:"",category:"RIGHT"}]},{id:"s2_4",type:"THEORY",title:"  ",content:`      .

 :
 
 
 

 "".     !`},{id:"s2_quiz1",type:"QUIZ",question:"    TikTok   ?",options:[" ","   "," "],correctIndex:1,explanation:'  ""   -     .'},{id:"s2_5",type:"THEORY",title:" :  ",content:` ,   :

1    20-30 
2  (,  !)
3   ""

     !`},{id:"s2_game2",type:"GAME",gameType:"NEURO_MATCH",instructions:`  !

    .  "" !`,targetScore:5},{id:"s2_match",type:"MATCHING",question:"   :",pairs:[{id:"p1",left:" ",right:"  "},{id:"p2",left:" ",right:" "},{id:"p3",left:" ",right:" "},{id:"p4",left:"",right:" "}]},{id:"s2_puzzle",type:"PUZZLE",question:"  :",correctSentence:["","","",""],distractorWords:["",""]},{id:"s2_quiz2",type:"QUIZ",question:" ,    ?",options:["   "," 20   "," - "],correctIndex:1,explanation:"    .    !"},{id:"s2_6",type:"THEORY",title:"  ",content:`   :

   30   
    (1 /)
  ,  
   "" `,tips:["      !"]},{id:"s2_summary",type:"THEORY",title:"  ",content:`    ,  
 ""   
    
    
 ""    `,animation:"dopamine"},{id:"s2_katya",type:"THEORY",title:"  ",content:`: ""    "".

   -     .     .`,tips:["   ,   "]},{id:"s2_end",type:"INPUT",question:'   ""      ?',placeholder:"TikTok,   , ...",minLength:3}]},{id:"t3",week:1,title:"-",description:" ",xpReward:200,coinsReward:100,isLocked:!1,slides:[{id:"s3_intro",type:"THEORY",title:"    ",content:`    21 .

     .      .`,animation:"focus"},{id:"s3_poll_start",type:"POLL",question:"      ?",options:["1-5 (!)","6-15 ()","16-30 ()","30+ (!)"]},{id:"s3_1",type:"THEORY",title:"    ",content:`,    ?

Google, TikTok, Netflix      ,      .

     .`,tips:["     = $0.50  ","  ,  "]},{id:"s3_quiz1",type:"QUIZ",question:"  ,      ?",options:["30 ","5 ","23 "],correctIndex:2,explanation:"  : 23  15 !       ."},{id:"s3_2",type:"THEORY",title:"   ?",content:`  :

1     
2    ""
3   ,  
4    

     !`},{id:"s3_game1",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

      ( ).
   ,  !`,durationSeconds:35,targetScore:10},{id:"s3_3",type:"THEORY",title:"   ",content:`      .

     .

     2  !`,animation:"focus",tips:["     40%","   ","  "]},{id:"s3_sort",type:"SORTING",question:"   :",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:"  ",emoji:"",category:"LEFT"},{id:"i2",text:" Pomodoro",emoji:"",category:"RIGHT"},{id:"i3",text:"50  ",emoji:"",category:"LEFT"},{id:"i4",text:"  ",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:"",emoji:"",category:"RIGHT"},{id:"i7",text:"  ",emoji:"",category:"LEFT"},{id:"i8",text:"Lo-fi ",emoji:"",category:"RIGHT"}]},{id:"s3_game2",type:"GAME",gameType:"NEURO_MATCH",instructions:`   !

  .   !`,targetScore:5},{id:"s3_4",type:"THEORY",title:"  Pomodoro",content:`   :

 25  
 5  
  4 
   15-30 

 25     !`},{id:"s3_quiz2",type:"QUIZ",question:"     ?",options:[" ","  ",""],correctIndex:1,explanation:"   !   ,    ."},{id:"s3_5",type:"THEORY",title:"   ",content:`1    
2   =  
3  
4 " "   
5    (lo-fi)`,tips:['  =  " "',"    "]},{id:"s3_match",type:"MATCHING",question:"   :",pairs:[{id:"p1",left:"  ",right:"   "},{id:"p2",left:"   ",right:" 5 "},{id:"p3",left:" ",right:"Pomodoro (25/5)"},{id:"p4",left:" ",right:""}]},{id:"s3_puzzle",type:"PUZZLE",question:"  :",correctSentence:["","","","","","",""],distractorWords:["",""]},{id:"s3_game3",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

,  .   !`,durationSeconds:40,targetScore:12},{id:"s3_summary",type:"THEORY",title:"  ",content:`     
 23    
   
  ,    
 Pomodoro: 25   / 5  `,animation:"focus"},{id:"s3_katya",type:"THEORY",title:"   !",content:`   .    3 ,     .

  ! " ", " ", "   ".`,tips:["      ","      !","   ,   "]},{id:"s3_input",type:"INPUT",question:" 1 ,     :",placeholder:" ,  ...",minLength:5}]},{id:"t4",week:1,title:"",description:"  ",xpReward:150,coinsReward:75,isLocked:!1,slides:[{id:"s4_intro",type:"THEORY",title:"    ",content:`,     .    .

 : ",   ,   "  " ,   ".`,animation:"battery",tips:["         "]},{id:"s4_poll",type:"POLL",question:"    ?",options:["  ()"," ","  ()","  ()"]},{id:"s4_breath",type:"GAME",gameType:"BREATH_SYNC",instructions:`  !

     .

    

  .`},{id:"s4_bucket",type:"THEORY",title:"   ",content:`:       .

    ,    :
  
  
 
 `,tips:['   ""',"     !"]},{id:"s4_quiz",type:"QUIZ",question:"      ?",options:[" ","  ",""],correctIndex:1,explanation:"       23     !"},{id:"s4_game",type:"GAME",gameType:"NEURO_MATCH",instructions:`   !

    .`,targetScore:4},{id:"s4_sort",type:"SORTING",question:"   ?",leftCategoryLabel:"  ()",rightCategoryLabel:"  ()",items:[{id:"i1",text:"  ",emoji:"",category:"LEFT"},{id:"i2",text:"  ",emoji:"",category:"RIGHT"},{id:"i3",text:" ",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:"  ",emoji:"",category:"RIGHT"}]},{id:"s4_5min",type:"THEORY",title:"  5 ",content:`   .  :

 : "    5 .    ".

:   !      .`,tips:["     ",'   " 5 "']},{id:"s4_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","","5",""],distractorWords:["","",""]},{id:"s4_match",type:"MATCHING",question:"   :",pairs:[{id:"p1",left:"   ",right:""},{id:"p2",left:" ",right:" "},{id:"p3",left:"  ",right:" "},{id:"p4",left:" ",right:" "}]},{id:"s4_bubble",type:"GAME",gameType:"BUBBLE_POP",instructions:`   !

    (+)
    (-).

  !`,durationSeconds:20,targetScore:8},{id:"s4_game2",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

   ""  .`,durationSeconds:25,targetScore:7},{id:"s4_katya",type:"THEORY",title:" ",content:`  .       "".

 ,   -     .`,tips:['   ""    ']},{id:"s4_input",type:"INPUT",question:'   "",    ?',placeholder:"  ,  ...",minLength:5}]},{id:"t5",week:1,title:": ",description:" ",xpReward:200,coinsReward:100,isLocked:!1,slides:[{id:"s5_intro",type:"THEORY",title:"    ",content:`,     ,   ?

   7-9 .     ,    .`,tips:["      ","     "]},{id:"s5_poll",type:"POLL",question:"    ?",options:["  6"," 6-7 "," 7-8 ","  8"]},{id:"s5_shock",type:"THEORY",title:"  ",content:`17    = 0.05%   .

24    = 0.1%  (!).

     ,      .`,tips:["     !"," IQ   10-15 "]},{id:"s5_1",type:"THEORY",title:"  ",content:`  ,      "",     .

  =   =   .`},{id:"s5_quiz1",type:"QUIZ",question:"     ?",options:[" ","  ( )"," "],correctIndex:1,explanation:'   : " ,  !".     3 .'},{id:"s5_breath",type:"GAME",gameType:"BREATH_SYNC",instructions:`  4-7-8  

        .

4    7    8  `},{id:"s5_sort",type:"SORTING",question:"  vs  :",leftCategoryLabel:"  ",rightCategoryLabel:"  ",items:[{id:"i1",text:"  ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:"  14:00",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:"  ",emoji:"",category:"LEFT"},{id:"i6",text:"  ",emoji:"",category:"RIGHT"},{id:"i7",text:"",emoji:"",category:"LEFT"},{id:"i8",text:" ",emoji:"",category:"RIGHT"}]},{id:"s5_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

   " ".`,durationSeconds:30,targetScore:8},{id:"s5_bubble",type:"GAME",gameType:"BUBBLE_POP",instructions:`   !

   ( ).
   ( )!`,durationSeconds:25,targetScore:10},{id:"s5_2",type:"THEORY",title:'  ""',content:`:

  IQ  10-15 
  
    
  

  ?  8 .`},{id:"s5_quiz2",type:"QUIZ",question:"    ?",options:["5-6 ","6-7 ","8-10 "],correctIndex:2,explanation:'   8-10 !       "" .'},{id:"s5_match",type:"MATCHING",question:"   :",pairs:[{id:"p1",left:"  2 ",right:" "},{id:"p2",left:" ",right:" "},{id:"p3",left:" ",right:""},{id:"p4",left:"8  ",right:" "}]},{id:"s5_quiz3",type:"QUIZ",question:"    ( )?",options:[" "," 2    ( )","   "],correctIndex:1,explanation:"     2   ,    !       ."},{id:"s5_ritual",type:"THEORY",title:"   ",content:` 1   :

  
  
  
  
    `,tips:["      ","   !"]},{id:"s5_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","",""],distractorWords:["",""]},{id:"s5_katya",type:"THEORY",title:"  ",content:`     .  ,    ,   .

      .`,tips:["   =   "]},{id:"s5_input",type:"INPUT",question:"      ?",placeholder:"22:00",minLength:4}]},{id:"t6",week:1,title:":  ",description:"  ",xpReward:600,coinsReward:300,isLocked:!1,isBoss:!0,slides:[{id:"s6_intro",type:"THEORY",title:"  ",content:`    .

   ,     .

 ,   .  !`,tips:["    ","    "]},{id:"s6_q1",type:"QUIZ",question:"    ?",options:["1 ","86 ","1 "],correctIndex:1,explanation:"  1 ! 86     ."},{id:"s6_g1",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  1:  !

   !`,durationSeconds:35,targetScore:10},{id:"s6_q2",type:"QUIZ",question:"   ...",options:["","  ",""],correctIndex:1,explanation:"  2 !   ,   ."},{id:"s6_g2",type:"GAME",gameType:"NEURO_MATCH",instructions:`  2:  !

  .`,targetScore:6},{id:"s6_q3",type:"QUIZ",question:"  ,      ?",options:["30 ","5 ","23 "],correctIndex:2,explanation:"  3 ! 23     ."},{id:"s6_reaction",type:"GAME",gameType:"REACTION_TIME",instructions:`  !

    !

   ,    !`},{id:"s6_q4",type:"QUIZ",question:'  " "   ?',options:[" ","      ",""],correctIndex:1,explanation:"  4 !      !"},{id:"s6_sort",type:"SORTING",question:" !",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:"",emoji:"",category:"RIGHT"},{id:"i2",text:"",emoji:"",category:"LEFT"},{id:"i3",text:"Pomodoro",emoji:"",category:"RIGHT"},{id:"i4",text:"",emoji:"",category:"LEFT"},{id:"i5",text:" 8 ",emoji:"",category:"RIGHT"},{id:"i6",text:"",emoji:"",category:"LEFT"}]},{id:"s6_q5",type:"QUIZ",question:"    ?",options:["5-6 ","6-7 ","8-10 "],correctIndex:2,explanation:"  5 !    ! 8-10    ."},{id:"s6_bubble",type:"GAME",gameType:"BUBBLE_POP",instructions:`  !

  !
    !`,durationSeconds:25,targetScore:12},{id:"s6_g3",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

    !`,durationSeconds:45,targetScore:15},{id:"s6_puz",type:"PUZZLE",question:"  :",correctSentence:["","","","",""],distractorWords:["","",""]},{id:"s6_match",type:"MATCHING",question:"  ! :",pairs:[{id:"p1",left:"",right:"  "},{id:"p2",left:"",right:" "},{id:"p3",left:"Pomodoro",right:"25  "},{id:"p4",left:"",right:" "}]},{id:"s6_win",type:"THEORY",title:" !",content:`   !

  1 
 +600 XP
 +300 

     .    !`,tips:["  2 !","  !"]}]},{id:"t_stop",week:1,title:" STOP-",description:"3   ",xpReward:80,coinsReward:40,isLocked:!1,slides:[{id:"stop_intro",type:"THEORY",title:"  ",content:`  ,         "  ".

STOP-  60      .`,tips:["  ","   (Calm 2025)"]},{id:"stop_s",type:"THEORY",title:" S  STOP ()",content:` :  .

        .

   .  .  .

 .`,animation:"breath"},{id:"stop_t",type:"THEORY",title:" T  TAKE A BREATH ()",content:`   .

4     2   6  .

      .`,tips:["    = ","  ,  "]},{id:"stop_breath_game",type:"GAME",gameType:"BREATH_SYNC",instructions:`    !

   
   

3   .`,durationSeconds:45},{id:"stop_o",type:"THEORY",title:" O  OBSERVE ()",content:`     :

   ? (, , )
    ? ( ,   )
      ?`,tips:["        "]},{id:"stop_quiz",type:"QUIZ",question:"   .      ?",options:[" ","   "," "],correctIndex:1,explanation:'   !  ,   ""   ,   .'},{id:"stop_p",type:"THEORY",title:" P  PROCEED ( )",content:` ,  :

    (,  )
  ( ,  )

   !`,tips:["    NPC  ","    "]},{id:"stop_puzzle",type:"PUZZLE",question:" STOP:",correctSentence:["Stop","Take a breath","Observe","Proceed"],distractorWords:["React","Panic"]},{id:"stop_when",type:"THEORY",title:"  ?",content:`STOP   :

  
    
     
    

  "-"  !`,tips:["  60 ","   "]},{id:"stop_breath_final",type:"GAME",gameType:"BREATH_SYNC",instructions:` !

 3  .

   .`,durationSeconds:45},{id:"stop_summary",type:"THEORY",title:" STOP   !",content:` S   ()
 T   (4-2-6)
 O   ( ?)
 P   

   .  !`,tips:["  ,  - "]},{id:"stop_end",type:"INPUT",question:"     STOP   ?",placeholder:"  ...",minLength:5}]},{id:"t6_new",week:2,title:" ",description:"  ",xpReward:180,coinsReward:90,isLocked:!1,slides:[{id:"s6n_1",type:"THEORY",title:"   ",content:`     :

    ,   
     

      !`,tips:["          !"]},{id:"s6n_poll",type:"POLL",question:"      ?",options:[" 0    !"," 1-3 "," 4-10 ","  "]},{id:"s6n_sort",type:"SORTING",question:"   ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:"  ",emoji:"",category:"LEFT"},{id:"i4",text:"",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:" ",emoji:"",category:"RIGHT"}]},{id:"s6n_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`    !

   .`,durationSeconds:35,targetScore:10},{id:"s6n_quiz",type:"QUIZ",question:"     ?",options:["","    ",""],correctIndex:1,explanation:"    !    ,      ."},{id:"s6n_2",type:"THEORY",title:"  ",content:`     .

 ,    .  : "   !"

  " ".`,tips:["   !"]},{id:"s6n_2min",type:"THEORY",title:"  2 ",content:`   :

    2     .

 ,     !

  50% .`,tips:[" 2   > 2  "]},{id:"s6n_bubble",type:"GAME",gameType:"BUBBLE_POP",instructions:`  !

    .
     !`,durationSeconds:25,targetScore:12},{id:"s6n_emotion",type:"GAME",gameType:"EMOTION_MATCH",instructions:`  !

    .
    .`},{id:"s6n_react",type:"GAME",gameType:"REACTION_TIME",instructions:`  !

       !

,  ""   .`,rounds:5},{id:"s6n_puz",type:"PUZZLE",question:" :",correctSentence:["","","",""],distractorWords:["","",""]},{id:"s6n_match",type:"MATCHING",question:"   :",pairs:[{id:"p1",left:"",right:" ( )"},{id:"p2",left:"  ",right:"  "},{id:"p3",left:" ",right:" ( )"},{id:"p4",left:"  ",right:'  ""'}]},{id:"s6n_quiz2",type:"QUIZ",question:'  " 2 "?',options:["  2   ","  ,    2 "," 2   "],correctIndex:1,explanation:"    < 2    ,   !    ."},{id:"s6n_katya",type:"THEORY",title:"  ",content:`      .

       .

  .  .   .`,tips:["     ,  ","   !"]},{id:"s6n_input",type:"INPUT",question:"      ?   :",placeholder:"  ,  ,   ...",minLength:5}]},{id:"t6_detox",week:2,title:" ",description:" ",xpReward:200,coinsReward:100,isLocked:!1,slides:[{id:"d1",type:"THEORY",title:"  ",content:`     ,    .

   TikTok ,    .

   "".`,tips:['    ""    ']},{id:"d_poll",type:"POLL",question:"       ?",options:[" 1-2 "," 3-5 "," 6-8 "," 9+  "]},{id:"d1b",type:"THEORY",title:"   ?",content:`     .

  .  : "  !"

: ,       .       .`,tips:[" - = -"]},{id:"d2",type:"SORTING",question:"  ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:"",emoji:"",category:"RIGHT"},{id:"i3",text:" / ",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:"",emoji:"",category:"LEFT"},{id:"i6",text:"  ",emoji:"",category:"RIGHT"}]},{id:"d_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`    -!

   .`,durationSeconds:40,targetScore:12},{id:"d3",type:"THEORY",title:"  ",content:`    ,   -  24 :

  
  
  

 .     .`,tips:["    !"]},{id:"d_breath",type:"GAME",gameType:"BREATH_SYNC",instructions:`  

     .

     .`},{id:"d_bubble",type:"GAME",gameType:"BUBBLE_POP",instructions:`  !

    .
    !`,durationSeconds:30,targetScore:15},{id:"d_quiz",type:"QUIZ",question:"      ?",options:["  ","  "," "],correctIndex:1,explanation:'    -,  ""      !'},{id:"d4",type:"POLL",question:"    4 ?",options:[" !","  "," ","   "]},{id:"d_react",type:"GAME",gameType:"REACTION_TIME",instructions:`  

,  ""     .

,   !`,rounds:5},{id:"d_match",type:"MATCHING",question:"  ?",pairs:[{id:"p1",left:" TikTok",right:" / "},{id:"p2",left:"  ",right:"  "},{id:"p3",left:"",right:" / "},{id:"p4",left:"  ",right:" / "}]},{id:"d_quiz2",type:"QUIZ",question:"     ?",options:["  ","  ","  "],correctIndex:2,explanation:"      -!   =    ."},{id:"d_katya",type:"THEORY",title:"  ",content:`    .

   .

   4   . ,    .`,tips:["      !","     2 "]},{id:"d5",type:"INPUT",question:" 3     ( ):",placeholder:", , , , ...",minLength:10}]},{id:"t7",week:2,title:' ""',description:"  ",xpReward:200,coinsReward:100,isLocked:!1,slides:[{id:"s7_intro",type:"THEORY",title:"   ?",content:`,      ,   .

 ,      - .`,tips:['  ""   ','  ""   ']},{id:"s7_1",type:"THEORY",title:"  ",content:`     .

      .    ,      !`},{id:"s7_match",type:"MATCHING",question:' ""  "":',pairs:[{id:"p1",left:" ",right:"  "},{id:"p2",left:"",right:"   "},{id:"p3",left:" ",right:" ,  "},{id:"p4",left:"",right:"  "}]},{id:"s7_why",type:"THEORY",title:"  5 ",content:`   ""?   "?" 5  :

   
 ?    
  ?  
 ?   
 ?   

    ""!`,tips:["      "]},{id:"s7_2",type:"THEORY",title:"    ",content:`      .

  . . . .

    !`},{id:"s7_bubble",type:"GAME",gameType:"BUBBLE_POP",instructions:`   !

  (  ).
   ( )!`,durationSeconds:20,targetScore:8},{id:"s7_game",type:"GAME",gameType:"NEURO_MATCH",instructions:`    !

 .`,targetScore:4},{id:"s7_goals",type:"THEORY",title:"   ",content:`   :

1    
2   
3  
4    
5   !`,tips:[' " "  " 5   1 "',"   =  "]},{id:"s7_quiz",type:"QUIZ",question:"  ?",options:["  "," 2   ","  "],correctIndex:1,explanation:"  ,    !"},{id:"s7_input",type:"INPUT",question:"     (,  ):",placeholder:" 50    15 ...",minLength:10}]},{id:"t8",week:2,title:" ",description:" ",xpReward:220,coinsReward:110,isLocked:!1,slides:[{id:"s8_intro",type:"THEORY",title:"  ",content:`  :

"     ,    ,    ".

        .`,tips:["    ","   "]},{id:"s8_poll",type:"POLL",question:"     ?",options:["  ",'  ""',"  (!)","   "]},{id:"s8_sort",type:"SORTING",question:"  ?",leftCategoryLabel:"  ()",rightCategoryLabel:"  ()",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:"",emoji:"",category:"RIGHT"},{id:"i3",text:" ",emoji:"",category:"LEFT"},{id:"i4",text:"",emoji:"",category:"RIGHT"},{id:"i5",text:"  ",emoji:"",category:"LEFT"},{id:"i6",text:"",emoji:"",category:"RIGHT"},{id:"i7",text:" ",emoji:"",category:"LEFT"},{id:"i8",text:"  ",emoji:"",category:"RIGHT"}]},{id:"s8_1",type:"THEORY",title:"   ",content:`    ,  .

  .
    .

    !`},{id:"s8_quiz",type:"QUIZ",question:' ""   ?',options:["  ","    ","  "],correctIndex:1,explanation:'   ""  .      .'},{id:"s8_reaction",type:"GAME",gameType:"REACTION_TIME",instructions:`   !

      .

,   !`},{id:"s8_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

      .`,durationSeconds:35,targetScore:10},{id:"s8_matrix",type:"THEORY",title:"  ",content:`    4 :

  +    
   +   
  +    
   +    `,tips:["     ","     "]},{id:"s8_match",type:"MATCHING",question:"  :",pairs:[{id:"p1",left:"   ",right:"  + "},{id:"p2",left:" ",right:"   + "},{id:"p3",left:"  ",right:"  +  "},{id:"p4",left:" TikTok",right:"  "}]},{id:"s8_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","",""],distractorWords:["",""]},{id:"s8_practice",type:"THEORY",title:"   ",content:` :

1   ""
2    
3      

    !`,tips:["     "]},{id:"s8_input",type:"INPUT",question:'  ""  ?',placeholder:"   ,  ...",minLength:5}]},{id:"t9",week:2,title:" > ",description:" ",xpReward:200,coinsReward:100,isLocked:!1,slides:[{id:"s9_intro",type:"THEORY",title:"  vs ",content:`    ?

   .   .

   ,  .
  ,     .`,tips:["   ,   !"]},{id:"s9_poll",type:"POLL",question:" :",options:["  ",'   " "',"   ","   "]},{id:"s9_1",type:"THEORY",title:"   ",content:`  .
   .

   ""       .

  ?     !`,tips:[' : " ,       "']},{id:"s9_quiz1",type:"QUIZ",question:"  ?",options:["  "," ","  "],correctIndex:2,explanation:"     ,   !      ."},{id:"s9_sort",type:"SORTING",question:" ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:"  ",emoji:"",category:"RIGHT"},{id:"i3",text:"  ",emoji:"",category:"LEFT"},{id:"i4",text:'  " "',emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:" ",emoji:"",category:"RIGHT"}]},{id:"s9_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

   .
      !`,durationSeconds:35,targetScore:10},{id:"s9_continue",type:"THEORY",title:" 5   ",content:`  :

1    (1% > 0%)
2    
3    
4  
5  `,tips:["   ","   !"]},{id:"s9_bubble",type:"GAME",gameType:"BUBBLE_POP",instructions:`  !

    .
   !`,durationSeconds:30,targetScore:15},{id:"s9_puz",type:"PUZZLE",question:"  :",correctSentence:["","","","","",""],distractorWords:["","",""]},{id:"s9_breath",type:"GAME",gameType:"BREATH_SYNC",instructions:`  

     .

4      !`},{id:"s9_habits",type:"THEORY",title:"   ",content:`:     !

" [ ]  [ ]"

:
"    10 "`,tips:["   = ","   "]},{id:"s9_match",type:"MATCHING",question:"    :",pairs:[{id:"p1",left:" ",right:"5  "},{id:"p2",left:" ",right:"15  "},{id:"p3",left:" ",right:" 3 "},{id:"p4",left:" ",right:"  + "}]},{id:"s9_quiz2",type:"QUIZ",question:'  " "?',options:["   ","    ","  "],correctIndex:1,explanation:"       ,    !"},{id:"s9_katya",type:"THEORY",title:"  ",content:`   .
  .
  "" .

 .  .

  .
  .
  .`,tips:["    .    !"]},{id:"s9_input",type:"INPUT",question:'   : " [ ],  ..."',placeholder:"   ,    5  ...",minLength:15}]},{id:"t10",week:2,title:" ",description:" ",xpReward:240,coinsReward:120,isLocked:!1,slides:[{id:"s10_intro",type:"THEORY",title:"   =  ",content:`    ,   .

  ?  .`,tips:["       ","     "]},{id:"s10_poll",type:"POLL",question:"   ,    ?",options:["   ","   ",'   " "',"  ..."]},{id:"s10_1",type:"THEORY",title:"   ",content:`   .    ,    .

   ,        .

     .`},{id:"s10_quiz1",type:"QUIZ",question:"   ?",options:[" ","  ","  "],correctIndex:1,explanation:"     .  !"},{id:"s10_2",type:"THEORY",title:"  20 ",content:`  - ?
    20  

  - ?
    20  

:
    
     `,tips:["    ","   "]},{id:"s10_sort",type:"SORTING",question:"  ?",leftCategoryLabel:"  ()",rightCategoryLabel:"  ()",items:[{id:"i1",text:"",emoji:"",category:"RIGHT"},{id:"i2",text:"  ",emoji:"",category:"LEFT"},{id:"i3",text:"  ",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:"",emoji:"",category:"RIGHT"},{id:"i6",text:"",emoji:"",category:"LEFT"},{id:"i7",text:"",emoji:"",category:"RIGHT"},{id:"i8",text:"",emoji:"",category:"LEFT"}]},{id:"s10_game",type:"GAME",gameType:"NEURO_MATCH",instructions:`   !

 .`,targetScore:5},{id:"s10_match",type:"MATCHING",question:"   :",pairs:[{id:"p1",left:"   ",right:"   "},{id:"p2",left:"   ",right:"   "},{id:"p3",left:"  ",right:"  "},{id:"p4",left:"  ",right:"  "}]},{id:"s10_quiz2",type:"QUIZ",question:"     ,    ?",options:["   5 ","    ","  "],correctIndex:1,explanation:"  .     ,   ."},{id:"s10_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","",""],distractorWords:["",""]},{id:"s10_practice",type:"THEORY",title:" ",content:`   :

    
     
    
  ,   `,tips:["   =  "]},{id:"s10_input",type:"INPUT",question:"       ?",placeholder:"   ,    ...",minLength:10}]},{id:"t11",week:2,title:"Level Up  ",description:"  ",xpReward:240,coinsReward:120,isLocked:!1,slides:[{id:"s11_intro",type:"THEORY",title:" Game Over?",content:`    10 ,    .

   .

    .
   .  .`,tips:["    ","    "]},{id:"s11_poll",type:"POLL",question:"    ?",options:["  ","   "," ,    ","  "]},{id:"s11_1",type:"THEORY",title:"  ",content:`    9000 
      Apple
    12 
   1000 

   .`},{id:"s11_quiz1",type:"QUIZ",question:"  ?",options:[",     ",",     ",",   ,   "],correctIndex:2,explanation:"    ,   .    ."},{id:"s11_sort",type:"SORTING",question:"  vs :",leftCategoryLabel:" ",rightCategoryLabel:"  ",items:[{id:"i1",text:'" "',emoji:"",category:"LEFT"},{id:"i2",text:'"   "',emoji:"",category:"RIGHT"},{id:"i3",text:'"   "',emoji:"",category:"LEFT"},{id:"i4",text:'"   "',emoji:"",category:"RIGHT"},{id:"i5",text:'"  "',emoji:"",category:"LEFT"},{id:"i6",text:'" "',emoji:"",category:"RIGHT"},{id:"i7",text:'" "',emoji:"",category:"LEFT"},{id:"i8",text:'"   "',emoji:"",category:"RIGHT"}]},{id:"s11_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

    .   .`,durationSeconds:35,targetScore:10},{id:"s11_2",type:"THEORY",title:" Growth Mindset",content:`  :

 :
" ,   "

  :
"    ,    "`,tips:['   ""',' " "  "  "']},{id:"s11_match",type:"MATCHING",question:":",pairs:[{id:"p1",left:"   ",right:"   "},{id:"p2",left:"  ",right:"   "},{id:"p3",left:" ",right:"   "},{id:"p4",left:" ",right:" ,  "}]},{id:"s11_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","",""],distractorWords:["",""]},{id:"s11_katya",type:"THEORY",title:"  ",content:`    ,  .

 ,       .

         .`,tips:["    "]},{id:"s11_input",type:"INPUT",question:"      ?    ?",placeholder:"    ,    ...",minLength:15}]},{id:"t12",week:2,title:": ",description:" ",xpReward:700,coinsReward:350,isLocked:!1,isBoss:!0,slides:[{id:"s12_intro",type:"THEORY",title:"   ",content:`    .

   " ".  :
"...  "
" 5 "
"  TikTok"

   !`,tips:["    ","     "]},{id:"s12_poll",type:"POLL",question:"  :",options:["  ","  ","   ","  "]},{id:"s12_wave1",type:"THEORY",title:"  1:  ",content:`    .

"  "
"   "
"  "

 :  ,   !`},{id:"s12_g1",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  1!

   ""!`,durationSeconds:35,targetScore:10},{id:"s12_q1",type:"QUIZ",question:" ,   ?",options:[",   ","    ","  "],correctIndex:1,explanation:"   .   5     !"},{id:"s12_sort",type:"SORTING",question:"  vs  :",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:"   ",emoji:"",category:"LEFT"},{id:"i2",text:"  -",emoji:"",category:"RIGHT"},{id:"i3",text:"  ",emoji:"",category:"LEFT"},{id:"i4",text:" 5 ",emoji:"",category:"RIGHT"},{id:"i5",text:"",emoji:"",category:"LEFT"},{id:"i6",text:'"  "',emoji:"",category:"RIGHT"},{id:"i7",text:"",emoji:"",category:"LEFT"},{id:"i8",text:"   ",emoji:"",category:"RIGHT"}]},{id:"s12_wave2",type:"THEORY",title:"  2: ",content:`   .

"    "
"   "
" "

 :   !`},{id:"s12_g2",type:"GAME",gameType:"NEURO_MATCH",instructions:`  2!

   !`,targetScore:6},{id:"s12_q2",type:"QUIZ",question:"   ,  ?",options:["100%","80%","50% "],correctIndex:2,explanation:" 50%    !    .    ."},{id:"s12_match",type:"MATCHING",question:"   :",pairs:[{id:"p1",left:"  ",right:"  "},{id:"p2",left:"  ",right:"  "},{id:"p3",left:" ",right:" 5 "},{id:"p4",left:"",right:"!"}]},{id:"s12_wave3",type:"THEORY",title:"  3: ",content:`   .

" "
"  "
"  "

 :  ,     !`},{id:"s12_g3",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  3: !

   !`,durationSeconds:45,targetScore:15},{id:"s12_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","","",""],distractorWords:["","",""]},{id:"s12_q3",type:"QUIZ",question:"   ?",options:[" ",""," "],correctIndex:2,explanation:"   ,   !     ."},{id:"s12_win",type:"THEORY",title:" !",content:`  !

  2 
 +700 XP
 +350 

  :
   
   
   5 

  !`,tips:["  3 !","  !"]}]},{id:"t13",week:3,title:" ",description:" ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s13_intro",type:"THEORY",title:"  ",content:`   ,     ,   .

    .

   . ,      .`,tips:["    ","   !"]},{id:"s13_poll",type:"POLL",question:'     " "?',options:["  "," "," ","   "]},{id:"s13_vid",type:"VIDEO",title:" ",videoUrl:"https://www.youtube.com/embed/XqZsoesa55w",duration:"3:00",description:"    ."},{id:"s13_1",type:"THEORY",title:"  ",content:`   , :

1  
2    
3   
4  
5  `},{id:"s13_quiz1",type:"QUIZ",question:"  ?",options:["  "," "," ,   "],correctIndex:2,explanation:" !    .     .     ."},{id:"s13_sort",type:"SORTING",question:"    ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:"",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:"",emoji:"",category:"LEFT"},{id:"i4",text:"",emoji:"",category:"RIGHT"},{id:"i5",text:"  ",emoji:"",category:"LEFT"},{id:"i6",text:"  ",emoji:"",category:"RIGHT"},{id:"i7",text:"",emoji:"",category:"LEFT"},{id:"i8",text:"  ",emoji:"",category:"RIGHT"}]},{id:"s13_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

    .`,durationSeconds:40,targetScore:12},{id:"s13_match",type:"MATCHING",question:":",pairs:[{id:"p1",left:" ",right:""},{id:"p2",left:" ",right:""},{id:"p3",left:"  ",right:""},{id:"p4",left:" ",right:""}]},{id:"s13_2",type:"THEORY",title:"    ",content:`   :

1    (   " ")
2    
3    25-50 
4 ,    
5    10 `,tips:["    10-15 ","    "]},{id:"s13_puzzle",type:"PUZZLE",question:"  :",correctSentence:["","","","",""],distractorWords:["",""]},{id:"s13_practice",type:"THEORY",title:" ",content:` :

1  ,   
2  
3    25 
4  

 !`,tips:["    ,   "]},{id:"s13_input",type:"INPUT",question:"      ?",placeholder:", , , ...",minLength:3}]},{id:"t14",week:3,title:" 2.0",description:" ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s14_intro",type:"THEORY",title:"  ",content:`,       ?

       .       .`,tips:[" 25    "," 5   "]},{id:"s14_poll",type:"POLL",question:"      ?",options:[" 10-15 "," 25-30 "," 45-60 ","  "]},{id:"s14_1",type:"THEORY",title:"  ",content:` 80-         .

 : 25      .

   Pomodoro ( -).`},{id:"s14_2",type:"THEORY",title:"   ",content:` 1 :

1   
2    25 
3   
4    5  
5  4     15-30 `,tips:["   !","   =  "]},{id:"s14_quiz1",type:"QUIZ",question:"  25 ?",options:[" ","     ","  "],correctIndex:1,explanation:"  :  25-30   .     !"},{id:"s14_game",type:"GAME",gameType:"NEURO_MATCH",instructions:`   !

    .`,targetScore:6},{id:"s14_sort",type:"SORTING",question:"   ?",leftCategoryLabel:"  ",rightCategoryLabel:"  ",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:"  ",emoji:"",category:"LEFT"},{id:"i4",text:"  ",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:"",emoji:"",category:"RIGHT"},{id:"i7",text:" YouTube",emoji:"",category:"LEFT"},{id:"i8",text:" ",emoji:"",category:"RIGHT"}]},{id:"s14_3",type:"THEORY",title:"      ?",content:`    .

        .

 ,  ""  :
   
  
 `},{id:"s14_quiz2",type:"QUIZ",question:"    5- ?",options:[" Instagram","    ","  "],correctIndex:1,explanation:'   ""    .   .'},{id:"s14_game2",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

     !`,durationSeconds:35,targetScore:10},{id:"s14_match",type:"MATCHING",question:"   :",pairs:[{id:"p1",left:"  ",right:"    "},{id:"p2",left:" ",right:"   25 "},{id:"p3",left:" ",right:" "},{id:"p4",left:"    ",right:"  "}]},{id:"s14_puzzle",type:"PUZZLE",question:" :",correctSentence:["25","","","5","",""],distractorWords:["",""]},{id:"s14_4",type:"THEORY",title:"  ",content:`  :

     
  : 8-10 
 ,  
    `,tips:["  : Forest, Focus To-Do"," Lo-fi   "]},{id:"s14_summary",type:"THEORY",title:"  ",content:`   ,  
 25   + 5  
     
  4    
   =  `},{id:"s14_input",type:"INPUT",question:"      1 ?",placeholder:" ,  ,  20 ...",minLength:5}]},{id:"t15",week:3,title:"Deep Work",description:" ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s15_intro",type:"THEORY",title:"  ",content:`:    .

   , , .
   , , .

Deep Work       .`,tips:["    ","   1  XXI "]},{id:"s15_poll",type:"POLL",question:"      1+ ?",options:["  "," "," ","  "]},{id:"s15_1",type:"THEORY",title:"  XXI ",content:`            .

, ,      Deep Work.

,       .`},{id:"s15_quiz1",type:"QUIZ",question:" Deep Work  ?",options:["  ","   ","   "],correctIndex:1,explanation:"          .     !"},{id:"s15_2",type:"THEORY",title:" Shallow Work vs  Deep Work",content:`Shallow Work ():
   
  
  

Deep Work ():
  
   
  `,tips:[" Shallow =  "," Deep =  "]},{id:"s15_sort",type:"SORTING",question:"  ?",leftCategoryLabel:" Shallow ()",rightCategoryLabel:" Deep ()",items:[{id:"i1",text:"  ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:"  ",emoji:"",category:"LEFT"},{id:"i4",text:"  ",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:" ",emoji:"",category:"RIGHT"},{id:"i7",text:" ",emoji:"",category:"LEFT"},{id:"i8",text:"  ",emoji:"",category:"RIGHT"}]},{id:"s15_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

   ,       !`,durationSeconds:40,targetScore:12},{id:"s15_3",type:"THEORY",title:"    Deep Work",content:` :

1    
2    (   !)
3    60-90 
4 ,    
5    15 `,tips:["  : ","    "]},{id:"s15_quiz2",type:"QUIZ",question:"      Deep Work?",options:["","5 ","15-20 "],correctIndex:2,explanation:'   15-20 ,  "".       !'},{id:"s15_match",type:"MATCHING",question:":",pairs:[{id:"p1",left:"  ",right:" "},{id:"p2",left:" ",right:"   Deep Work"},{id:"p3",left:" ",right:" "},{id:"p4",left:"",right:"Shallow Work"}]},{id:"s15_game2",type:"GAME",gameType:"NEURO_MATCH",instructions:`   !

  .`,targetScore:6},{id:"s15_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","",""],distractorWords:["",""]},{id:"s15_practice",type:"THEORY",title:" ",content:`  Deep Work:

1   
2   
3  60   
4 ,    

   !`,tips:["       "]},{id:"s15_summary",type:"THEORY",title:"  ",content:` Deep Work   XXI 
 Shallow Work  , Deep Work  
  15-20   ""
   
       `},{id:"s15_input",type:"INPUT",question:"        Deep Work?",placeholder:" ,  ,  10 ...",minLength:5}]},{id:"t16",week:3,title:" ",description:" ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s16_intro",type:"THEORY",title:"  ",content:`,   ?

    ,   .

   .     .  .`,tips:["    ","   = "]},{id:"s16_poll",type:"POLL",question:"   ?",options:["  ","   "," "," "]},{id:"s16_1",type:"THEORY",title:"     ",content:`    ,      .

 .

    .    "",   "".`},{id:"s16_quiz1",type:"QUIZ",question:"  ?",options:["  ","    ","  "],correctIndex:1,explanation:"   ,       .    !"},{id:"s16_2",type:"THEORY",title:" 3  ",content:`  :

    ,  
    , 
    , 

    !`},{id:"s16_match",type:"MATCHING",question:"  :",pairs:[{id:"p1",left:"  ()",right:" / "},{id:"p2",left:"  ()",right:" / "},{id:"p3",left:"  ()",right:" / "},{id:"p4",left:"  ",right:" / "}]},{id:"s16_sort",type:"SORTING",question:"  vs -:",leftCategoryLabel:" -",rightCategoryLabel:"  ",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:"  ",emoji:"",category:"RIGHT"},{id:"i3",text:" ",emoji:"",category:"LEFT"},{id:"i4",text:"",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:"",emoji:"",category:"RIGHT"},{id:"i7",text:"",emoji:"",category:"LEFT"},{id:"i8",text:"  ",emoji:"",category:"RIGHT"}]},{id:"s16_game",type:"GAME",gameType:"NEURO_MATCH",instructions:`  !

   .`,targetScore:6},{id:"s16_3",type:"THEORY",title:"  -",content:`     .

  ,  .

 ""        .`,tips:["   =  ","    "]},{id:"s16_quiz2",type:"QUIZ",question:"    ?",options:[" ","   "," "],correctIndex:1,explanation:"         .    !"},{id:"s16_game2",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

  -   !`,durationSeconds:30,targetScore:8},{id:"s16_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","",""],distractorWords:["",""]},{id:"s16_4",type:"THEORY",title:"   ",content:`  :

    (  20 )
  
   
  
    `,tips:["     ","      "]},{id:"s16_summary",type:"THEORY",title:"  ",content:`     ,  
 3     
    -
   =  
    `},{id:"s16_input",type:"INPUT",question:"     ?",placeholder:"  ,  , ...",minLength:5}]},{id:"t17",week:3,title:" ",description:"  ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s17_intro",type:"THEORY",title:"  ",content:`  "  ,    "?

   .  .

      .`,tips:["    ","   "]},{id:"s17_poll",type:"POLL",question:"       ?",options:["  "," "," "," -"]},{id:"s17_1",type:"THEORY",title:"   ",content:`      ,    .

     ,   .

     .
     .`},{id:"s17_quiz1",type:"QUIZ",question:" 5 :",options:["  5 ","    5 ,   ","5    "],correctIndex:1,explanation:"    5  .  , ,      ."},{id:"s17_sort",type:"SORTING",question:"  vs :",leftCategoryLabel:"  ()",rightCategoryLabel:"  ()",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:"  ",emoji:"",category:"RIGHT"},{id:"i3",text:"  ",emoji:"",category:"LEFT"},{id:"i4",text:"  ",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:"  ",emoji:"",category:"RIGHT"},{id:"i7",text:" ",emoji:"",category:"LEFT"},{id:"i8",text:" ",emoji:"",category:"RIGHT"}]},{id:"s17_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

   "".`,durationSeconds:35,targetScore:10},{id:"s17_2",type:"THEORY",title:" 4     ",content:`    , 
    , 
    ,  
     

    !`,tips:["    ","      "]},{id:"s17_quiz2",type:"QUIZ",question:'   ""?',options:[",  ","  ","  "],correctIndex:1,explanation:"       .     ."},{id:"s17_match",type:"MATCHING",question:":",pairs:[{id:"p1",left:"-",right:"  "},{id:"p2",left:"-",right:"  "},{id:"p3",left:"-",right:"  "},{id:"p4",left:"-",right:"   "}]},{id:"s17_game2",type:"GAME",gameType:"NEURO_MATCH",instructions:`   !

 .`,targetScore:5},{id:"s17_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","",""],distractorWords:["",""]},{id:"s17_3",type:"THEORY",title:'   ""',content:`   :

     
 -
 
   

 ,   ,    !`,tips:["   =  "]},{id:"s17_summary",type:"THEORY",title:"  ",content:`   
    5  
   
     
  ""  `},{id:"s17_input",type:"INPUT",question:'     ""?     ?',placeholder:"   ... /    ...",minLength:10}]},{id:"t18",week:3,title:"",description:" ",xpReward:320,coinsReward:160,isLocked:!1,slides:[{id:"s18_intro",type:"THEORY",title:"  ",content:`   .

   , , , , ...

      .

  .   .`,tips:["      ","     "]},{id:"s18_poll",type:"POLL",question:"     ?",options:[" , "," ,   ","    ","   "]},{id:"s18_1",type:"THEORY",title:"   ?",content:`     :

   
   
 ,     
     `},{id:"s18_quiz1",type:"QUIZ",question:"    ?",options:[",    ",",      ",",    "],correctIndex:1,explanation:"    ,  :      .  ,  ,  ."},{id:"s18_sort",type:"SORTING",question:" vs :",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:'"   "',emoji:"",category:"LEFT"},{id:"i2",text:'"   ?"',emoji:"",category:"RIGHT"},{id:"i3",text:'"  "',emoji:"",category:"LEFT"},{id:"i4",text:'"  -"',emoji:"",category:"RIGHT"},{id:"i5",text:'"  "',emoji:"",category:"LEFT"},{id:"i6",text:'"    "',emoji:"",category:"RIGHT"},{id:"i7",text:'"  "',emoji:"",category:"LEFT"},{id:"i8",text:'"  "',emoji:"",category:"RIGHT"}]},{id:"s18_game",type:"GAME",gameType:"NEURO_MATCH",instructions:`    !

 .`,targetScore:6},{id:"s18_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","","",""],distractorWords:["","NPC"]},{id:"s18_2",type:"THEORY",title:"  ",content:`    :

 "   "
 "     "
 "   "
 "     "
 " ,   "`,tips:["   3-5  ","      "]},{id:"s18_match",type:"MATCHING",question:" :",pairs:[{id:"p1",left:" > ",right:",    "},{id:"p2",left:" = ",right:"  "},{id:"p3",left:" ",right:"  "},{id:"p4",left:" ",right:"  "}]},{id:"s18_game2",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

   !`,durationSeconds:35,targetScore:10},{id:"s18_katya",type:"THEORY",title:"  ",content:` :

   .  .

    .    .

     ,  .`,tips:["      "]},{id:"s18_3",type:"THEORY",title:"   ",content:` 5 ,     :

1. ...
2. ...
3. ...
4. ...
5. ...

       .`},{id:"s18_summary",type:"THEORY",title:"  ",content:`     
   
   
     
      `},{id:"s18_input",type:"INPUT",question:"    ,   :",placeholder:"   , ... /    ...",minLength:15}]},{id:"t19",week:3,title:": ",description:" ",xpReward:1200,coinsReward:600,isLocked:!1,isBoss:!0,slides:[{id:"s19_intro",type:"THEORY",title:"  ",content:`   .

   .
  .

    :

   .`,tips:["   ,   ","     "]},{id:"s19_week1",type:"THEORY",title:"  1: ",content:`,   :

 86  
    
     
  
   `},{id:"s19_q1",type:"QUIZ",question:"  ?",options:[" ","  "," "],correctIndex:1,explanation:"     .     !"},{id:"s19_g1",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  1:  !

,    !`,durationSeconds:40,targetScore:12},{id:"s19_week2",type:"THEORY",title:"  2: ",content:`,   :

  ""   
   
  > 
  ,  
  = `},{id:"s19_q2",type:"QUIZ",question:" ,   ?",options:[" "," ","  "],correctIndex:1,explanation:"   ,   !"},{id:"s19_sort",type:"SORTING",question:" !",leftCategoryLabel:"  ",rightCategoryLabel:"  ",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:" ",emoji:"",category:"LEFT"},{id:"i4",text:"  ",emoji:"",category:"RIGHT"},{id:"i5",text:"  ",emoji:"",category:"LEFT"},{id:"i6",text:" ",emoji:"",category:"RIGHT"},{id:"i7",text:"   ",emoji:"",category:"LEFT"},{id:"i8",text:"    ",emoji:"",category:"RIGHT"}]},{id:"s19_g2",type:"GAME",gameType:"NEURO_MATCH",instructions:`  2:  !

  .`,targetScore:8},{id:"s19_week3",type:"THEORY",title:"  3: ",content:`,   :

  
 Pomodoro 2.0
 Deep Work
  
  
  `},{id:"s19_q3",type:"QUIZ",question:"  Deep Work?",options:["  ","   "," "],correctIndex:1,explanation:" Deep Work    XXI . ,       !"},{id:"s19_match",type:"MATCHING",question:" :",pairs:[{id:"p1",left:"",right:" "},{id:"p2",left:"23 ",right:"  "},{id:"p3",left:"",right:"  "},{id:"p4",left:"Pomodoro",right:"25  "}]},{id:"s19_g3",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

 ,    !`,durationSeconds:60,targetScore:20},{id:"s19_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","","",""],distractorWords:["","NPC",""]},{id:"s19_katya",type:"THEORY",title:"   ",content:`   .  .

:

    .  .
      .
   .
      .

   !`,tips:["    "]},{id:"s19_newgame",type:"THEORY",title:"  +",content:`.   .

    .

    .

    .
 .
     .

 .  .

Stay Hungry. Stay Foolish.`},{id:"s19_win",type:"THEORY",title:" !",content:`    ""!

 +1200 XP
 +600 
 : 

 :
   
   
   
    
   

    !`,tips:[' :  " "',"   !"]}]},{id:"t20",week:3,title:"",description:"  ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s20_intro",type:"THEORY",title:"   ",content:`,     ?

    ,      .

  .`,animation:"katya_waving",tips:["     ","    "]},{id:"s20_poll",type:"POLL",question:"      ?",options:[" "," "," "," "]},{id:"s20_1",type:"THEORY",title:"   ?",content:`   ,     .

 ,     .
   .
  .

 ,    .`},{id:"s20_quiz1",type:"QUIZ",question:"   :",options:[",    ","     ","   "],correctIndex:1,explanation:"     .        ."},{id:"s20_sort",type:"SORTING",question:"   ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:"  ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:"   ",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:"",emoji:"",category:"LEFT"},{id:"i6",text:" ",emoji:"",category:"RIGHT"},{id:"i7",text:"  ",emoji:"",category:"LEFT"},{id:"i8",text:" ",emoji:"",category:"RIGHT"}]},{id:"s20_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

    .`,durationSeconds:35,targetScore:10},{id:"s20_technique",type:"THEORY",title:"   !",content:`   3 ,     .

  !

 " "
 " "
 "   "`,tips:["   ","   ,   "]},{id:"s20_match",type:"MATCHING",question:"  :",pairs:[{id:"p1",left:" ",right:"   "},{id:"p2",left:"  ",right:" "},{id:"p3",left:"    ",right:"   "},{id:"p4",left:"   ",right:"  "}]},{id:"s20_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","",""],distractorWords:["",""]},{id:"s20_practice",type:"THEORY",title:"   ",content:`1       - 
2  3  
3    -

 ? .  .`,tips:["       "]},{id:"s20_input",type:"INPUT",question:" 3 ,     :",placeholder:" ,   ,   ...",minLength:10}]},{id:"t21",week:3,title:"",description:"   ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s21_intro",type:"THEORY",title:"   ",content:`   .    .

         .`,tips:["     ,  ","     "]},{id:"s21_poll",type:"POLL",question:"      ?",options:["   ","   "," ","  "]},{id:"s21_1",type:"THEORY",title:"    ",content:`  ,  ( ) .

 ,    .

          .`},{id:"s21_quiz1",type:"QUIZ",question:"  :",options:[" ","  ",""],correctIndex:1,explanation:'     .     .    " ".'},{id:"s21_sort",type:"SORTING",question:"  vs  :",leftCategoryLabel:"  ",rightCategoryLabel:"  ",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:"  ",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:" ",emoji:"",category:"LEFT"},{id:"i6",text:"  ",emoji:"",category:"RIGHT"},{id:"i7",text:"",emoji:"",category:"LEFT"},{id:"i8",text:"",emoji:"",category:"RIGHT"}]},{id:"s21_breath",type:"THEORY",title:"  4-7-8",content:`  ,  :

4   4 
7   7 
8   8 

 3-4 .  ""  .`,tips:["    ","   "]},{id:"s21_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

    .`,durationSeconds:40,targetScore:12},{id:"s21_ground",type:"THEORY",title:"  5-4-3-2-1",content:`   :

  5 ,  
 4 ,  
 3 ,  
 2 
 1 

   "  ".`},{id:"s21_match",type:"MATCHING",question:"  :",pairs:[{id:"p1",left:"  ",right:"  ,  "},{id:"p2",left:"  ",right:"  "},{id:"p3",left:" ",right:" ,   "},{id:"p4",left:"  ",right:"   "}]},{id:"s21_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","",""],distractorWords:["",""]},{id:"s21_katya",type:"THEORY",title:" ",content:`    .   ,    .

   .    .`,tips:["     "]},{id:"s21_input",type:"INPUT",question:"     ,   ?",placeholder:"   4-7-8,  ...",minLength:10}]},{id:"t22",week:3,title:"",description:" ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s22_intro",type:"THEORY",title:"  ",content:`    .

   ,  ,  .

   !`,tips:["    ","   "]},{id:"s22_poll",type:"POLL",question:"      ?",options:["  ","   ","  ","  "]},{id:"s22_1",type:"THEORY",title:"  ",content:`         .

 :
   
    
 
  `},{id:"s22_quiz1",type:"QUIZ",question:"   ?",options:[" "," "," "],correctIndex:1,explanation:"   ,   .   .         ."},{id:"s22_sort",type:"SORTING",question:"  ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:"",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:"",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:"  ",emoji:"",category:"LEFT"},{id:"i6",text:"  ",emoji:"",category:"RIGHT"},{id:"i7",text:"",emoji:"",category:"LEFT"},{id:"i8",text:' "-"',emoji:"",category:"RIGHT"}]},{id:"s22_2",type:"THEORY",title:" -",content:`   "-":

 "  !"
 "  , ..."

 "   !"
 "   "`,tips:["    ,  "]},{id:"s22_game",type:"GAME",gameType:"NEURO_MATCH",instructions:"   !",targetScore:5},{id:"s22_match",type:"MATCHING",question:"   -:",pairs:[{id:"p1",left:"  !",right:"  "},{id:"p2",left:"  !",right:"   "},{id:"p3",left:" !",right:"   "},{id:"p4",left:"   !",right:"  "}]},{id:"s22_3",type:"THEORY",title:"  ",content:`  :

  ""
   
   
   
   `,tips:['  ""    "" ']},{id:"s22_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","",""],distractorWords:["",""]},{id:"s22_practice",type:"THEORY",title:" ",content:` :

1    3  
2  -  
3    ""  `,tips:["   "]},{id:"s22_input",type:"INPUT",question:"     ?",placeholder:"  ,  ...",minLength:10}]},{id:"t23",week:3,title:" 5 ",description:"  ",xpReward:300,coinsReward:150,isLocked:!1,slides:[{id:"s23_intro",type:"THEORY",title:" 5-4-3-2-1... !",content:`   .     .

   ,  ,        5 .`,animation:"rocket",tips:["    5 ","      "]},{id:"s23_poll",type:"POLL",question:"    ?",options:[" "," "," ","  "]},{id:"s23_1",type:"THEORY",title:"   ?",content:`      .

   " ...",     :

 ""
 " "
 ""`,tips:["        "]},{id:"s23_2",type:"THEORY",title:"  ",content:`  - :

1  !
2   : 5... 4... 3... 2... 1...
3  "1"  !

   .    !`,animation:"countdown",tips:["   !","   "]},{id:"s23_quiz1",type:"QUIZ",question:"     (5-4-3-2-1)?",options:[" ","    "," "],correctIndex:1,explanation:'     ,   .   "" !'},{id:"s23_3",type:"THEORY",title:"  ",content:`    ?
5-4-3-2-1... !

    ?
5-4-3-2-1...  !

    ?
5-4-3-2-1...  !

  ?
5-4-3-2-1... !`,tips:["    !"]},{id:"s23_sort",type:"SORTING",question:"    ?",leftCategoryLabel:"  ",rightCategoryLabel:"  ",items:[{id:"i1",text:" ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:" = ",emoji:"",category:"LEFT"},{id:"i4",text:"  ",emoji:"",category:"RIGHT"},{id:"i5",text:"",emoji:"",category:"LEFT"},{id:"i6",text:"",emoji:"",category:"RIGHT"}]},{id:"s23_katya",type:"THEORY",title:"  ",content:`""    "".

  ,   .

 ,     .    .`,tips:["       "]},{id:"s23_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`  !

     !
5-4-3-2-1... !`,durationSeconds:20,targetScore:8},{id:"s23_puzzle",type:"PUZZLE",question:"  :",correctSentence:["","","","","",""],distractorWords:["",""]},{id:"s23_summary",type:"THEORY",title:" !",content:` 5-4-3-2-1   
      
   
 "" = ""

     !`,tips:["   !"]},{id:"s23_input",type:"INPUT",question:"     5-4-3-2-1 ?",placeholder:"     ...",minLength:10}]},{id:"t24",week:3,title:"5 ",description:"  ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s24_intro",type:"THEORY",title:"  ",content:`  ,   .     .

 "5 "     .`,animation:"search",tips:["     "]},{id:"s24_poll",type:"POLL",question:" ,    ,  -   ?",options:[" !"," "," ","  "]},{id:"s24_1",type:"THEORY",title:"   ",content:`   "?" 5  .

    "?"

     !`,tips:["    Toyota","     "]},{id:"s24_2",type:"THEORY",title:" ",content:` :     

1 ?    
2 ?    TikTok
3 ?     
4 ?    - 
5 ?    

  :    !`,tips:["  ,   "]},{id:"s24_quiz1",type:"QUIZ",question:'  "?"  5 ?',options:["  "," ,    ","  "],correctIndex:1,explanation:" 5    .   3,   7.      !"},{id:"s24_3",type:"THEORY",title:"  ",content:` :    

1 ?   
2 ?     
3 ?   ,   
4 ?    
5 ?    

 : ,   !`,tips:["     "]},{id:"s24_match",type:"MATCHING",question:"    :",pairs:[{id:"p1",left:" ",right:" "},{id:"p2",left:"",right:" "},{id:"p3",left:" ",right:"  "},{id:"p4",left:"",right:" "}]},{id:"s24_katya",type:"THEORY",title:"  ",content:`        .

  .  .

"5 "       .`,tips:["  !","  = "]},{id:"s24_game",type:"GAME",gameType:"NEURO_MATCH",instructions:`  !

  .`,targetScore:5},{id:"s24_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","",""],distractorWords:["",""]},{id:"s24_summary",type:"THEORY",title:" !",content:`  "?" 5 
     
   
  ,  

      !`,tips:["   !"]},{id:"s24_input",type:"INPUT",question:'      "5 "?',placeholder:"   ...",minLength:10}]},{id:"t25",week:3,title:" ",description:"   ",xpReward:300,coinsReward:150,isLocked:!1,slides:[{id:"s25_intro",type:"THEORY",title:"  ",content:`:       .

     (, , ).

 -  ...`,animation:"energy",tips:["  ","     "]},{id:"s25_poll",type:"POLL",question:"       ?",options:[" !"," "," "," "]},{id:"s25_1",type:"THEORY",title:"   ?",content:`  :

  
   
  
   
  
  `,tips:["   =  "]},{id:"s25_sort",type:"SORTING",question:"  ,   ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:"  3 ",emoji:"",category:"LEFT"},{id:"i2",text:"   ",emoji:"",category:"RIGHT"},{id:"i3",text:" ",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:"",emoji:"",category:"LEFT"},{id:"i6",text:"8  ",emoji:"",category:"RIGHT"},{id:"i7",text:"",emoji:"",category:"LEFT"},{id:"i8",text:" ",emoji:"",category:"RIGHT"}]},{id:"s25_2",type:"THEORY",title:"    ?",content:`  :

      ?
     ?
      ?
        ?`,tips:["  ,    "]},{id:"s25_quiz1",type:"QUIZ",question:' " " ?',options:[" ","      "," "],correctIndex:1,explanation:"         .      !"},{id:"s25_3",type:"THEORY",title:"   ",content:`    
    
    
  ,  
  "" ,  

   =  !`,tips:["     "]},{id:"s25_match",type:"MATCHING",question:"   :",pairs:[{id:"p1",left:"",right:"  "},{id:"p2",left:" ",right:" "},{id:"p3",left:"",right:"  "},{id:"p4",left:"",right:" 5 "}]},{id:"s25_katya",type:"THEORY",title:"  ",content:`  .   .

      .

 .  .   ,    !`,tips:["    ","    "]},{id:"s25_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:`   !

   ""   !
    !`,durationSeconds:25,targetScore:7},{id:"s25_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","","","",""],distractorWords:["",""]},{id:"s25_summary",type:"THEORY",title:" !",content:`  =   
  = ,   
   
     

     !`,tips:["        !"]},{id:"s25_input",type:"INPUT",question:' ""   ?',placeholder:"   ...",minLength:10}]},{id:"t26",week:3,title:" ",description:"   ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s26_intro",type:"THEORY",title:"   ?",content:`  : "  ?  !"

    .          !`,animation:"steps",tips:["  =  ","    "]},{id:"s26_poll",type:"POLL",question:",          ?",options:[" , !"," "," ","   "]},{id:"s26_1",type:"THEORY",title:"    ?",content:`  .

" "  
" 5  "  !

" "  
" 1 "   !`,tips:["   = ","   = "]},{id:"s26_quiz1",type:"QUIZ",question:"  ?",options:['" "','" 10   "','"-  "'],correctIndex:1,explanation:" , ,  .   ,  !"},{id:"s26_2",type:"THEORY",title:"   ?",content:`1   
2 : "  ?"
3      5 ?
4 ?   !
5    `,tips:["   = 5-15 "]},{id:"s26_3",type:"THEORY",title:" ",content:` :  5  

 :
1.   (1 )
2.   (10 )
3.  3  (15 )
4.   (5 )
5.  

     !`,tips:["   =  "]},{id:"s26_sort",type:"SORTING",question:"  ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:'" 1000 "',emoji:"",category:"LEFT"},{id:"i2",text:'" 5  "',emoji:"",category:"RIGHT"},{id:"i3",text:'"  20 "',emoji:"",category:"LEFT"},{id:"i4",text:'"   "',emoji:"",category:"RIGHT"},{id:"i5",text:'"  "',emoji:"",category:"LEFT"},{id:"i6",text:'"   "',emoji:"",category:"RIGHT"}]},{id:"s26_match",type:"MATCHING",question:"  :",pairs:[{id:"p1",left:" ",right:" 1 "},{id:"p2",left:" ",right:" "},{id:"p3",left:" ",right:" 1 "},{id:"p4",left:" ",right:" 10 "}]},{id:"s26_katya",type:"THEORY",title:"  ",content:`    .

      .        .

   !`,tips:[" ,  "," ,  "]},{id:"s26_game",type:"GAME",gameType:"NEURO_MATCH",instructions:`  !

   .`,targetScore:5},{id:"s26_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","","","",""],distractorWords:["",""]},{id:"s26_summary",type:"THEORY",title:" !",content:`   =   
   = 5-15 
     
   

     !`,tips:["   !"]},{id:"s26_input",type:"INPUT",question:"      ?",placeholder:":       5   ...",minLength:10}]},{id:"t27",week:3,title:"",description:"  ",xpReward:300,coinsReward:150,isLocked:!1,slides:[{id:"s27_intro",type:"THEORY",title:"    ",content:`     .

           .`,animation:"vision",tips:["      ","  = "]},{id:"s27_poll",type:"POLL",question:"    ?",options:[" ,  !"," "," ","     "]},{id:"s27_1",type:"THEORY",title:"   ?",content:`    :

    
     
    
  `,tips:["     ","    "]},{id:"s27_quiz1",type:"QUIZ",question:"   ?",options:[" ","     ","  "],correctIndex:1,explanation:"  :       ,     !"},{id:"s27_2",type:"THEORY",title:"   ",content:`1  
2     
3  :  ? ? ?
4    
5   `,tips:['  ""   ',"      "]},{id:"s27_3",type:"THEORY",title:"  ",content:` :    5

 :
"   .   .  ...  5!   .  .  ."

   ,   !`,tips:["    "]},{id:"s27_sort",type:"SORTING",question:"  ?",leftCategoryLabel:" ",rightCategoryLabel:" ",items:[{id:"i1",text:"  ",emoji:"",category:"LEFT"},{id:"i2",text:" ",emoji:"",category:"RIGHT"},{id:"i3",text:" ",emoji:"",category:"LEFT"},{id:"i4",text:" ",emoji:"",category:"RIGHT"},{id:"i5",text:"",emoji:"",category:"LEFT"},{id:"i6",text:"  ",emoji:"",category:"RIGHT"}]},{id:"s27_4",type:"THEORY",title:"   ",content:`   30 .

   .     .

   ?
  ?
   ?

... .   !`,tips:["    !"]},{id:"s27_katya",type:"THEORY",title:"  ",content:`    ,  .

   ,   .         .

 !`,tips:["     ","    ,  "]},{id:"s27_game",type:"GAME",gameType:"FOCUS_DEFENDER",instructions:` !

      !`,durationSeconds:20,targetScore:6},{id:"s27_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","","",""],distractorWords:["",""]},{id:"s27_summary",type:"THEORY",title:" !",content:`  =  
    
   
  !

       !`,tips:[" 5      "]},{id:"s27_input",type:"INPUT",question:"     ?",placeholder:"   ...",minLength:20}]},{id:"t28",week:3,title:" ",description:"   ",xpReward:280,coinsReward:140,isLocked:!1,slides:[{id:"s28_intro",type:"THEORY",title:"   ",content:`   ?     !

         .`,animation:"chain",tips:["  +  = ","   "]},{id:"s28_poll",type:"POLL",question:'    " "?',options:["  "," ","  ","    "]},{id:"s28_1",type:"THEORY",title:"    ?",content:` : "  !"

   
  
    - 

=   3 `,tips:['    "  "']},{id:"s28_2",type:"THEORY",title:"  ",content:` [ ]   [ ]

 "       10 "
 "    5  "
 "   10  "`,tips:["   = ","    "]},{id:"s28_quiz1",type:"QUIZ",question:"  ?",options:['"   "','"   10 "','"    "'],correctIndex:1,explanation:"      ().   !"},{id:"s28_3",type:"THEORY",title:"  ",content:` :
    
    5 

 :
    1 
   10  

 :
    
   5  `,tips:["  1   !"]},{id:"s28_match",type:"MATCHING",question:" :",pairs:[{id:"p1",left:"  ",right:"10 "},{id:"p2",left:" ",right:" 5 "},{id:"p3",left:" ",right:""},{id:"p4",left:" ",right:" 10 "}]},{id:"s28_sort",type:"SORTING",question:"  ?",leftCategoryLabel:"  ",rightCategoryLabel:"  ",items:[{id:"i1",text:'"  "',emoji:"",category:"LEFT"},{id:"i2",text:'"   10 "',emoji:"",category:"RIGHT"},{id:"i3",text:'"-  "',emoji:"",category:"LEFT"},{id:"i4",text:'"   5 "',emoji:"",category:"RIGHT"},{id:"i5",text:'"  "',emoji:"",category:"LEFT"},{id:"i6",text:'"   Duolingo"',emoji:"",category:"RIGHT"}]},{id:"s28_katya",type:"THEORY",title:"  ",content:`    .

   .   ,     .

 21     .   !`,tips:["    "," 21  =  "]},{id:"s28_game",type:"GAME",gameType:"NEURO_MATCH",instructions:` !

   .`,targetScore:5},{id:"s28_puzzle",type:"PUZZLE",question:" :",correctSentence:["","","","",""],distractorWords:["",""]},{id:"s28_summary",type:"THEORY",title:" !",content:` :  []  []
   ,   
    
 21  = 

    !`,tips:["  !"]},{id:"s28_input",type:"INPUT",question:'  : " ______   ______"',placeholder:"      10 ...",minLength:15}]}],sS=[{id:"l1",week:1,title:" : ",duration:"15 ",description:"    ?   .",thumbnail:"https://images.unsplash.com/photo-1559757175-0b31070b1805?auto=format&fit=crop&q=80&w=600",topics:["   ","     ","  ","    "]},{id:"l2",week:1,title:"  ?",duration:"12 ",description:"    .    .",thumbnail:"https://images.unsplash.com/photo-1516627145497-ae6968895b74?auto=format&fit=crop&q=80&w=600",topics:["     ","    ","  "," vs "]},{id:"l3",week:2,title:"  ",duration:"20 ",description:"     .",thumbnail:"https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?auto=format&fit=crop&q=80&w=600",topics:["-  "," ",'  ""   ""',' ""']},{id:"l4",week:2,title:"4   ",duration:"18 ",description:"    .",thumbnail:"https://images.unsplash.com/photo-1491438590914-bc09fcaaf77a?auto=format&fit=crop&q=80&w=600",topics:[" ","  ",""," ","    "]},{id:"l5",week:3,title:":  ,   ",duration:"22 ",description:"        .",thumbnail:"https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&q=80&w=600",topics:[" vs  ",'  "" ',"  ",' " "']},{id:"l6",week:3,title:"  ",duration:"15 ",description:"   .",thumbnail:"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?auto=format&fit=crop&q=80&w=600",topics:["   ","   ","  ","  "]}],ev=[{id:"m1",title:" ",category:"SLEEP",duration:"10 ",color:"bg-indigo-500",youtubeId:"rvaqPPjtxng"},{id:"m2",title:" ",category:"SLEEP",duration:"20 ",color:"bg-indigo-600",youtubeId:"1ZYbU82GVz4"},{id:"m3",title:" ",category:"SLEEP",duration:"15 ",color:"bg-purple-600",youtubeId:"tz82xbLvK_k"},{id:"m4",title:" ",category:"SLEEP",duration:"30 ",color:"bg-violet-600",youtubeId:"aXItOY0sLRY"},{id:"m5",title:"  ",category:"FOCUS",duration:"5 ",color:"bg-yellow-500",youtubeId:"poAk9XgK7Cs"},{id:"m6",title:" ",category:"FOCUS",duration:"7 ",color:"bg-amber-500",youtubeId:"jPpUNAFHgxM"},{id:"m7",title:" ",category:"FOCUS",duration:"15 ",color:"bg-yellow-600",youtubeId:"MIr3RsUWrdo"},{id:"m8",title:" ",category:"FOCUS",duration:"10 ",color:"bg-orange-500",youtubeId:"2OEL4P1Rz04"},{id:"m9",title:" ",category:"ANXIETY",duration:"7 ",color:"bg-emerald-500",youtubeId:"O-6f5wQXSu8"},{id:"m10",title:"",category:"ANXIETY",duration:"5 ",color:"bg-teal-500",youtubeId:"SEfs5TJZ6Nk"},{id:"m11",title:" ",category:"ANXIETY",duration:"10 ",color:"bg-green-600",youtubeId:"z0GtmPnqAd8"},{id:"m12",title:" ",category:"ANXIETY",duration:"12 ",color:"bg-cyan-600",youtubeId:"lE6RYpe9IT0"},{id:"m13",title:" ",category:"ENERGY",duration:"5 ",color:"bg-rose-500",youtubeId:"86m4RC_ADEY"},{id:"m14",title:"",category:"ENERGY",duration:"3 ",color:"bg-red-500",youtubeId:"inpok4MKVLM"},{id:"m15",title:" ",category:"ENERGY",duration:"8 ",color:"bg-pink-500",youtubeId:"itZMM5gCboo"},{id:"m16",title:" ",category:"ENERGY",duration:"6 ",color:"bg-fuchsia-500",youtubeId:"cEqZthCaMpo"}],tv=[{id:"snd1",title:"",iconType:"RAIN",color:"bg-blue-600",youtubeId:"q76bMs-NwRk"},{id:"snd2",title:"",iconType:"FOREST",color:"bg-green-600",youtubeId:"xNN7iTA57jM"},{id:"snd3",title:"",iconType:"OCEAN",color:"bg-cyan-600",youtubeId:"bn9F19Hi1Lk"},{id:"snd4",title:"",iconType:"FIRE",color:"bg-orange-600",youtubeId:"UgHKb_7884o"},{id:"snd5",title:"",iconType:"WIND",color:"bg-slate-500",youtubeId:"2PV1L3hOZ1c"},{id:"snd6",title:"",iconType:"CAFE",color:"bg-amber-700",youtubeId:"h2zkV-l_TbY"},{id:"snd7",title:"",iconType:"THUNDER",color:"bg-indigo-600",youtubeId:"gVKEM4K8J8A"},{id:"snd8",title:"",iconType:"NIGHT",color:"bg-purple-700",youtubeId:"eKmRkS1os7k"}],nv=[{text:"   .  .",author:" ",movie:"  "},{text:"  ,   .",author:" ",movie:"  "},{text:"    .    .",author:" ",movie:"  "},{text:" .      .",author:" ",movie:"  "},{text:"    . ''   .",author:" ",movie:"  "},{text:"  ? 5      .",author:" ",movie:"  "},{text:"   ,     .",author:" ",movie:"  "},{text:"    ,    .",author:" ",movie:"  "},{text:"  .   .",author:" ",movie:"  "},{text:"    .    .",author:" ",movie:"  "},{text:"  ,  .",author:" ",movie:"  "},{text:"   .    .",author:" ",movie:"  "},{text:"       .",author:"",movie:" "},{text:"  ,      .",author:" ",movie:""},{text:"       ,   .",author:" ",movie:""},{text:"    ,    .    .",author:" ",movie:""},{text:"       .",author:" ",movie:""},{text:"   ,     .",author:" ",movie:""},{text:"   ,    .",author:" ",movie:""},{text:"      .",author:" ",movie:""},{text:"    ,     .",author:" ",movie:""},{text:"  ,    .",author:" ",movie:""}],yd=[{text:"   .  ,  .",author:" ",category:"self-love"},{text:"    .    .",author:" ",category:"self-love"},{text:" ''    '' .",author:" ",category:"boundaries"},{text:"   ,  .",author:" ",category:"motivation"},{text:"  .   .",author:" ",category:"emotions"},{text:"    ,  .",author:" ",category:"growth"},{text:"     .",author:" ",category:"boundaries"},{text:"         .",author:" ",category:"self-love"},{text:"    .",author:" ",category:"motivation"},{text:"    .   .",author:" ",category:"boundaries"},{text:"    ,    .",author:" ",category:"self-care"},{text:" .    .",author:" ",category:"self-love"},{text:"    .   .",author:" ",category:"growth"},{text:"   .",author:" ",category:"boundaries"},{text:"   ,   .",author:" ",category:"motivation"},{text:"      .",author:" ",category:"self-love"}],Lw=[{id:"hp_potion",name:" ",description:" +1 HP.    !",price:50,icon:"hp_potion",type:"POWERUP"},{id:"streak_freeze",name:"",description:"      ",price:100,icon:"streak_freeze",type:"POWERUP"},{id:"mystery_box",name:"",description:" : 50-200 , 30-100 XP  +2 HP!",price:75,icon:"mystery_box",type:"POWERUP"},{id:"xp_boost",name:"XP ",description:" x2 XP   !",price:80,icon:"xp_boost",type:"POWERUP"},{id:"hint_pack",name:"",description:" 3    ",price:60,icon:"hint_pack",type:"POWERUP"},{id:"frame_gold",name:" ",description:"    ",price:500,icon:"frame_gold",type:"COSMETIC"},{id:"frame_rainbow",name:" ",description:"   ",price:750,icon:"frame_rainbow",type:"COSMETIC"},{id:"badge_pro",name:" PRO",description:"    !",price:300,icon:"badge_pro",type:"COSMETIC"},{id:"title_ninja",name:' ""',description:"    ",price:400,icon:"title_ninja",type:"COSMETIC"},{id:"title_master",name:' ""',description:"  ",price:1e3,icon:"title_master",type:"COSMETIC"}],Rd=[{id:"first_lesson",title:" ",description:"   ",icon:"",category:"LEARNING",requirement:{type:"TASKS_COMPLETED",value:1},reward:{xp:50,coins:25}},{id:"five_lessons",title:" ",description:" 5 ",icon:"",category:"LEARNING",requirement:{type:"TASKS_COMPLETED",value:5},reward:{xp:100,coins:50}},{id:"ten_lessons",title:" ",description:" 10 ",icon:"",category:"LEARNING",requirement:{type:"TASKS_COMPLETED",value:10},reward:{xp:200,coins:100}},{id:"first_boss",title:"",description:"   ",icon:"",category:"LEARNING",requirement:{type:"BOSS_DEFEATED",value:1},reward:{xp:150,coins:75}},{id:"week_complete",title:"  ",description:"    ",icon:"",category:"LEARNING",requirement:{type:"WEEK_COMPLETED",value:1},reward:{xp:300,coins:150}},{id:"streak_3",title:"  ",description:" 3  ",icon:"",category:"STREAK",requirement:{type:"STREAK_DAYS",value:3},reward:{xp:75,coins:30}},{id:"streak_7",title:" ",description:" 7  ",icon:"",category:"STREAK",requirement:{type:"STREAK_DAYS",value:7},reward:{xp:150,coins:75}},{id:"streak_14",title:"  ",description:" 14  ",icon:"",category:"STREAK",requirement:{type:"STREAK_DAYS",value:14},reward:{xp:300,coins:150}},{id:"streak_21",title:" ",description:" 21  ",icon:"",category:"STREAK",requirement:{type:"STREAK_DAYS",value:21},reward:{xp:500,coins:250}},{id:"xp_500",title:"",description:" 500 XP",icon:"",category:"SPECIAL",requirement:{type:"XP_EARNED",value:500},reward:{coins:50}},{id:"xp_1000",title:"",description:" 1000 XP",icon:"",category:"SPECIAL",requirement:{type:"XP_EARNED",value:1e3},reward:{coins:100}},{id:"xp_2500",title:"",description:" 2500 XP",icon:"",category:"SPECIAL",requirement:{type:"XP_EARNED",value:2500},reward:{coins:200}},{id:"coins_500",title:"",description:" 500 ",icon:"",category:"SPECIAL",requirement:{type:"COINS_EARNED",value:500},reward:{xp:100}}];/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),iv=t=>{const e=aS(t);return e.charAt(0).toUpperCase()+e.slice(1)},Uw=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),oS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...d},p)=>O.createElement("svg",{ref:p,...lS,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Uw("lucide",a),...!l&&!oS(d)&&{"aria-hidden":"true"},...d},[...u.map(([h,g])=>O.createElement(h,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const n=O.forwardRef(({className:s,...a},l)=>O.createElement(cS,{ref:l,iconNode:e,className:Uw(`lucide-${rS(iv(t))}`,`lucide-${t}`,s),...a}));return n.displayName=iv(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],dS=Le("arrow-right",uS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],hS=Le("award",fS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Vw=Le("battery",pS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gS=Le("bell",mS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8.62 9.8A2.25 2.25 0 1 1 12 6.836a2.25 2.25 0 1 1 3.38 2.966l-2.626 2.856a.998.998 0 0 1-1.507 0z",key:"9v40y5"}]],zw=Le("book-heart",yS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Zd=Le("book-open",xS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],fs=Le("brain",vS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vm=Le("calendar",bS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],_S=Le("chart-column",wS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],ES=Le("chart-no-axes-column",TS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wa=Le("check",SS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fw=Le("chevron-down",NS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],AS=Le("chevron-left",CS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],js=Le("chevron-right",RS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jS=Le("chevron-up",IS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kS=Le("circle-alert",MS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ka=Le("circle-check-big",DS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],OS=Le("circle-question-mark",PS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ra=Le("clock",LS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],VS=Le("cloud-rain",US);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Hw=Le("cloud",zS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],ll=Le("coins",FS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],BS=Le("crown",HS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],qS=Le("droplets",GS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YS=Le("eye",$S);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],KS=Le("file-text",WS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],fr=Le("flame",JS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Ld=Le("gamepad-2",XS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],ZS=Le("ghost",QS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Bc=Le("gift",e5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],sv=Le("graduation-cap",t5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],i5=Le("hand",n5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ni=Le("heart",s5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],a5=Le("info",r5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],l5=Le("layout-grid",o5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],u5=Le("leaf",c5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],f5=Le("loader",d5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Bw=Le("lock",h5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],m5=Le("log-out",p5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],y5=Le("medal",g5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M7.828 13.07A3 3 0 0 1 12 8.764a3 3 0 0 1 5.004 2.224 3 3 0 0 1-.832 2.083l-3.447 3.62a1 1 0 0 1-1.45-.001z",key:"hoo97p"}]],v5=Le("message-circle-heart",x5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],w5=Le("message-circle",b5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Gw=Le("moon",_5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],E5=Le("package",T5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ud=Le("pause",S5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],C5=Le("pen-tool",N5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],hs=Le("play",A5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jp=Le("plus",R5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],j5=Le("refresh-ccw",I5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zm=Le("refresh-cw",M5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],D5=Le("rotate-ccw",k5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],O5=Le("search",P5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],qw=Le("send",L5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],V5=Le("shield-check",U5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ef=Le("shield",z5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Fm=Le("shopping-bag",F5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],$w=Le("skull",H5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],rv=Le("smartphone",B5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],q5=Le("smile",G5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Y5=Le("snowflake",$5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Hn=Le("sparkles",W5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qi=Le("star",K5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Hm=Le("sun",J5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ui=Le("target",X5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Z5=Le("timer",Q5);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tN=Le("trash-2",eN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],iN=Le("tree-pine",nN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bm=Le("triangle-alert",sN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ds=Le("trophy",rN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oN=Le("user",aN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gm=Le("users",lN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],uN=Le("waves",cN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],fN=Le("wind",dN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],pN=Le("wrench",hN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mi=Le("x",mN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ni=Le("zap",gN),qm=O.createContext({});function Zc(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const $m=typeof window<"u",Ym=$m?O.useLayoutEffect:O.useEffect,tf=O.createContext(null);function Wm(t,e){t.indexOf(e)===-1&&t.push(e)}function Km(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hr=(t,e,n)=>n>e?e:n<t?t:n;let Jm=()=>{};const pr={},Yw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Ww(t){return typeof t=="object"&&t!==null}const Kw=t=>/^0[^.\s]+$/u.test(t);function Xm(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zi=t=>t,yN=(t,e)=>n=>e(t(n)),eu=(...t)=>t.reduce(yN),Gc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Qm{constructor(){this.subscriptions=[]}add(e){return Wm(this.subscriptions,e),()=>Km(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ms=t=>t*1e3,Xi=t=>t/1e3;function Jw(t,e){return e?t*(1e3/e):0}const Xw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xN=1e-7,vN=12;function bN(t,e,n,s,a){let l,u,d=0;do u=e+(n-e)/2,l=Xw(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>xN&&++d<vN);return u}function tu(t,e,n,s){if(t===e&&n===s)return Zi;const a=l=>bN(l,0,1,t,n);return l=>l===0||l===1?l:Xw(a(l),e,s)}const Qw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Zw=t=>e=>1-t(1-e),e_=tu(.33,1.53,.69,.99),Zm=Zw(e_),t_=Qw(Zm),n_=t=>(t*=2)<1?.5*Zm(t):.5*(2-Math.pow(2,-10*(t-1))),e0=t=>1-Math.sin(Math.acos(t)),i_=Zw(e0),s_=Qw(e0),wN=tu(.42,0,1,1),_N=tu(0,0,.58,1),r_=tu(.42,0,.58,1),TN=t=>Array.isArray(t)&&typeof t[0]!="number",a_=t=>Array.isArray(t)&&typeof t[0]=="number",EN={linear:Zi,easeIn:wN,easeInOut:r_,easeOut:_N,circIn:e0,circInOut:s_,circOut:i_,backIn:Zm,backInOut:t_,backOut:e_,anticipate:n_},SN=t=>typeof t=="string",av=t=>{if(a_(t)){Jm(t.length===4);const[e,n,s,a]=t;return tu(e,n,s,a)}else if(SN(t))return EN[t];return t},xd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NN(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(g){u.has(g)&&(h.schedule(g),t()),g(d)}const h={schedule:(g,b=!1,T=!1)=>{const j=T&&a?n:s;return b&&u.add(g),j.has(g)||j.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(d=g,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,h.process(g))}};return h}const CN=40;function o_(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=xd.reduce((k,G)=>(k[G]=NN(l),k),{}),{setup:d,read:p,resolveKeyframes:h,preUpdate:g,update:b,preRender:T,render:S,postRender:j}=u,N=()=>{const k=pr.useManualTiming?a.timestamp:performance.now();n=!1,pr.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(k-a.timestamp,CN),1)),a.timestamp=k,a.isProcessing=!0,d.process(a),p.process(a),h.process(a),g.process(a),b.process(a),T.process(a),S.process(a),j.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(N))},P=()=>{n=!0,s=!0,a.isProcessing||t(N)};return{schedule:xd.reduce((k,G)=>{const J=u[G];return k[G]=(K,te=!1,re=!1)=>(n||P(),J.schedule(K,te,re)),k},{}),cancel:k=>{for(let G=0;G<xd.length;G++)u[xd[G]].cancel(k)},state:a,steps:u}}const{schedule:hn,cancel:mr,state:ti,steps:vp}=o_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zi,!0);let Id;function AN(){Id=void 0}const Si={now:()=>(Id===void 0&&Si.set(ti.isProcessing||pr.useManualTiming?ti.timestamp:performance.now()),Id),set:t=>{Id=t,queueMicrotask(AN)}},l_=t=>e=>typeof e=="string"&&e.startsWith(t),t0=l_("--"),RN=l_("var(--"),n0=t=>RN(t)?IN.test(t.split("/*")[0].trim()):!1,IN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Tl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},qc={...Tl,transform:t=>hr(0,1,t)},vd={...Tl,default:1},Dc=t=>Math.round(t*1e5)/1e5,i0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jN(t){return t==null}const MN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s0=(t,e)=>n=>!!(typeof n=="string"&&MN.test(n)&&n.startsWith(t)||e&&!jN(n)&&Object.prototype.hasOwnProperty.call(n,e)),c_=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,d]=s.match(i0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},kN=t=>hr(0,255,t),bp={...Tl,transform:t=>Math.round(kN(t))},qa={test:s0("rgb","red"),parse:c_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+bp.transform(t)+", "+bp.transform(e)+", "+bp.transform(n)+", "+Dc(qc.transform(s))+")"};function DN(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Xp={test:s0("#"),parse:DN,transform:qa.transform},nu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Xr=nu("deg"),ks=nu("%"),ht=nu("px"),PN=nu("vh"),ON=nu("vw"),ov={...ks,parse:t=>ks.parse(t)/100,transform:t=>ks.transform(t*100)},cl={test:s0("hsl","hue"),parse:c_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ks.transform(Dc(e))+", "+ks.transform(Dc(n))+", "+Dc(qc.transform(s))+")"},Fn={test:t=>qa.test(t)||Xp.test(t)||cl.test(t),parse:t=>qa.test(t)?qa.parse(t):cl.test(t)?cl.parse(t):Xp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qa.transform(t):cl.transform(t),getAnimatableNone:t=>{const e=Fn.parse(t);return e.alpha=0,Fn.transform(e)}},LN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(i0))==null?void 0:e.length)||0)+(((n=t.match(LN))==null?void 0:n.length)||0)>0}const u_="number",d_="color",VN="var",zN="var(",lv="${}",FN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $c(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(FN,p=>(Fn.test(p)?(s.color.push(l),a.push(d_),n.push(Fn.parse(p))):p.startsWith(zN)?(s.var.push(l),a.push(VN),n.push(p)):(s.number.push(l),a.push(u_),n.push(parseFloat(p))),++l,lv)).split(lv);return{values:n,split:d,indexes:s,types:a}}function f_(t){return $c(t).values}function h_(t){const{split:e,types:n}=$c(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const d=n[u];d===u_?l+=Dc(a[u]):d===d_?l+=Fn.transform(a[u]):l+=a[u]}return l}}const HN=t=>typeof t=="number"?0:Fn.test(t)?Fn.getAnimatableNone(t):t;function BN(t){const e=f_(t);return h_(t)(e.map(HN))}const na={test:UN,parse:f_,createTransformer:h_,getAnimatableNone:BN};function wp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GN({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,p=2*n-d;a=wp(p,d,t+1/3),l=wp(p,d,t),u=wp(p,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function Vd(t,e){return n=>n>0?e:t}const wn=(t,e,n)=>t+(e-t)*n,_p=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},qN=[Xp,qa,cl],$N=t=>qN.find(e=>e.test(t));function cv(t){const e=$N(t);if(!e)return!1;let n=e.parse(t);return e===cl&&(n=GN(n)),n}const uv=(t,e)=>{const n=cv(t),s=cv(e);if(!n||!s)return Vd(t,e);const a={...n};return l=>(a.red=_p(n.red,s.red,l),a.green=_p(n.green,s.green,l),a.blue=_p(n.blue,s.blue,l),a.alpha=wn(n.alpha,s.alpha,l),qa.transform(a))},Qp=new Set(["none","hidden"]);function YN(t,e){return Qp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function WN(t,e){return n=>wn(t,e,n)}function r0(t){return typeof t=="number"?WN:typeof t=="string"?n0(t)?Vd:Fn.test(t)?uv:XN:Array.isArray(t)?p_:typeof t=="object"?Fn.test(t)?uv:KN:Vd}function p_(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>r0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function KN(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=r0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function JN(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],d=t.values[u]??0;n[a]=d,s[l]++}return n}const XN=(t,e)=>{const n=na.createTransformer(e),s=$c(t),a=$c(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Qp.has(t)&&!a.values.length||Qp.has(e)&&!s.values.length?YN(t,e):eu(p_(JN(s,a),a.values),n):Vd(t,e)};function m_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wn(t,e,n):r0(t)(t,e)}const QN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>hn.update(e,n),stop:()=>mr(e),now:()=>ti.isProcessing?ti.timestamp:Si.now()}},g_=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},zd=2e4;function a0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<zd;)e+=n,s=t.next(e);return e>=zd?1/0:e}function ZN(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(a0(s),zd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Xi(a)}}const eC=5;function y_(t,e,n){const s=Math.max(e-eC,0);return Jw(n-t(s),e-s)}const An={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tp=.001;function tC({duration:t=An.duration,bounce:e=An.bounce,velocity:n=An.velocity,mass:s=An.mass}){let a,l,u=1-e;u=hr(An.minDamping,An.maxDamping,u),t=hr(An.minDuration,An.maxDuration,Xi(t)),u<1?(a=h=>{const g=h*u,b=g*t,T=g-n,S=Zp(h,u),j=Math.exp(-b);return Tp-T/S*j},l=h=>{const b=h*u*t,T=b*n+n,S=Math.pow(u,2)*Math.pow(h,2)*t,j=Math.exp(-b),N=Zp(Math.pow(h,2),u);return(-a(h)+Tp>0?-1:1)*((T-S)*j)/N}):(a=h=>{const g=Math.exp(-h*t),b=(h-n)*t+1;return-Tp+g*b},l=h=>{const g=Math.exp(-h*t),b=(n-h)*(t*t);return g*b});const d=5/t,p=iC(a,l,d);if(t=Ms(t),isNaN(p))return{stiffness:An.stiffness,damping:An.damping,duration:t};{const h=Math.pow(p,2)*s;return{stiffness:h,damping:u*2*Math.sqrt(s*h),duration:t}}}const nC=12;function iC(t,e,n){let s=n;for(let a=1;a<nC;a++)s=s-t(s)/e(s);return s}function Zp(t,e){return t*Math.sqrt(1-e*e)}const sC=["duration","bounce"],rC=["stiffness","damping","mass"];function dv(t,e){return e.some(n=>t[n]!==void 0)}function aC(t){let e={velocity:An.velocity,stiffness:An.stiffness,damping:An.damping,mass:An.mass,isResolvedFromDuration:!1,...t};if(!dv(t,rC)&&dv(t,sC))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*hr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:An.mass,stiffness:a,damping:l}}else{const n=tC(t);e={...e,...n,mass:An.mass},e.isResolvedFromDuration=!0}return e}function Fd(t=An.visualDuration,e=An.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:p,damping:h,mass:g,duration:b,velocity:T,isResolvedFromDuration:S}=aC({...n,velocity:-Xi(n.velocity||0)}),j=T||0,N=h/(2*Math.sqrt(p*g)),P=u-l,V=Xi(Math.sqrt(p/g)),D=Math.abs(P)<5;s||(s=D?An.restSpeed.granular:An.restSpeed.default),a||(a=D?An.restDelta.granular:An.restDelta.default);let k;if(N<1){const J=Zp(V,N);k=K=>{const te=Math.exp(-N*V*K);return u-te*((j+N*V*P)/J*Math.sin(J*K)+P*Math.cos(J*K))}}else if(N===1)k=J=>u-Math.exp(-V*J)*(P+(j+V*P)*J);else{const J=V*Math.sqrt(N*N-1);k=K=>{const te=Math.exp(-N*V*K),re=Math.min(J*K,300);return u-te*((j+N*V*P)*Math.sinh(re)+J*P*Math.cosh(re))/J}}const G={calculatedDuration:S&&b||null,next:J=>{const K=k(J);if(S)d.done=J>=b;else{let te=J===0?j:0;N<1&&(te=J===0?Ms(j):y_(k,J,K));const re=Math.abs(te)<=s,B=Math.abs(u-K)<=a;d.done=re&&B}return d.value=d.done?u:K,d},toString:()=>{const J=Math.min(a0(G),zd),K=g_(te=>G.next(J*te).value,J,30);return J+"ms "+K},toTransition:()=>{}};return G}Fd.applyToOptions=t=>{const e=ZN(t,100,Fd);return t.ease=e.ease,t.duration=Ms(e.duration),t.type="keyframes",t};function em({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:p,restDelta:h=.5,restSpeed:g}){const b=t[0],T={done:!1,value:b},S=re=>d!==void 0&&re<d||p!==void 0&&re>p,j=re=>d===void 0?p:p===void 0||Math.abs(d-re)<Math.abs(p-re)?d:p;let N=n*e;const P=b+N,V=u===void 0?P:u(P);V!==P&&(N=V-b);const D=re=>-N*Math.exp(-re/s),k=re=>V+D(re),G=re=>{const B=D(re),oe=k(re);T.done=Math.abs(B)<=h,T.value=T.done?V:oe};let J,K;const te=re=>{S(T.value)&&(J=re,K=Fd({keyframes:[T.value,j(T.value)],velocity:y_(k,re,T.value),damping:a,stiffness:l,restDelta:h,restSpeed:g}))};return te(0),{calculatedDuration:null,next:re=>{let B=!1;return!K&&J===void 0&&(B=!0,G(re),te(re)),J!==void 0&&re>=J?K.next(re-J):(!B&&G(re),T)}}}function oC(t,e,n){const s=[],a=n||pr.mix||m_,l=t.length-1;for(let u=0;u<l;u++){let d=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||Zi:e;d=eu(p,d)}s.push(d)}return s}function x_(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(Jm(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=oC(e,s,a),p=d.length,h=g=>{if(u&&g<t[0])return e[0];let b=0;if(p>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const T=Gc(t[b],t[b+1],g);return d[b](T)};return n?g=>h(hr(t[0],t[l-1],g)):h}function lC(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Gc(0,e,s);t.push(wn(n,1,a))}}function cC(t){const e=[0];return lC(e,t.length-1),e}function uC(t,e){return t.map(n=>n*e)}function dC(t,e){return t.map(()=>e||r_).splice(0,t.length-1)}function Pc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=TN(s)?s.map(av):av(s),l={done:!1,value:e[0]},u=uC(n&&n.length===e.length?n:cC(e),t),d=x_(u,e,{ease:Array.isArray(a)?a:dC(e,a)});return{calculatedDuration:t,next:p=>(l.value=d(p),l.done=p>=t,l)}}const fC=t=>t!==null;function o0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(fC),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const hC={decay:em,inertia:em,tween:Pc,keyframes:Pc,spring:Fd};function v_(t){typeof t.type=="string"&&(t.type=hC[t.type])}class l0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const pC=t=>t/100;class c0 extends l0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Si.now()&&this.tick(Si.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;v_(e);const{type:n=Pc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const p=n||Pc;p!==Pc&&typeof d[0]!="number"&&(this.mixKeyframes=eu(pC,m_(d[0],d[1])),d=[0,100]);const h=p({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...d].reverse(),velocity:-u})),h.calculatedDuration===null&&(h.calculatedDuration=a0(h));const{calculatedDuration:g}=h;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:g,repeat:b,repeatType:T,repeatDelay:S,type:j,onUpdate:N,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-h*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,G=s;if(b){const re=Math.min(this.currentTime,a)/d;let B=Math.floor(re),oe=re%1;!oe&&re>=1&&(oe=1),oe===1&&B--,B=Math.min(B,b+1),!!(B%2)&&(T==="reverse"?(oe=1-oe,S&&(oe-=S/d)):T==="mirror"&&(G=u)),k=hr(0,1,oe)*d}const J=D?{done:!1,value:g[0]}:G.next(k);l&&(J.value=l(J.value));let{done:K}=J;!D&&p!==null&&(K=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const te=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return te&&j!==em&&(J.value=o0(g,this.options,P,this.speed)),N&&N(J.value),te&&this.finish(),J}then(e,n){return this.finished.then(e,n)}get duration(){return Xi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xi(e)}get time(){return Xi(this.currentTime)}set time(e){var n;e=Ms(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Si.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xi(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=QN,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Si.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function mC(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $a=t=>t*180/Math.PI,tm=t=>{const e=$a(Math.atan2(t[1],t[0]));return nm(e)},gC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tm,rotateZ:tm,skewX:t=>$a(Math.atan(t[1])),skewY:t=>$a(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nm=t=>(t=t%360,t<0&&(t+=360),t),fv=tm,hv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),yC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hv,scaleY:pv,scale:t=>(hv(t)+pv(t))/2,rotateX:t=>nm($a(Math.atan2(t[6],t[5]))),rotateY:t=>nm($a(Math.atan2(-t[2],t[0]))),rotateZ:fv,rotate:fv,skewX:t=>$a(Math.atan(t[4])),skewY:t=>$a(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function im(t){return t.includes("scale")?1:0}function sm(t,e){if(!t||t==="none")return im(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=yC,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=gC,a=d}if(!a)return im(e);const l=s[e],u=a[1].split(",").map(vC);return typeof l=="function"?l(u):u[l]}const xC=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sm(n,e)};function vC(t){return parseFloat(t.trim())}const El=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(El),mv=t=>t===Tl||t===ht,bC=new Set(["x","y","z"]),wC=El.filter(t=>!bC.has(t));function _C(t){const e=[];return wC.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ja={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sm(e,"x"),y:(t,{transform:e})=>sm(e,"y")};Ja.translateX=Ja.x;Ja.translateY=Ja.y;const Xa=new Set;let rm=!1,am=!1,om=!1;function b_(){if(am){const t=Array.from(Xa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=_C(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{var d;(d=s.getValue(l))==null||d.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}am=!1,rm=!1,Xa.forEach(t=>t.complete(om)),Xa.clear()}function w_(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(am=!0)})}function TC(){om=!0,w_(),b_(),om=!1}class u0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),rm||(rm=!0,hn.read(w_),hn.resolveKeyframes(b_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}mC(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const EC=t=>t.startsWith("--");function SC(t,e,n){EC(e)?t.style.setProperty(e,n):t.style[e]=n}const NC=Xm(()=>window.ScrollTimeline!==void 0),CC={};function AC(t,e){const n=Xm(t);return()=>CC[e]??n()}const __=AC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,gv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mc([0,.65,.55,1]),circOut:Mc([.55,0,1,.45]),backIn:Mc([.31,.01,.66,-.59]),backOut:Mc([.33,1.53,.69,.99])};function T_(t,e){if(t)return typeof t=="function"?__()?g_(t,e):"ease-out":a_(t)?Mc(t):Array.isArray(t)?t.map(n=>T_(n,e)||gv.easeOut):gv[t]}function RC(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:p}={},h=void 0){const g={[e]:n};p&&(g.offset=p);const b=T_(d,a);Array.isArray(b)&&(g.easing=b);const T={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return h&&(T.pseudoElement=h),t.animate(g,T)}function E_(t){return typeof t=="function"&&"applyToOptions"in t}function IC({type:t,...e}){return E_(t)&&__()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class jC extends l0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Jm(typeof e.type!="string");const h=IC(e);this.animation=RC(n,s,a,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=o0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):SC(n,s,g),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Xi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Xi(e)}get time(){return Xi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ms(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&NC()?(this.animation.timeline=e,Zi):n(this)}}const S_={anticipate:n_,backInOut:t_,circInOut:s_};function MC(t){return t in S_}function kC(t){typeof t.ease=="string"&&MC(t.ease)&&(t.ease=S_[t.ease])}const yv=10;class DC extends jC{constructor(e){kC(e),v_(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new c0({...u,autoplay:!1}),p=Ms(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-yv).value,d.sample(p).value,yv),d.stop()}}const xv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(na.test(t)||t==="0")&&!t.startsWith("url("));function PC(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function OC(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=xv(a,e),d=xv(l,e);return!u||!d?!1:PC(t)||(n==="spring"||E_(n))&&s}function lm(t){t.duration=0,t.type="keyframes"}const LC=new Set(["opacity","clipPath","filter","transform"]),UC=Xm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function VC(t){var g;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:h}=e.owner.getProps();return UC()&&n&&LC.has(n)&&(n!=="transform"||!h)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const zC=40;class FC extends l0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:p,motionValue:h,element:g,...b}){var j;super(),this.stop=()=>{var N,P;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Si.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:h,element:g,...b},S=(g==null?void 0:g.KeyframeResolver)||u0;this.keyframeResolver=new S(d,(N,P,V)=>this.onKeyframesResolved(N,P,T,!V),p,h,g),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:p,isHandoff:h,onUpdate:g}=s;this.resolvedAt=Si.now(),OC(e,l,u,d)||((pr.instantAnimations||!p)&&(g==null||g(o0(e,s,n))),e[0]=e[e.length-1],lm(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>zC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!h&&VC(T)?new DC({...T,element:T.motionValue.owner.current}):new c0(T);S.finished.then(()=>this.notifyFinished()).catch(Zi),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),TC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const HC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BC(t){const e=HC.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function N_(t,e,n=1){const[s,a]=BC(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return Yw(u)?parseFloat(u):u}return n0(a)?N_(a,e,n+1):a}function d0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const C_=new Set(["width","height","top","left","right","bottom",...El]),GC={test:t=>t==="auto",parse:t=>t},A_=t=>e=>e.test(t),R_=[Tl,ht,ks,Xr,ON,PN,GC],vv=t=>R_.find(A_(t));function qC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Kw(t):!0}const $C=new Set(["brightness","contrast","saturate","opacity"]);function YC(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(i0)||[];if(!s)return t;const a=n.replace(s,"");let l=$C.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const WC=/\b([a-z-]*)\(.*?\)/gu,cm={...na,getAnimatableNone:t=>{const e=t.match(WC);return e?e.map(YC).join(" "):t}},bv={...Tl,transform:Math.round},KC={rotate:Xr,rotateX:Xr,rotateY:Xr,rotateZ:Xr,scale:vd,scaleX:vd,scaleY:vd,scaleZ:vd,skew:Xr,skewX:Xr,skewY:Xr,distance:ht,translateX:ht,translateY:ht,translateZ:ht,x:ht,y:ht,z:ht,perspective:ht,transformPerspective:ht,opacity:qc,originX:ov,originY:ov,originZ:ht},f0={borderWidth:ht,borderTopWidth:ht,borderRightWidth:ht,borderBottomWidth:ht,borderLeftWidth:ht,borderRadius:ht,radius:ht,borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomRightRadius:ht,borderBottomLeftRadius:ht,width:ht,maxWidth:ht,height:ht,maxHeight:ht,top:ht,right:ht,bottom:ht,left:ht,padding:ht,paddingTop:ht,paddingRight:ht,paddingBottom:ht,paddingLeft:ht,margin:ht,marginTop:ht,marginRight:ht,marginBottom:ht,marginLeft:ht,backgroundPositionX:ht,backgroundPositionY:ht,...KC,zIndex:bv,fillOpacity:qc,strokeOpacity:qc,numOctaves:bv},JC={...f0,color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:cm,WebkitFilter:cm},I_=t=>JC[t];function j_(t,e){let n=I_(t);return n!==cm&&(n=na),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const XC=new Set(["auto","none","0"]);function QC(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!XC.has(l)&&$c(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=j_(n,a)}class ZC extends u0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let h=e[p];if(typeof h=="string"&&(h=h.trim(),n0(h))){const g=N_(h,n.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!C_.has(s)||e.length!==2)return;const[a,l]=e,u=vv(a),d=vv(l);if(u!==d)if(mv(u)&&mv(d))for(let p=0;p<e.length;p++){const h=e[p];typeof h=="string"&&(e[p]=parseFloat(h))}else Ja[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||qC(e[a]))&&s.push(a);s.length&&QC(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ja[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Ja[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([p,h])=>{e.getValue(p).set(h)}),this.resolveNoneKeyframes()}}function eA(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const M_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function k_(t){return Ww(t)&&"offsetHeight"in t}const wv=30,tA=t=>!isNaN(parseFloat(t)),Oc={current:void 0};class nA{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=Si.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Si.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qm);const s=this.events[e].add(n);return e==="change"?()=>{s(),hn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Oc.current&&Oc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Si.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wv);return Jw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Za(t,e){return new nA(t,e)}const{schedule:h0}=o_(queueMicrotask,!1),cs={x:!1,y:!1};function D_(){return cs.x||cs.y}function iA(t){return t==="x"||t==="y"?cs[t]?null:(cs[t]=!0,()=>{cs[t]=!1}):cs.x||cs.y?null:(cs.x=cs.y=!0,()=>{cs.x=cs.y=!1})}function P_(t,e){const n=eA(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function _v(t){return!(t.pointerType==="touch"||D_())}function sA(t,e,n={}){const[s,a,l]=P_(t,n),u=d=>{if(!_v(d))return;const{target:p}=d,h=e(p,d);if(typeof h!="function"||!p)return;const g=b=>{_v(b)&&(h(b),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,a)};return s.forEach(d=>{d.addEventListener("pointerenter",u,a)}),l}const O_=(t,e)=>e?t===e?!0:O_(t,e.parentElement):!1,p0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,rA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aA(t){return rA.has(t.tagName)||t.tabIndex!==-1}const jd=new WeakSet;function Tv(t){return e=>{e.key==="Enter"&&t(e)}}function Ep(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const oA=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Tv(()=>{if(jd.has(n))return;Ep(n,"down");const a=Tv(()=>{Ep(n,"up")}),l=()=>Ep(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Ev(t){return p0(t)&&!D_()}function lA(t,e,n={}){const[s,a,l]=P_(t,n),u=d=>{const p=d.currentTarget;if(!Ev(d))return;jd.add(p);const h=e(p,d),g=(S,j)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",T),jd.has(p)&&jd.delete(p),Ev(S)&&typeof h=="function"&&h(S,{success:j})},b=S=>{g(S,p===window||p===document||n.useGlobalTarget||O_(p,S.target))},T=S=>{g(S,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",T,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,a),k_(d)&&(d.addEventListener("focus",h=>oA(h,a)),!aA(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function L_(t){return Ww(t)&&"ownerSVGElement"in t}function cA(t){return L_(t)&&t.tagName==="svg"}function uA(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],a=t[1+n],l=t[2+n],u=t[3+n],d=x_(a,l,u);return e?d(s):d}const ri=t=>!!(t&&t.getVelocity),dA=[...R_,Fn,na],fA=t=>dA.find(A_(t)),nf=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Sv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hA(...t){return e=>{let n=!1;const s=t.map(a=>{const l=Sv(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Sv(t[a],null)}}}}function pA(...t){return O.useCallback(hA(...t),t)}class mA extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=k_(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function gA({children:t,isPresent:e,anchorX:n,root:s}){const a=O.useId(),l=O.useRef(null),u=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=O.useContext(nf),p=pA(l,t==null?void 0:t.ref);return O.useInsertionEffect(()=>{const{width:h,height:g,top:b,left:T,right:S}=u.current;if(e||!l.current||!h||!g)return;const j=n==="left"?`left: ${T}`:`right: ${S}`;l.current.dataset.motionPopId=a;const N=document.createElement("style");d&&(N.nonce=d);const P=s??document.head;return P.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${g}px !important;
            ${j}px !important;
            top: ${b}px !important;
          }
        `),()=>{P.contains(N)&&P.removeChild(N)}},[e]),o.jsx(mA,{isPresent:e,childRef:l,sizeRef:u,children:O.cloneElement(t,{ref:p})})}const yA=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:d,root:p})=>{const h=Zc(xA),g=O.useId();let b=!0,T=O.useMemo(()=>(b=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:S=>{h.set(S,!0);for(const j of h.values())if(!j)return;s&&s()},register:S=>(h.set(S,!1),()=>h.delete(S))}),[n,h,s]);return l&&b&&(T={...T}),O.useMemo(()=>{h.forEach((S,j)=>h.set(j,!1))},[n]),O.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),u==="popLayout"&&(t=o.jsx(gA,{isPresent:n,anchorX:d,root:p,children:t})),o.jsx(tf.Provider,{value:T,children:t})};function xA(){return new Map}function U_(t=!0){const e=O.useContext(tf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const bd=t=>t.key||"";function Nv(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const Et=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:p})=>{const[h,g]=U_(u),b=O.useMemo(()=>Nv(t),[t]),T=u&&!h?[]:b.map(bd),S=O.useRef(!0),j=O.useRef(b),N=Zc(()=>new Map),[P,V]=O.useState(b),[D,k]=O.useState(b);Ym(()=>{S.current=!1,j.current=b;for(let K=0;K<D.length;K++){const te=bd(D[K]);T.includes(te)?N.delete(te):N.get(te)!==!0&&N.set(te,!1)}},[D,T.length,T.join("-")]);const G=[];if(b!==P){let K=[...b];for(let te=0;te<D.length;te++){const re=D[te],B=bd(re);T.includes(B)||(K.splice(te,0,re),G.push(re))}return l==="wait"&&G.length&&(K=G),k(Nv(K)),V(b),null}const{forceRender:J}=O.useContext(qm);return o.jsx(o.Fragment,{children:D.map(K=>{const te=bd(K),re=u&&!h?!1:b===D||T.includes(te),B=()=>{if(N.has(te))N.set(te,!0);else return;let oe=!0;N.forEach($=>{$||(oe=!1)}),oe&&(J==null||J(),k(j.current),u&&(g==null||g()),s&&s())};return o.jsx(yA,{isPresent:re,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:re?void 0:B,anchorX:d,children:K},te)})})},V_=O.createContext({strict:!1}),Cv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wl={};for(const t in Cv)wl[t]={isEnabled:e=>Cv[t].some(n=>!!e[n])};function vA(t){for(const e in t)wl[e]={...wl[e],...t[e]}}const bA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||bA.has(t)}let z_=t=>!Hd(t);function wA(t){typeof t=="function"&&(z_=e=>e.startsWith("on")?!Hd(e):t(e))}try{wA(require("@emotion/is-prop-valid").default)}catch{}function _A(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(z_(a)||n===!0&&Hd(a)||!e&&!Hd(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const sf=O.createContext({});function rf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yc(t){return typeof t=="string"||Array.isArray(t)}const m0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g0=["initial",...m0];function af(t){return rf(t.animate)||g0.some(e=>Yc(t[e]))}function F_(t){return!!(af(t)||t.variants)}function TA(t,e){if(af(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Yc(n)?n:void 0,animate:Yc(s)?s:void 0}}return t.inherit!==!1?e:{}}function EA(t){const{initial:e,animate:n}=TA(t,O.useContext(sf));return O.useMemo(()=>({initial:e,animate:n}),[Av(e),Av(n)])}function Av(t){return Array.isArray(t)?t.join(" "):t}const Wc={};function SA(t){for(const e in t)Wc[e]=t[e],t0(e)&&(Wc[e].isCSSVariable=!0)}function H_(t,{layout:e,layoutId:n}){return Sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Wc[t]||t==="opacity")}const NA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CA=El.length;function AA(t,e,n){let s="",a=!0;for(let l=0;l<CA;l++){const u=El[l],d=t[u];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(u.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const h=M_(d,f0[u]);if(!p){a=!1;const g=NA[u]||u;s+=`${g}(${h}) `}n&&(e[u]=h)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function y0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,d=!1;for(const p in e){const h=e[p];if(Sl.has(p)){u=!0;continue}else if(t0(p)){a[p]=h;continue}else{const g=M_(h,f0[p]);p.startsWith("origin")?(d=!0,l[p]=g):s[p]=g}}if(e.transform||(u||n?s.transform=AA(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:h="50%",originZ:g=0}=l;s.transformOrigin=`${p} ${h} ${g}`}}const x0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function B_(t,e,n){for(const s in e)!ri(e[s])&&!H_(s,n)&&(t[s]=e[s])}function RA({transformTemplate:t},e){return O.useMemo(()=>{const n=x0();return y0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function IA(t,e){const n=t.style||{},s={};return B_(s,n,t),Object.assign(s,RA(t,e)),s}function jA(t,e){const n={},s=IA(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const MA={offset:"stroke-dashoffset",array:"stroke-dasharray"},kA={offset:"strokeDashoffset",array:"strokeDasharray"};function DA(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?MA:kA;t[l.offset]=ht.transform(-s);const u=ht.transform(e),d=ht.transform(n);t[l.array]=`${u} ${d}`}function G_(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...d},p,h,g){if(y0(t,d,h),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:T}=t;b.transform&&(T.transform=b.transform,delete b.transform),(T.transform||b.transformOrigin)&&(T.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),T.transform&&(T.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&DA(b,a,l,u,!1)}const q_=()=>({...x0(),attrs:{}}),$_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PA(t,e,n,s){const a=O.useMemo(()=>{const l=q_();return G_(l,e,$_(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};B_(l,t.style,t),a.style={...l,...a.style}}return a}const OA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v0(t){return typeof t!="string"||t.includes("-")?!1:!!(OA.indexOf(t)>-1||/[A-Z]/u.test(t))}function LA(t,e,n,{latestValues:s},a,l=!1){const d=(v0(t)?PA:jA)(e,s,a,t),p=_A(e,typeof t=="string",l),h=t!==O.Fragment?{...p,...d,ref:n}:{},{children:g}=e,b=O.useMemo(()=>ri(g)?g.get():g,[g]);return O.createElement(t,{...h,children:b})}function Rv(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function b0(t,e,n,s){if(typeof e=="function"){const[a,l]=Rv(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Rv(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Md(t){return ri(t)?t.get():t}function UA({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:VA(n,s,a,t),renderState:e()}}function VA(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Md(l[T]);let{initial:u,animate:d}=t;const p=af(t),h=F_(t);e&&h&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const b=g?d:u;if(b&&typeof b!="boolean"&&!rf(b)){const T=Array.isArray(b)?b:[b];for(let S=0;S<T.length;S++){const j=b0(t,T[S]);if(j){const{transitionEnd:N,transition:P,...V}=j;for(const D in V){let k=V[D];if(Array.isArray(k)){const G=g?k.length-1:0;k=k[G]}k!==null&&(a[D]=k)}for(const D in N)a[D]=N[D]}}}return a}const Y_=t=>(e,n)=>{const s=O.useContext(sf),a=O.useContext(tf),l=()=>UA(t,e,s,a);return n?l():Zc(l)};function w0(t,e,n){var l;const{style:s}=t,a={};for(const u in s)(ri(s[u])||e.style&&ri(e.style[u])||H_(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=s[u]);return a}const zA=Y_({scrapeMotionValuesFromProps:w0,createRenderState:x0});function W_(t,e,n){const s=w0(t,e,n);for(const a in t)if(ri(t[a])||ri(e[a])){const l=El.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const FA=Y_({scrapeMotionValuesFromProps:W_,createRenderState:q_}),HA=Symbol.for("motionComponentSymbol");function ul(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BA(t,e,n){return O.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ul(n)&&(n.current=s))},[e])}const _0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),GA="framerAppearId",K_="data-"+_0(GA),J_=O.createContext({});function qA(t,e,n,s,a){var N,P;const{visualElement:l}=O.useContext(sf),u=O.useContext(V_),d=O.useContext(tf),p=O.useContext(nf).reducedMotion,h=O.useRef(null);s=s||u.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const g=h.current,b=O.useContext(J_);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&$A(h.current,n,a,b);const T=O.useRef(!1);O.useInsertionEffect(()=>{g&&T.current&&g.update(n,d)});const S=n[K_],j=O.useRef(!!S&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,S))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,S)));return Ym(()=>{g&&(T.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),j.current&&g.animationState&&g.animationState.animateChanges())}),O.useEffect(()=>{g&&(!j.current&&g.animationState&&g.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,S)}),j.current=!1),g.enteringChildren=void 0)}),g}function $A(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:d,layoutScroll:p,layoutRoot:h,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:X_(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||d&&ul(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:p,layoutRoot:h})}function X_(t){if(t)return t.options.allowProjection!==!1?t.projection:X_(t.parent)}function Sp(t,{forwardMotionProps:e=!1}={},n,s){n&&vA(n);const a=v0(t)?FA:zA;function l(d,p){let h;const g={...O.useContext(nf),...d,layoutId:YA(d)},{isStatic:b}=g,T=EA(d),S=a(d,b);if(!b&&$m){WA();const j=KA(g);h=j.MeasureLayout,T.visualElement=qA(t,S,g,s,j.ProjectionNode)}return o.jsxs(sf.Provider,{value:T,children:[h&&T.visualElement?o.jsx(h,{visualElement:T.visualElement,...g}):null,LA(t,d,BA(S,T.visualElement,p),S,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=O.forwardRef(l);return u[HA]=t,u}function YA({layoutId:t}){const e=O.useContext(qm).id;return e&&t!==void 0?e+"-"+t:t}function WA(t,e){O.useContext(V_).strict}function KA(t){const{drag:e,layout:n}=wl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function JA(t,e){if(typeof Proxy>"u")return Sp;const n=new Map,s=(l,u)=>Sp(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,Sp(u,void 0,t,e)),n.get(u))})}function Q_({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function XA({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function QA(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Np(t){return t===void 0||t===1}function um({scale:t,scaleX:e,scaleY:n}){return!Np(t)||!Np(e)||!Np(n)}function za(t){return um(t)||Z_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Z_(t){return Iv(t.x)||Iv(t.y)}function Iv(t){return t&&t!=="0%"}function Bd(t,e,n){const s=t-n,a=e*s;return n+a}function jv(t,e,n,s,a){return a!==void 0&&(t=Bd(t,a,s)),Bd(t,n,s)+e}function dm(t,e=0,n=1,s,a){t.min=jv(t.min,e,n,s,a),t.max=jv(t.max,e,n,s,a)}function e2(t,{x:e,y:n}){dm(t.x,e.translate,e.scale,e.originPoint),dm(t.y,n.translate,n.scale,n.originPoint)}const Mv=.999999999999,kv=1.0000000000001;function ZA(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let d=0;d<a;d++){l=n[d],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,e2(t,u)),s&&za(l.latestValues)&&fl(t,l.latestValues))}e.x<kv&&e.x>Mv&&(e.x=1),e.y<kv&&e.y>Mv&&(e.y=1)}function dl(t,e){t.min=t.min+e,t.max=t.max+e}function Dv(t,e,n,s,a=.5){const l=wn(t.min,t.max,a);dm(t,e,n,l,s)}function fl(t,e){Dv(t.x,e.x,e.scaleX,e.scale,e.originX),Dv(t.y,e.y,e.scaleY,e.scale,e.originY)}function t2(t,e){return Q_(QA(t.getBoundingClientRect(),e))}function eR(t,e,n){const s=t2(t,n),{scroll:a}=e;return a&&(dl(s.x,a.offset.x),dl(s.y,a.offset.y)),s}const Pv=()=>({translate:0,scale:1,origin:0,originPoint:0}),hl=()=>({x:Pv(),y:Pv()}),Ov=()=>({min:0,max:0}),Mn=()=>({x:Ov(),y:Ov()}),fm={current:null},n2={current:!1};function tR(){if(n2.current=!0,!!$m)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fm.current=t.matches;t.addEventListener("change",e),e()}else fm.current=!1}const nR=new WeakMap;function iR(t,e,n){for(const s in e){const a=e[s],l=n[s];if(ri(a))t.addValue(s,a);else if(ri(l))t.addValue(s,Za(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Za(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Lv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sR{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=u0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Si.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,hn.render(this.render,!1,!0))};const{latestValues:p,renderState:h}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=af(n),this.isVariantNode=F_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in b){const S=b[T];p[T]!==void 0&&ri(S)&&S.set(p[T])}}mount(e){var n;this.current=e,nR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),n2.current||tR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fm.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),mr(this.notifyUpdate),mr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Sl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&hn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wl){const n=wl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Lv.length;s++){const a=Lv[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=iR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Za(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Yw(s)||Kw(s))?s=parseFloat(s):!fA(s)&&na.test(n)&&(s=j_(e,n)),this.setBaseTarget(e,ri(s)?s.get():s)),ri(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=b0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(s=u[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!ri(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){h0.render(this.render)}}class i2 extends sR{constructor(){super(...arguments),this.KeyframeResolver=ZC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ri(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function s2(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a==null||a.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function rR(t){return window.getComputedStyle(t)}class aR extends i2{constructor(){super(...arguments),this.type="html",this.renderInstance=s2}readValueFromInstance(e,n){var s;if(Sl.has(n))return(s=this.projection)!=null&&s.isProjecting?im(n):xC(e,n);{const a=rR(e),l=(t0(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return t2(e,n)}build(e,n,s){y0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return w0(e,n,s)}}const r2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oR(t,e,n,s){s2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(r2.has(a)?a:_0(a),e.attrs[a])}class lR extends i2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sl.has(n)){const s=I_(n);return s&&s.default||0}return n=r2.has(n)?n:_0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return W_(e,n,s)}build(e,n,s){G_(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){oR(e,n,s,a)}mount(e){this.isSVGTag=$_(e.tagName),super.mount(e)}}const cR=(t,e)=>v0(t)?new lR(e):new aR(e,{allowProjection:t!==O.Fragment});function ml(t,e,n){const s=t.getProps();return b0(s,e,n!==void 0?n:s.custom,t)}const hm=t=>Array.isArray(t);function uR(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Za(n))}function dR(t){return hm(t)?t[t.length-1]||0:t}function fR(t,e){const n=ml(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const d=dR(l[u]);uR(t,u,d)}}function hR(t){return!!(ri(t)&&t.add)}function pm(t,e){const n=t.getValue("willChange");if(hR(n))return n.add(e);if(!n&&pr.WillChange){const s=new pr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function a2(t){return t.props[K_]}const pR=t=>t!==null;function mR(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(pR),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const gR={type:"spring",stiffness:500,damping:25,restSpeed:10},yR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xR={type:"keyframes",duration:.8},vR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bR=(t,{keyframes:e})=>e.length>2?xR:Sl.has(t)?t.startsWith("scale")?yR(e[1]):gR:vR;function wR({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:d,from:p,elapsed:h,...g}){return!!Object.keys(g).length}const T0=(t,e,n,s={},a,l)=>u=>{const d=d0(s,t)||{},p=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Ms(p);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};wR(d)||Object.assign(g,bR(t,g)),g.duration&&(g.duration=Ms(g.duration)),g.repeatDelay&&(g.repeatDelay=Ms(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(lm(g),g.delay===0&&(b=!0)),(pr.instantAnimations||pr.skipAnimations)&&(b=!0,lm(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,b&&!l&&e.get()!==void 0){const T=mR(g.keyframes,d);if(T!==void 0){hn.update(()=>{g.onUpdate(T),g.onComplete()});return}}return d.isSync?new c0(g):new FC(g)};function _R({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function o2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;s&&(l=s);const p=[],h=a&&t.animationState&&t.animationState.getState()[a];for(const g in d){const b=t.getValue(g,t.latestValues[g]??null),T=d[g];if(T===void 0||h&&_R(h,g))continue;const S={delay:n,...d0(l||{},g)},j=b.get();if(j!==void 0&&!b.isAnimating&&!Array.isArray(T)&&T===j&&!S.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const V=a2(t);if(V){const D=window.MotionHandoffAnimation(V,g,hn);D!==null&&(S.startTime=D,N=!0)}}pm(t,g),b.start(T0(g,b,T,t.shouldReduceMotion&&C_.has(g)?{type:!1}:S,t,N));const P=b.animation;P&&p.push(P)}return u&&Promise.all(p).then(()=>{hn.update(()=>{u&&fR(t,u)})}),p}function l2(t,e,n,s=0,a=1){const l=Array.from(t).sort((h,g)=>h.sortNodePosition(g)).indexOf(e),u=t.size,d=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:d-l*s}function mm(t,e,n={}){var p;const s=ml(t,e,n.type==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(o2(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:g=0,staggerChildren:b,staggerDirection:T}=a;return TR(t,e,h,g,b,T,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[h,g]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function TR(t,e,n=0,s=0,a=0,l=1,u){const d=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),d.push(mm(p,e,{...u,delay:n+(typeof s=="function"?0:s)+l2(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(d)}function ER(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>mm(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=mm(t,e,n);else{const a=typeof e=="function"?ml(t,e,n.custom):e;s=Promise.all(o2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function c2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const SR=g0.length;function u2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?u2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<SR;n++){const s=g0[n],a=t.props[s];(Yc(a)||a===!1)&&(e[s]=a)}return e}const NR=[...m0].reverse(),CR=m0.length;function AR(t){return e=>Promise.all(e.map(({animation:n,options:s})=>ER(t,n,s)))}function RR(t){let e=AR(t),n=Uv(),s=!0;const a=p=>(h,g)=>{var T;const b=ml(t,g,p==="exit"?(T=t.presenceContext)==null?void 0:T.custom:void 0);if(b){const{transition:S,transitionEnd:j,...N}=b;h={...h,...N,...j}}return h};function l(p){e=p(t)}function u(p){const{props:h}=t,g=u2(t.parent)||{},b=[],T=new Set;let S={},j=1/0;for(let P=0;P<CR;P++){const V=NR[P],D=n[V],k=h[V]!==void 0?h[V]:g[V],G=Yc(k),J=V===p?D.isActive:null;J===!1&&(j=P);let K=k===g[V]&&k!==h[V]&&G;if(K&&s&&t.manuallyAnimateOnMount&&(K=!1),D.protectedKeys={...S},!D.isActive&&J===null||!k&&!D.prevProp||rf(k)||typeof k=="boolean")continue;const te=IR(D.prevProp,k);let re=te||V===p&&D.isActive&&!K&&G||P>j&&G,B=!1;const oe=Array.isArray(k)?k:[k];let $=oe.reduce(a(V),{});J===!1&&($={});const{prevResolvedValues:ce={}}=D,ee={...ce,...$},W=Z=>{re=!0,T.has(Z)&&(B=!0,T.delete(Z)),D.needsAnimating[Z]=!0;const Q=t.getValue(Z);Q&&(Q.liveStyle=!1)};for(const Z in ee){const Q=$[Z],he=ce[Z];if(S.hasOwnProperty(Z))continue;let Ee=!1;hm(Q)&&hm(he)?Ee=!c2(Q,he):Ee=Q!==he,Ee?Q!=null?W(Z):T.add(Z):Q!==void 0&&T.has(Z)?W(Z):D.protectedKeys[Z]=!0}D.prevProp=k,D.prevResolvedValues=$,D.isActive&&(S={...S,...$}),s&&t.blockInitialAnimation&&(re=!1);const de=K&&te;re&&(!de||B)&&b.push(...oe.map(Z=>{const Q={type:V};if(typeof Z=="string"&&s&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:he}=t,Ee=ml(he,Z);if(he.enteringChildren&&Ee){const{delayChildren:F}=Ee.transition||{};Q.delay=l2(he.enteringChildren,t,F)}}return{animation:Z,options:Q}}))}if(T.size){const P={};if(typeof h.initial!="boolean"){const V=ml(t,Array.isArray(h.initial)?h.initial[0]:h.initial);V&&V.transition&&(P.transition=V.transition)}T.forEach(V=>{const D=t.getBaseTarget(V),k=t.getValue(V);k&&(k.liveStyle=!0),P[V]=D??null}),b.push({animation:P})}let N=!!b.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(b):Promise.resolve()}function d(p,h){var b;if(n[p].isActive===h)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(T=>{var S;return(S=T.animationState)==null?void 0:S.setActive(p,h)}),n[p].isActive=h;const g=u(p);for(const T in n)n[T].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Uv()}}}function IR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!c2(e,t):!1}function La(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Uv(){return{animate:La(!0),whileInView:La(),whileHover:La(),whileTap:La(),whileDrag:La(),whileFocus:La(),exit:La()}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jR extends aa{constructor(e){super(e),e.animationState||(e.animationState=RR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let MR=0;class kR extends aa{constructor(){super(...arguments),this.id=MR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const DR={animation:{Feature:jR},exit:{Feature:kR}};function Kc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function iu(t){return{point:{x:t.pageX,y:t.pageY}}}const PR=t=>e=>p0(e)&&t(e,iu(e));function Lc(t,e,n,s){return Kc(t,e,PR(n),s)}const d2=1e-4,OR=1-d2,LR=1+d2,f2=.01,UR=0-f2,VR=0+f2;function pi(t){return t.max-t.min}function zR(t,e,n){return Math.abs(t-e)<=n}function Vv(t,e,n,s=.5){t.origin=s,t.originPoint=wn(e.min,e.max,t.origin),t.scale=pi(n)/pi(e),t.translate=wn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OR&&t.scale<=LR||isNaN(t.scale))&&(t.scale=1),(t.translate>=UR&&t.translate<=VR||isNaN(t.translate))&&(t.translate=0)}function Uc(t,e,n,s){Vv(t.x,e.x,n.x,s?s.originX:void 0),Vv(t.y,e.y,n.y,s?s.originY:void 0)}function zv(t,e,n){t.min=n.min+e.min,t.max=t.min+pi(e)}function FR(t,e,n){zv(t.x,e.x,n.x),zv(t.y,e.y,n.y)}function Fv(t,e,n){t.min=e.min-n.min,t.max=t.min+pi(e)}function Vc(t,e,n){Fv(t.x,e.x,n.x),Fv(t.y,e.y,n.y)}function Ji(t){return[t("x"),t("y")]}const h2=({current:t})=>t?t.ownerDocument.defaultView:null,Hv=(t,e)=>Math.abs(t-e);function HR(t,e){const n=Hv(t.x,e.x),s=Hv(t.y,e.y);return Math.sqrt(n**2+s**2)}class p2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ap(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,j=HR(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!j)return;const{point:N}=T,{timestamp:P}=ti;this.history.push({...N,timestamp:P});const{onStart:V,onMove:D}=this.handlers;S||(V&&V(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Cp(S,this.transformPagePoint),hn.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:j,onSessionEnd:N,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Ap(T.type==="pointercancel"?this.lastMoveEventInfo:Cp(S,this.transformPagePoint),this.history);this.startEvent&&j&&j(T,V),N&&N(T,V)},!p0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const d=iu(e),p=Cp(d,this.transformPagePoint),{point:h}=p,{timestamp:g}=ti;this.history=[{...h,timestamp:g}];const{onSessionStart:b}=n;b&&b(e,Ap(p,this.history)),this.removeListeners=eu(Lc(this.contextWindow,"pointermove",this.handlePointerMove),Lc(this.contextWindow,"pointerup",this.handlePointerUp),Lc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mr(this.updatePoint)}}function Cp(t,e){return e?{point:e(t.point)}:t}function Bv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ap({point:t},e){return{point:t,delta:Bv(t,m2(e)),offset:Bv(t,BR(e)),velocity:GR(e,.1)}}function BR(t){return t[0]}function m2(t){return t[t.length-1]}function GR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=m2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ms(e)));)n--;if(!s)return{x:0,y:0};const l=Xi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function qR(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?wn(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?wn(n,t,s.max):Math.min(t,n)),t}function Gv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $R(t,{top:e,left:n,bottom:s,right:a}){return{x:Gv(t.x,n,a),y:Gv(t.y,e,s)}}function qv(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function YR(t,e){return{x:qv(t.x,e.x),y:qv(t.y,e.y)}}function WR(t,e){let n=.5;const s=pi(t),a=pi(e);return a>s?n=Gc(e.min,e.max-s,t.min):s>a&&(n=Gc(t.min,t.max-a,e.min)),hr(0,1,n)}function KR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gm=.35;function JR(t=gm){return t===!1?t=0:t===!0&&(t=gm),{x:$v(t,"left","right"),y:$v(t,"top","bottom")}}function $v(t,e,n){return{min:Yv(t,e),max:Yv(t,n)}}function Yv(t,e){return typeof t=="number"?t:t[e]||0}const XR=new WeakMap;class QR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(iu(b).point)},u=(b,T)=>{const{drag:S,dragPropagation:j,onDragStart:N}=this.getProps();if(S&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iA(S),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ji(V=>{let D=this.getAxisMotionValue(V).get()||0;if(ks.test(D)){const{projection:k}=this.visualElement;if(k&&k.layout){const G=k.layout.layoutBox[V];G&&(D=pi(G)*(parseFloat(D)/100))}}this.originPoint[V]=D}),N&&hn.postRender(()=>N(b,T)),pm(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},d=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T;const{dragPropagation:S,dragDirectionLock:j,onDirectionLock:N,onDrag:P}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:V}=T;if(j&&this.currentDirection===null){this.currentDirection=ZR(V),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",T.point,V),this.updateAxis("y",T.point,V),this.visualElement.render(),P&&P(b,T)},p=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T,this.stop(b,T),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ji(b=>{var T;return this.getAnimationState(b)==="paused"&&((T=this.getAxisMotionValue(b).animation)==null?void 0:T.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new p2(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:p,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:h2(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&hn.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!wd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=qR(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&ul(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=$R(s.layoutBox,e):this.constraints=!1,this.elastic=JR(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ji(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=KR(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ul(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=eR(s,a.root,this.visualElement.getTransformPagePoint());let u=YR(a.layout.layoutBox,l);if(n){const d=n(XA(u));this.hasMutatedConstraints=!!d,d&&(u=Q_(d))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},h=Ji(g=>{if(!wd(g,n,this.currentDirection))return;let b=p&&p[g]||{};u&&(b={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,j={type:"inertia",velocity:s?e[g]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,j)});return Promise.all(h).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return pm(this.visualElement,e),s.start(T0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ji(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ji(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ji(n=>{const{drag:s}=this.getProps();if(!wd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:d}=a.layout.layoutBox[n];l.set(e[n]-wn(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ul(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ji(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const p=d.get();a[u]=WR({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ji(u=>{if(!wd(u,e,null))return;const d=this.getAxisMotionValue(u),{min:p,max:h}=this.constraints[u];d.set(wn(p,h,a[u]))})}addListeners(){if(!this.visualElement.current)return;XR.set(this.visualElement,this);const e=this.visualElement.current,n=Lc(e,"pointerdown",p=>{const{drag:h,dragListener:g=!0}=this.getProps();h&&g&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();ul(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),hn.read(s);const u=Kc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ji(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=p[g].translate,b.set(b.get()+p[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=gm,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function wd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class e4 extends aa{constructor(e){super(e),this.removeGroupControls=Zi,this.removeListeners=Zi,this.controls=new QR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wv=t=>(e,n)=>{t&&hn.postRender(()=>t(e,n))};class t4 extends aa{constructor(){super(...arguments),this.removePointerDownListener=Zi}onPointerDown(e){this.session=new p2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:h2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Wv(e),onStart:Wv(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&hn.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Lc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ht.test(t))t=parseFloat(t);else return t;const n=Kv(t,e.target.x),s=Kv(t,e.target.y);return`${n}% ${s}%`}},n4={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=na.parse(t);if(a.length>5)return s;const l=na.createTransformer(t),u=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=d,a[1+u]/=p;const h=wn(d,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=h),typeof a[3+u]=="number"&&(a[3+u]/=h),l(a)}};let Rp=!1;class i4 extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;SA(s4),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Rp&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Rp=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||hn.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),h0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Rp=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function g2(t){const[e,n]=U_(),s=O.useContext(qm);return o.jsx(i4,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(J_),isPresent:e,safeToRemove:n})}const s4={borderRadius:{...Cc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cc,borderTopRightRadius:Cc,borderBottomLeftRadius:Cc,borderBottomRightRadius:Cc,boxShadow:n4};function r4(t,e,n){const s=ri(t)?t:Za(t);return s.start(T0("",s,e,n)),s.animation}const a4=(t,e)=>t.depth-e.depth;class o4{constructor(){this.children=[],this.isDirty=!1}add(e){Wm(this.children,e),this.isDirty=!0}remove(e){Km(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(a4),this.isDirty=!1,this.children.forEach(e)}}function l4(t,e){const n=Si.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(mr(s),t(l-e))};return hn.setup(s,!0),()=>mr(s)}const y2=["TopLeft","TopRight","BottomLeft","BottomRight"],c4=y2.length,Jv=t=>typeof t=="string"?parseFloat(t):t,Xv=t=>typeof t=="number"||ht.test(t);function u4(t,e,n,s,a,l){a?(t.opacity=wn(0,n.opacity??1,d4(s)),t.opacityExit=wn(e.opacity??1,0,f4(s))):l&&(t.opacity=wn(e.opacity??1,n.opacity??1,s));for(let u=0;u<c4;u++){const d=`border${y2[u]}Radius`;let p=Qv(e,d),h=Qv(n,d);if(p===void 0&&h===void 0)continue;p||(p=0),h||(h=0),p===0||h===0||Xv(p)===Xv(h)?(t[d]=Math.max(wn(Jv(p),Jv(h),s),0),(ks.test(h)||ks.test(p))&&(t[d]+="%")):t[d]=h}(e.rotate||n.rotate)&&(t.rotate=wn(e.rotate||0,n.rotate||0,s))}function Qv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const d4=x2(0,.5,i_),f4=x2(.5,.95,Zi);function x2(t,e,n){return s=>s<t?0:s>e?1:n(Gc(t,e,s))}function Zv(t,e){t.min=e.min,t.max=e.max}function Ki(t,e){Zv(t.x,e.x),Zv(t.y,e.y)}function e1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function t1(t,e,n,s,a){return t-=e,t=Bd(t,1/n,s),a!==void 0&&(t=Bd(t,1/a,s)),t}function h4(t,e=0,n=1,s=.5,a,l=t,u=t){if(ks.test(e)&&(e=parseFloat(e),e=wn(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=wn(l.min,l.max,s);t===l&&(d-=e),t.min=t1(t.min,e,n,d,a),t.max=t1(t.max,e,n,d,a)}function n1(t,e,[n,s,a],l,u){h4(t,e[n],e[s],e[a],e.scale,l,u)}const p4=["x","scaleX","originX"],m4=["y","scaleY","originY"];function i1(t,e,n,s){n1(t.x,e,p4,n?n.x:void 0,s?s.x:void 0),n1(t.y,e,m4,n?n.y:void 0,s?s.y:void 0)}function s1(t){return t.translate===0&&t.scale===1}function v2(t){return s1(t.x)&&s1(t.y)}function r1(t,e){return t.min===e.min&&t.max===e.max}function g4(t,e){return r1(t.x,e.x)&&r1(t.y,e.y)}function a1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function b2(t,e){return a1(t.x,e.x)&&a1(t.y,e.y)}function o1(t){return pi(t.x)/pi(t.y)}function l1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class y4{constructor(){this.members=[]}add(e){Wm(this.members,e),e.scheduleRender()}remove(e){if(Km(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x4(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:g,rotateX:b,rotateY:T,skewX:S,skewY:j}=n;h&&(s=`perspective(${h}px) ${s}`),g&&(s+=`rotate(${g}deg) `),b&&(s+=`rotateX(${b}deg) `),T&&(s+=`rotateY(${T}deg) `),S&&(s+=`skewX(${S}deg) `),j&&(s+=`skewY(${j}deg) `)}const d=t.x.scale*e.x,p=t.y.scale*e.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const Ip=["","X","Y","Z"],v4=1e3;let b4=0;function jp(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function w2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=a2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",hn,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&w2(s)}function _2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},d=e==null?void 0:e()){this.id=b4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(T4),this.nodes.forEach(C4),this.nodes.forEach(A4),this.nodes.forEach(E4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new o4)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Qm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const p=this.eventHandlers.get(u);p&&p.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=L_(u)&&!cA(u),this.instance=u;const{layoutId:d,layout:p,visualElement:h}=this.options;if(h&&!h.current&&h.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),t){let g,b=0;const T=()=>this.root.updateBlockedByResize=!1;hn.read(()=>{b=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==b&&(b=S,this.root.updateBlockedByResize=!0,g&&g(),g=l4(T,250),kd.hasAnimatedSinceResize&&(kd.hasAnimatedSinceResize=!1,this.nodes.forEach(d1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||h.getDefaultTransition()||k4,{onLayoutAnimationStart:N,onLayoutAnimationComplete:P}=h.getProps(),V=!this.targetLayout||!b2(this.targetLayout,S),D=!b&&T;if(this.options.layoutRoot||this.resumeFrom||D||b&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...d0(j,"layout"),onPlay:N,onComplete:P};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(g,D)}else b||d1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(R4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&w2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(u1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N4),this.nodes.forEach(w4),this.nodes.forEach(_4)):this.nodes.forEach(u1),this.clearAllSnapshots();const d=Si.now();ti.delta=hr(0,1e3/60,d-ti.timestamp),ti.timestamp=d,ti.isProcessing=!0,vp.update.process(ti),vp.preRender.process(ti),vp.render.process(ti),ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,h0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(S4),this.sharedNodes.forEach(I4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pi(this.snapshot.measuredBox.x)&&!pi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!v2(this.projectionDelta),p=this.getTransformTemplate(),h=p?p(this.latestValues,""):void 0,g=h!==this.prevTransformTemplateValue;u&&this.instance&&(d||za(this.latestValues)||g)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return u&&(p=this.removeTransform(p)),D4(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:u}=this.options;if(!u)return Mn();const d=u.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(P4))){const{scroll:g}=this.root;g&&(dl(d.x,g.offset.x),dl(d.y,g.offset.y))}return d}removeElementScroll(u){var p;const d=Mn();if(Ki(d,u),(p=this.scroll)!=null&&p.wasRoot)return d;for(let h=0;h<this.path.length;h++){const g=this.path[h],{scroll:b,options:T}=g;g!==this.root&&b&&T.layoutScroll&&(b.wasRoot&&Ki(d,u),dl(d.x,b.offset.x),dl(d.y,b.offset.y))}return d}applyTransform(u,d=!1){const p=Mn();Ki(p,u);for(let h=0;h<this.path.length;h++){const g=this.path[h];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&fl(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),za(g.latestValues)&&fl(p,g.latestValues)}return za(this.latestValues)&&fl(p,this.latestValues),p}removeTransform(u){const d=Mn();Ki(d,u);for(let p=0;p<this.path.length;p++){const h=this.path[p];if(!h.instance||!za(h.latestValues))continue;um(h.latestValues)&&h.updateSnapshot();const g=Mn(),b=h.measurePageBox();Ki(g,b),i1(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,g)}return za(this.latestValues)&&i1(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var T;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!(!this.layout||!(g||b))){if(this.resolvedRelativeTargetAt=ti.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),Vc(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mn(),this.targetWithTransforms=Mn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ki(this.target,this.layout.layoutBox),e2(this.target,this.targetDelta)):Ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mn(),this.relativeTargetOrigin=Mn(),Vc(this.relativeTargetOrigin,this.target,S.target),Ki(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||um(this.parent.latestValues)||Z_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===ti.timestamp&&(p=!1),p)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;Ki(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,T=this.treeScale.y;ZA(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Mn());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e1(this.prevProjectionDelta.x,this.projectionDelta.x),e1(this.prevProjectionDelta.y,this.projectionDelta.y)),Uc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==T||!l1(this.projectionDelta.x,this.prevProjectionDelta.x)||!l1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hl(),this.projectionDelta=hl(),this.projectionDeltaWithTransform=hl()}setAnimationOrigin(u,d=!1){const p=this.snapshot,h=p?p.latestValues:{},g={...this.latestValues},b=hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Mn(),S=p?p.source:void 0,j=this.layout?this.layout.source:void 0,N=S!==j,P=this.getStack(),V=!P||P.members.length<=1,D=!!(N&&!V&&this.options.crossfade===!0&&!this.path.some(M4));this.animationProgress=0;let k;this.mixTargetDelta=G=>{const J=G/1e3;f1(b.x,u.x,J),f1(b.y,u.y,J),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j4(this.relativeTarget,this.relativeTargetOrigin,T,J),k&&g4(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Mn()),Ki(k,this.relativeTarget)),N&&(this.animationValues=g,u4(g,h,this.latestValues,J,D,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,p,h;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(h=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||h.stop(),this.pendingAnimation&&(mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hn.update(()=>{kd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Za(0)),this.currentAnimation=r4(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:p,layout:h,latestValues:g}=u;if(!(!d||!p||!h)){if(this!==u&&this.layout&&h&&T2(this.options.animationType,this.layout.layoutBox,h.layoutBox)){p=this.target||Mn();const b=pi(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+b;const T=pi(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+T}Ki(d,p),fl(d,g),Uc(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new y4),this.sharedNodes.get(u).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:p}={}){const h=this.getStack();h&&h.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const h={};p.z&&jp("z",u,h,this.animationValues);for(let g=0;g<Ip.length;g++)jp(`rotate${Ip[g]}`,u,h,this.animationValues),jp(`skew${Ip[g]}`,u,h,this.animationValues);u.render();for(const g in h)u.setStaticValue(g,h[g]),this.animationValues&&(this.animationValues[g]=h[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Md(d==null?void 0:d.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Md(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=h.animationValues||h.latestValues;this.applyTransformsToTarget();let b=x4(this.projectionDeltaWithTransform,this.treeScale,g);p&&(b=p(g,b)),u.transform=b;const{x:T,y:S}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,h.animationValues?u.opacity=h===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const j in Wc){if(g[j]===void 0)continue;const{correct:N,applyTo:P,isCSSVariable:V}=Wc[j],D=b==="none"?g[j]:N(g[j],h);if(P){const k=P.length;for(let G=0;G<k;G++)u[P[G]]=D}else V?this.options.visualElement.renderState.vars[j]=D:u[j]=D}this.options.layoutId&&(u.pointerEvents=h===this?Md(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(c1),this.root.sharedNodes.clear()}}}function w4(t){t.updateLayout()}function _4(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?Ji(b=>{const T=u?e.measuredBox[b]:e.layoutBox[b],S=pi(T);T.min=s[b].min,T.max=T.min+S}):T2(l,e.layoutBox,s)&&Ji(b=>{const T=u?e.measuredBox[b]:e.layoutBox[b],S=pi(s[b]);T.max=T.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+S)});const d=hl();Uc(d,s,e.layoutBox);const p=hl();u?Uc(p,t.applyTransform(a,!0),e.measuredBox):Uc(p,s,e.layoutBox);const h=!v2(d);let g=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:T,layout:S}=b;if(T&&S){const j=Mn();Vc(j,e.layoutBox,T.layoutBox);const N=Mn();Vc(N,s,S.layoutBox),b2(j,N)||(g=!0),b.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=j,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:p,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function T4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function E4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function S4(t){t.clearSnapshot()}function c1(t){t.clearMeasurements()}function u1(t){t.isLayoutDirty=!1}function N4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function d1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function C4(t){t.resolveTargetDelta()}function A4(t){t.calcProjection()}function R4(t){t.resetSkewAndRotation()}function I4(t){t.removeLeadSnapshot()}function f1(t,e,n){t.translate=wn(e.translate,0,n),t.scale=wn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function h1(t,e,n,s){t.min=wn(e.min,n.min,s),t.max=wn(e.max,n.max,s)}function j4(t,e,n,s){h1(t.x,e.x,n.x,s),h1(t.y,e.y,n.y,s)}function M4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const k4={duration:.45,ease:[.4,0,.1,1]},p1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),m1=p1("applewebkit/")&&!p1("chrome/")?Math.round:Zi;function g1(t){t.min=m1(t.min),t.max=m1(t.max)}function D4(t){g1(t.x),g1(t.y)}function T2(t,e,n){return t==="position"||t==="preserve-aspect"&&!zR(o1(e),o1(n),.2)}function P4(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const O4=_2({attachResizeListener:(t,e)=>Kc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mp={current:void 0},E2=_2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Mp.current){const t=new O4({});t.mount(window),t.setOptions({layoutScroll:!0}),Mp.current=t}return Mp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),L4={pan:{Feature:t4},drag:{Feature:e4,ProjectionNode:E2,MeasureLayout:g2}};function y1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&hn.postRender(()=>l(e,iu(e)))}class U4 extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=sA(e,(n,s)=>(y1(this.node,s,"Start"),a=>y1(this.node,a,"End"))))}unmount(){}}class V4 extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eu(Kc(this.node.current,"focus",()=>this.onFocus()),Kc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function x1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&hn.postRender(()=>l(e,iu(e)))}class z4 extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=lA(e,(n,s)=>(x1(this.node,s,"Start"),(a,{success:l})=>x1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ym=new WeakMap,kp=new WeakMap,F4=t=>{const e=ym.get(t.target);e&&e(t)},H4=t=>{t.forEach(F4)};function B4({root:t,...e}){const n=t||document;kp.has(n)||kp.set(n,{});const s=kp.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(H4,{root:t,...e})),s[a]}function G4(t,e,n){const s=B4(e);return ym.set(t,n),s.observe(t),()=>{ym.delete(t),s.unobserve(t)}}const q4={some:0,all:1};class $4 extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:q4[a]},d=p=>{const{isIntersecting:h}=p;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),T=h?g:b;T&&T(p)};return G4(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Y4(e,n))&&this.startObserver()}unmount(){}}function Y4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const W4={inView:{Feature:$4},tap:{Feature:z4},focus:{Feature:V4},hover:{Feature:U4}},K4={layout:{ProjectionNode:E2,MeasureLayout:g2}},J4={...DR,...W4,...L4,...K4},H=JA(J4,cR);function S2(t){const e=Zc(()=>Za(t)),{isStatic:n}=O.useContext(nf);if(n){const[,s]=O.useState(t);O.useEffect(()=>e.on("change",s),[])}return e}function N2(t,e){const n=S2(e()),s=()=>n.set(e());return s(),Ym(()=>{const a=()=>hn.preRender(s,!1,!0),l=t.map(u=>u.on("change",a));return()=>{l.forEach(u=>u()),mr(s)}}),n}function X4(t){Oc.current=[],t();const e=N2(Oc.current,t);return Oc.current=void 0,e}function Q4(t,e,n,s){if(typeof t=="function")return X4(t);const a=typeof e=="function"?e:uA(e,n,s);return Array.isArray(t)?v1(t,a):v1([t],([l])=>a(l))}function v1(t,e){const n=Zc(()=>[]);return N2(t,()=>{n.length=0;const s=t.length;for(let a=0;a<s;a++)n[a]=t[a].get();return e(n)})}const Ac=[{id:"great",icon:Hm,label:"",color:"from-yellow-400 to-orange-400",emoji:""},{id:"good",icon:q5,label:"",color:"from-green-400 to-emerald-400",emoji:""},{id:"okay",icon:Hw,label:"",color:"from-blue-400 to-cyan-400",emoji:""},{id:"bad",icon:VS,label:" ",color:"from-slate-400 to-slate-500",emoji:""}],Z4=({isOpen:t,onClose:e})=>{var J,K,te;const[n,s]=O.useState([]),[a,l]=O.useState("list"),[u,d]=O.useState(null),[p,h]=O.useState(null),[g,b]=O.useState(["","",""]),[T,S]=O.useState([""]);O.useEffect(()=>{const re=localStorage.getItem("gratitude_journal");re&&s(JSON.parse(re))},[t]);const j=re=>{s(re),localStorage.setItem("gratitude_journal",JSON.stringify(re))},N=new Date().toISOString().split("T")[0],P=n.find(re=>re.date===N),V=()=>{if(!p)return;const re=g.filter(ce=>ce.trim()),B=T.filter(ce=>ce.trim());if(re.length===0)return;const oe={id:Date.now().toString(),date:N,mood:p,gratitude:re,wins:B},$=n.filter(ce=>ce.date!==N);j([oe,...$]),h(null),b(["","",""]),S([""]),l("list")},D=re=>{j(n.filter(B=>B.id!==re)),d(null),l("list")},k=re=>{const B=new Date(re),oe={day:"numeric",month:"short"};return B.toLocaleDateString("ru-RU",oe)},G=()=>{let re=0;const B=[...n].sort((oe,$)=>new Date($.date).getTime()-new Date(oe.date).getTime());for(let oe=0;oe<B.length;oe++){const $=new Date(B[oe].date),ce=new Date;if(ce.setDate(ce.getDate()-oe),$.toISOString().split("T")[0]===ce.toISOString().split("T")[0])re++;else break}return re};return t?o.jsxs(H.div,{className:"fixed inset-0 z-[90] flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),o.jsxs(H.div,{className:"relative w-full max-w-lg h-[85vh] rounded-t-[2rem] overflow-hidden",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},style:{background:"linear-gradient(180deg, #1e293b 0%, #0f172a 100%)"},children:[o.jsxs("div",{className:"sticky top-0 z-10 px-5 pt-4 pb-3 flex items-center justify-between",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(20px)",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[a!=="list"&&o.jsx("button",{onClick:()=>{l("list"),d(null)},className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-white/70 hover:bg-white/20",children:o.jsx(AS,{size:18})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-white font-bold text-lg",children:a==="new"?" ":a==="view"?k((u==null?void 0:u.date)||""):""}),o.jsx("p",{className:"text-white/50 text-xs",children:"  !  "})]})]}),o.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-white/70 hover:bg-white/20",children:o.jsx(mi,{size:18})})]}),o.jsx("div",{className:"h-full overflow-y-auto pb-32 px-5",children:o.jsxs(Et,{mode:"wait",children:[a==="list"&&o.jsxs(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"pt-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[o.jsxs("div",{className:"p-4 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(234,179,8,0.15) 0%, rgba(234,179,8,0.05) 100%)",border:"1px solid rgba(234,179,8,0.2)"},children:[o.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:G()}),o.jsx("div",{className:"text-white/50 text-xs",children:"  "})]}),o.jsxs("div",{className:"p-4 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(168,85,247,0.15) 0%, rgba(168,85,247,0.05) 100%)",border:"1px solid rgba(168,85,247,0.2)"},children:[o.jsx("div",{className:"text-3xl font-bold text-purple-400",children:n.length}),o.jsx("div",{className:"text-white/50 text-xs",children:" "})]})]}),P?o.jsx("div",{className:"p-4 rounded-2xl mb-6 border border-green-500/30 bg-green-500/10",children:o.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm font-medium",children:[o.jsx(Wa,{size:16}),"  !  "]})}):o.jsxs("button",{onClick:()=>l("new"),className:"w-full p-5 rounded-2xl mb-6 flex items-center gap-4 transition-all active:scale-[0.98]",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.2) 0%, rgba(139,92,246,0.1) 100%)",border:"1px solid rgba(99,102,241,0.3)"},children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:o.jsx(Jp,{size:24,className:"text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-bold",children:" "}),o.jsx("div",{className:"text-indigo-300 text-sm",children:"   ?"})]}),o.jsx(Hn,{className:"ml-auto text-indigo-400",size:20})]}),o.jsx("h3",{className:"text-white/50 text-xs uppercase tracking-wider mb-3",children:""}),o.jsx("div",{className:"space-y-3",children:n.length===0?o.jsxs("div",{className:"text-center py-8 text-white/30",children:[o.jsx(Ni,{size:40,className:"mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"  "}),o.jsx("p",{className:"text-sm",children:"  !"})]}):n.map(re=>{const B=Ac.find(oe=>oe.id===re.mood);return o.jsxs("button",{onClick:()=>{d(re),l("view")},className:"w-full p-4 rounded-2xl flex items-center gap-4 transition-all hover:bg-white/5 active:scale-[0.98] text-left",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${B==null?void 0:B.color} flex items-center justify-center text-xl`,children:B==null?void 0:B.emoji}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-white font-medium",children:k(re.date)}),o.jsxs("div",{className:"text-white/50 text-sm truncate",children:[re.gratitude[0],"..."]})]}),o.jsx(js,{size:18,className:"text-white/30"})]},re.id)})})]},"list"),a==="new"&&o.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"pt-4 space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium mb-3",children:"   ?"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:Ac.map(re=>o.jsxs("button",{onClick:()=>h(re.id),className:`p-3 rounded-xl flex flex-col items-center gap-2 transition-all ${p===re.id?"ring-2 ring-white/50 scale-105":""}`,style:{background:p===re.id?"linear-gradient(135deg, var(--tw-gradient-stops))":"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:[o.jsx("span",{className:"text-2xl",children:re.emoji}),o.jsx("span",{className:"text-white/70 text-xs",children:re.label})]},re.id))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium mb-1",children:"    ?"}),o.jsx("p",{className:"text-white/50 text-sm mb-3",children:" 3 ,   "}),o.jsx("div",{className:"space-y-2",children:g.map((re,B)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-indigo-400 font-bold",children:[B+1,"."]}),o.jsx("input",{type:"text",value:re,onChange:oe=>{const $=[...g];$[B]=oe.target.value,b($)},placeholder:":  ",className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-white/30 focus:outline-none focus:border-indigo-500/50"})]},B))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-medium mb-1",children:"    ? "}),o.jsx("p",{className:"text-white/50 text-sm mb-3",children:" :   "}),o.jsxs("div",{className:"space-y-2",children:[T.map((re,B)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qi,{size:16,className:"text-yellow-400"}),o.jsx("input",{type:"text",value:re,onChange:oe=>{const $=[...T];$[B]=oe.target.value,S($)},placeholder:" ,  ...",className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder:text-white/30 focus:outline-none focus:border-yellow-500/50"})]},B)),o.jsxs("button",{onClick:()=>S([...T,""]),className:"text-indigo-400 text-sm flex items-center gap-1 hover:text-indigo-300",children:[o.jsx(Jp,{size:14}),"  "]})]})]}),o.jsxs("button",{onClick:V,disabled:!p||g.filter(re=>re.trim()).length===0,className:"w-full py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98]",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.9) 0%, rgba(139,92,246,0.9) 100%)",boxShadow:"0 4px 20px rgba(99,102,241,0.3)"},children:[o.jsx(qw,{size:18})," "]})]},"new"),a==="view"&&u&&o.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"pt-4 space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`w-20 h-20 mx-auto rounded-2xl bg-gradient-to-br ${(J=Ac.find(re=>re.id===u.mood))==null?void 0:J.color} flex items-center justify-center text-4xl mb-3`,children:(K=Ac.find(re=>re.id===u.mood))==null?void 0:K.emoji}),o.jsx("div",{className:"text-white/50 text-sm",children:(te=Ac.find(re=>re.id===u.mood))==null?void 0:te.label})]}),o.jsxs("div",{className:"p-4 rounded-2xl",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:[o.jsxs("h3",{className:"text-white/50 text-xs uppercase tracking-wider mb-3 flex items-center gap-2",children:[o.jsx(Ni,{size:14,className:"text-pink-400"}),""]}),o.jsx("ul",{className:"space-y-2",children:u.gratitude.map((re,B)=>o.jsxs("li",{className:"text-white flex items-start gap-2",children:[o.jsxs("span",{className:"text-indigo-400",children:[B+1,"."]}),re]},B))})]}),u.wins.length>0&&o.jsxs("div",{className:"p-4 rounded-2xl",style:{background:"rgba(234,179,8,0.1)",border:"1px solid rgba(234,179,8,0.2)"},children:[o.jsxs("h3",{className:"text-white/50 text-xs uppercase tracking-wider mb-3 flex items-center gap-2",children:[o.jsx(Qi,{size:14,className:"text-yellow-400"})," "]}),o.jsx("ul",{className:"space-y-2",children:u.wins.map((re,B)=>o.jsxs("li",{className:"text-white flex items-start gap-2",children:[o.jsx(Qi,{size:14,className:"text-yellow-400 mt-1 flex-shrink-0"}),re]},B))})]}),o.jsxs("button",{onClick:()=>D(u.id),className:"w-full py-3 rounded-xl text-red-400 text-sm flex items-center justify-center gap-2 hover:bg-red-500/10 transition-colors",children:[o.jsx(tN,{size:16})," "]})]},"view")]})})]})]}):null},eI=[{id:"aurora",name:" ",icon:Gw,color:"from-purple-500 to-cyan-500"},{id:"particles",name:"",icon:Hn,color:"from-yellow-500 to-orange-500"},{id:"waves",name:"",icon:uN,color:"from-blue-500 to-teal-500"},{id:"mandala",name:"",icon:Hm,color:"from-pink-500 to-purple-500"}],tI=()=>o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950 via-indigo-950 to-slate-950"}),[...Array(50)].map((t,e)=>o.jsx(H.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*60}%`},animate:{opacity:[.2,1,.2]},transition:{duration:2+Math.random()*3,repeat:1/0,delay:Math.random()*2}},e)),[...Array(5)].map((t,e)=>o.jsx(H.div,{className:"absolute w-full h-64",style:{top:"20%",background:`linear-gradient(180deg, 
              transparent 0%, 
              ${["rgba(34,197,94,0.3)","rgba(59,130,246,0.3)","rgba(168,85,247,0.3)","rgba(236,72,153,0.3)","rgba(6,182,212,0.3)"][e]} 50%, 
              transparent 100%)`,filter:"blur(40px)"},animate:{x:["-20%","20%","-20%"],scaleY:[1,1.3,1],opacity:[.4,.7,.4]},transition:{duration:8+e*2,repeat:1/0,ease:"easeInOut",delay:e*.5}},e))]}),nI=()=>o.jsxs("div",{className:"absolute inset-0 overflow-hidden bg-gradient-to-b from-slate-950 via-emerald-950 to-slate-950",children:[[...Array(30)].map((t,e)=>o.jsx(H.div,{className:"absolute rounded-full",style:{width:4+Math.random()*8,height:4+Math.random()*8,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,background:`radial-gradient(circle, ${["rgba(250,204,21,0.9)","rgba(34,197,94,0.9)","rgba(56,189,248,0.9)"][Math.floor(Math.random()*3)]} 0%, transparent 70%)`,filter:"blur(1px)"},animate:{x:[0,Math.random()*100-50,Math.random()*100-50,0],y:[0,Math.random()*100-50,Math.random()*100-50,0],opacity:[0,1,1,0],scale:[.5,1,1,.5]},transition:{duration:5+Math.random()*10,repeat:1/0,ease:"easeInOut",delay:Math.random()*5}},e)),[...Array(5)].map((t,e)=>o.jsx(H.div,{className:"absolute w-40 h-40 rounded-full",style:{left:`${20+e*15}%`,top:`${30+Math.random()*40}%`,background:"radial-gradient(circle, rgba(250,204,21,0.15) 0%, transparent 70%)",filter:"blur(30px)"},animate:{opacity:[.3,.6,.3],scale:[1,1.2,1]},transition:{duration:4+e,repeat:1/0,ease:"easeInOut"}},`glow-${e}`))]}),iI=()=>o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-900 via-blue-900 to-slate-950"}),o.jsx(H.div,{className:"absolute w-32 h-32 rounded-full",style:{top:"15%",left:"50%",transform:"translateX(-50%)",background:"radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,200,150,0.6) 50%, transparent 70%)",filter:"blur(2px)"},animate:{y:[0,-10,0],opacity:[.8,1,.8]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),[...Array(6)].map((t,e)=>o.jsx(H.div,{className:"absolute w-[200%] h-32",style:{bottom:`${e*12}%`,left:"-50%",background:`linear-gradient(90deg, 
              transparent 0%, 
              rgba(${59+e*10},${130+e*10},${246-e*10},${.3-e*.03}) 25%, 
              rgba(${59+e*10},${130+e*10},${246-e*10},${.5-e*.05}) 50%, 
              rgba(${59+e*10},${130+e*10},${246-e*10},${.3-e*.03}) 75%, 
              transparent 100%)`,borderRadius:"50%"},animate:{x:["0%","25%","0%"]},transition:{duration:6+e*2,repeat:1/0,ease:"easeInOut",delay:e*.3}},e)),[...Array(20)].map((t,e)=>o.jsx(H.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:`${Math.random()*100}%`,bottom:`${Math.random()*50}%`},animate:{opacity:[0,1,0],scale:[.5,1.5,.5]},transition:{duration:1+Math.random()*2,repeat:1/0,delay:Math.random()*3}},`sparkle-${e}`))]}),sI=()=>o.jsxs("div",{className:"absolute inset-0 overflow-hidden flex items-center justify-center bg-gradient-to-b from-purple-950 via-slate-950 to-purple-950",children:[[...Array(6)].map((t,e)=>o.jsx(H.div,{className:"absolute rounded-full border",style:{width:100+e*60,height:100+e*60,borderColor:`rgba(${168+e*10},${85+e*10},247,${.3-e*.03})`,borderWidth:2},animate:{rotate:e%2===0?[0,360]:[360,0],scale:[1,1.05,1]},transition:{rotate:{duration:20+e*5,repeat:1/0,ease:"linear"},scale:{duration:3+e,repeat:1/0,ease:"easeInOut"}}},e)),[...Array(12)].map((t,e)=>o.jsx(H.div,{className:"absolute w-4 h-20 rounded-full origin-bottom",style:{background:"linear-gradient(to top, rgba(236,72,153,0.6), rgba(168,85,247,0.3))",transform:`rotate(${e*30}deg)`,filter:"blur(2px)"},animate:{scaleY:[1,1.2,1],opacity:[.4,.7,.4]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:e*.1}},`petal-${e}`)),o.jsx(H.div,{className:"absolute w-20 h-20 rounded-full",style:{background:"radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(168,85,247,0.5) 50%, transparent 70%)",filter:"blur(5px)"},animate:{scale:[1,1.3,1],opacity:[.6,1,.6]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),[...Array(15)].map((t,e)=>o.jsx(H.div,{className:"absolute w-2 h-2 rounded-full bg-pink-400",style:{left:`${30+Math.random()*40}%`,top:`${30+Math.random()*40}%`},animate:{x:[0,Math.random()*50-25],y:[0,Math.random()*50-25],opacity:[0,.8,0],scale:[.5,1,.5]},transition:{duration:3+Math.random()*2,repeat:1/0,delay:Math.random()*2}},`particle-${e}`))]}),rI=({isOpen:t,onClose:e})=>{const[n,s]=O.useState("aurora"),[a,l]=O.useState(!0),[u,d]=O.useState(!0);if(O.useEffect(()=>{if(t&&u){const h=setTimeout(()=>d(!1),3e3);return()=>clearTimeout(h)}},[t,u]),!t)return null;const p=()=>{switch(n){case"aurora":return o.jsx(tI,{});case"particles":return o.jsx(nI,{});case"waves":return o.jsx(iI,{});case"mandala":return o.jsx(sI,{})}};return o.jsxs(H.div,{className:"fixed inset-0 z-[90]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!u),children:[o.jsx(Et,{mode:"wait",children:o.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"absolute inset-0",children:[a&&p(),!a&&o.jsx("div",{className:"absolute inset-0 bg-slate-950 flex items-center justify-center",children:o.jsxs("div",{className:"text-white/30 text-center",children:[o.jsx(Ud,{size:60,className:"mx-auto mb-4"}),o.jsx("p",{children:""})]})})]},n)}),o.jsx(Et,{children:u&&o.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/30",onClick:h=>h.stopPropagation(),children:[o.jsx("button",{onClick:e,className:"absolute top-6 right-6 w-12 h-12 rounded-full flex items-center justify-center text-white/70 hover:text-white transition-colors z-10",style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.15)"},children:o.jsx(mi,{size:24})}),o.jsxs("div",{className:"absolute top-6 left-6",children:[o.jsx("h2",{className:"text-white font-bold text-xl",children:""}),o.jsx("p",{className:"text-white/50 text-sm",children:"  "})]}),o.jsx("button",{onClick:()=>l(!a),className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-20 h-20 rounded-full flex items-center justify-center text-white transition-all hover:scale-110",style:{background:"rgba(255,255,255,0.15)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.2)"},children:a?o.jsx(Ud,{size:32}):o.jsx(hs,{size:32,className:"ml-1"})}),o.jsx("div",{className:"absolute bottom-8 left-0 right-0 px-6",children:o.jsx("div",{className:"flex gap-3 justify-center",children:eI.map(h=>{const g=h.icon,b=n===h.id;return o.jsxs("button",{onClick:()=>s(h.id),className:`px-4 py-3 rounded-2xl flex items-center gap-2 transition-all ${b?"text-white scale-105":"text-white/60 hover:text-white"}`,style:{background:b?"linear-gradient(135deg, var(--tw-gradient-stops))":"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:b?"none":"1px solid rgba(255,255,255,0.1)"},children:[o.jsx(g,{size:18}),o.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:h.name})]},h.id)})})})]})})]})};var Pw;const Rc=(Pw=window.Telegram)==null?void 0:Pw.WebApp,aI=()=>{var t;if(console.log("TG Service: Checking for user..."),(t=Rc==null?void 0:Rc.initDataUnsafe)!=null&&t.user)return console.log("TG Service: Found User (Native):",Rc.initDataUnsafe.user),Rc.initDataUnsafe.user;try{const e=new URLSearchParams(window.location.search),n=e.get("user"),s=e.get("tgWebAppData");if(n){const a=JSON.parse(n);return console.log("TG Service: Found User (URL Param):",a),a}s&&console.log("TG Service: tgWebAppData present but not parsed by WebApp?")}catch(e){console.error("TG Service: Error parsing URL params",e)}return console.log("TG Service: No user found. Running in Guest Mode?"),null},oI=()=>{var t;if(typeof window<"u"&&((t=window.Telegram)!=null&&t.WebApp)){console.log("TG Service: Initializing WebApp"),window.Telegram.WebApp.ready(),window.Telegram.WebApp.expand();try{window.Telegram.WebApp.enableClosingConfirmation()}catch{}}},Di=()=>{var t,e,n;try{(n=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.HapticFeedback)==null||n.impactOccurred("light")}catch{}},E0=()=>{var t,e,n;try{(n=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.HapticFeedback)==null||n.impactOccurred("medium")}catch{}},ia=()=>{var t,e,n;try{(n=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.HapticFeedback)==null||n.notificationOccurred("success")}catch{}},C2=()=>{var t,e,n;try{(n=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.HapticFeedback)==null||n.notificationOccurred("error")}catch{}},A2=()=>{var t,e,n;try{(n=(e=(t=window.Telegram)==null?void 0:t.WebApp)==null?void 0:e.HapticFeedback)==null||n.selectionChanged()}catch{}},b1={RAIN:"https://images.unsplash.com/photo-1515694346937-94d85e41e6f0?w=400&h=500&fit=crop",FOREST:"https://images.unsplash.com/photo-1448375240586-882707db888b?w=400&h=500&fit=crop",OCEAN:"https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=400&h=500&fit=crop",FIRE:"https://images.unsplash.com/photo-1475552113915-6fcb52652ba2?w=400&h=500&fit=crop",WIND:"https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?w=400&h=500&fit=crop",CAFE:"https://images.unsplash.com/photo-1445116572660-236099ec97a0?w=400&h=500&fit=crop",THUNDER:"https://images.unsplash.com/photo-1605727216801-e27ce1d0cc28?w=400&h=500&fit=crop",NIGHT:"https://images.unsplash.com/photo-1475274047050-1d0c0975c63e?w=400&h=500&fit=crop"},w1={m1:"https://images.unsplash.com/photo-1531353826977-0941b4779a1c?w=400&h=400&fit=crop",m2:"https://images.unsplash.com/photo-1489599849927-2ee91cede3ba?w=400&h=400&fit=crop",m3:"https://images.unsplash.com/photo-1507400492013-162706c8c05e?w=400&h=400&fit=crop",m4:"https://images.unsplash.com/photo-1534447677768-be436bb09401?w=400&h=400&fit=crop",m5:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=400&h=400&fit=crop",m6:"https://images.unsplash.com/photo-1470252649378-9c29740c9fa8?w=400&h=400&fit=crop",m7:"https://images.unsplash.com/photo-1508672019048-805c876b67e2?w=400&h=400&fit=crop",m8:"https://images.unsplash.com/photo-1499209974431-9dddcece7f88?w=400&h=400&fit=crop",m9:"https://images.unsplash.com/photo-1518241353330-0f7941c2d9b5?w=400&h=400&fit=crop",m10:"https://images.unsplash.com/photo-1501854140801-50d01698950b?w=400&h=400&fit=crop",m11:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop",m12:"https://images.unsplash.com/photo-1528722828814-77b9b83aafb2?w=400&h=400&fit=crop",m13:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400&h=400&fit=crop",m14:"https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=400&h=400&fit=crop",m15:"https://images.unsplash.com/photo-1476611338391-6f395a0ebc7b?w=400&h=400&fit=crop",m16:"https://images.unsplash.com/photo-1502082553048-f009c37129b9?w=400&h=400&fit=crop"},lI=()=>{const[t,e]=O.useState(null),[n,s]=O.useState(!1),[a,l]=O.useState(!1),[u,d]=O.useState(null),[p,h]=O.useState(!1),[g,b]=O.useState(!1),[T,S]=O.useState(0),[j,N]=O.useState(null),[P,V]=O.useState(!1),[D,k]=O.useState(0);O.useEffect(()=>{if(!P)return;const B=setInterval(()=>{k(oe=>{const $=oe+1;if($%60===0){const ce=new Date().toDateString(),W=localStorage.getItem("meditation_last_date")===ce?parseInt(localStorage.getItem("meditation_minutes_today")||"0",10):0;localStorage.setItem("meditation_minutes_today",String(W+1)),localStorage.setItem("meditation_last_date",ce)}return $})},1e3);return()=>clearInterval(B)},[P]),O.useEffect(()=>{j||k(0)},[j]);const G=tv.find(B=>B.id===t);O.useMemo(()=>{const B=new Date,oe=Math.floor((B.getTime()-new Date(B.getFullYear(),0,0).getTime())/(1e3*60*60*24));return nv[oe%nv.length]},[]),O.useEffect(()=>{const B=setInterval(()=>{S(oe=>(oe+1)%yd.length)},8e3);return()=>clearInterval(B)},[]);const J=u?ev.filter(B=>B.category===u):ev,K=[{id:"SLEEP",name:"",icon:Gw,color:"from-indigo-500 to-purple-600"},{id:"FOCUS",name:"",icon:ni,color:"from-amber-500 to-orange-500"},{id:"ANXIETY",name:"",icon:u5,color:"from-emerald-500 to-teal-500"},{id:"ENERGY",name:"",icon:Hm,color:"from-rose-500 to-pink-500"}],te=B=>{Di(),t===B?s(!n):(e(B),s(!0))},re=()=>{const[B,oe]=O.useState("inhale"),[$,ce]=O.useState(4),[ee,W]=O.useState(0),[de,Y]=O.useState(0);O.useEffect(()=>{const Q=setInterval(()=>{Y(he=>he+1),ce(he=>{if(he===1){if(B==="inhale")return oe("hold"),7;if(B==="hold")return oe("exhale"),8;if(B==="exhale")return W(Ee=>Ee+1),oe("inhale"),4}return he-1})},1e3);return()=>clearInterval(Q)},[B]);const Z=()=>{const Q=Math.floor(de/60);if(Q>0){const he=new Date().toDateString(),F=localStorage.getItem("meditation_last_date")===he?parseInt(localStorage.getItem("meditation_minutes_today")||"0",10):0;localStorage.setItem("meditation_minutes_today",String(F+Q)),localStorage.setItem("meditation_last_date",he)}l(!1)};return o.jsxs(H.div,{className:"fixed inset-0 z-[80] flex flex-col items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-950 via-slate-950 to-slate-950"}),o.jsx(H.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 rounded-full blur-[120px]",animate:{background:B==="inhale"?"rgba(99,102,241,0.3)":B==="hold"?"rgba(168,85,247,0.3)":"rgba(20,184,166,0.3)",scale:B==="inhale"?1.3:B==="hold"?1.2:.9},transition:{duration:4,ease:"easeInOut"}}),o.jsx("button",{onClick:Z,className:"absolute top-6 right-6 z-10 w-12 h-12 rounded-full flex items-center justify-center text-white/60 hover:text-white transition-colors",style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.15)"},children:o.jsx(mi,{size:24})}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsxs(H.div,{className:"text-center mb-12",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:[o.jsx("h2",{className:"text-5xl font-light text-white tracking-tight mb-2",children:"4-7-8"}),o.jsx("p",{className:"text-white/40 text-sm uppercase tracking-[0.3em]",children:" "})]}),o.jsxs("div",{className:"relative flex items-center justify-center mb-12",children:[o.jsx(H.div,{className:"absolute w-72 h-72 rounded-full border border-white/10",animate:{scale:B==="inhale"?1.2:1},transition:{duration:4,ease:"easeInOut"}}),o.jsx(H.div,{className:"w-56 h-56 rounded-full flex items-center justify-center",animate:{scale:B==="inhale"?1.15:B==="hold"?1.1:.85},transition:{duration:4,ease:"easeInOut"},style:{background:"rgba(255,255,255,0.08)",backdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"},children:o.jsxs("div",{className:"text-center",children:[o.jsx(H.div,{className:"text-7xl font-light text-white mb-1",initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},children:$},$),o.jsx("div",{className:"text-sm font-medium uppercase tracking-widest text-white/50",children:B==="inhale"?"":B==="hold"?"":""})]})})]}),o.jsxs("div",{className:"text-white/30 text-sm",children:[": ",ee]})]})]})};return o.jsxs("div",{className:"min-h-screen pb-40 relative overflow-hidden bg-gradient-to-b from-[#1e3a5f] via-[#0f172a] to-[#020617]",children:[o.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-96 bg-gradient-to-b from-blue-600/20 to-transparent"}),o.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 w-[800px] h-[400px] bg-blue-500/10 rounded-full blur-[120px]"})]}),o.jsx(Et,{children:a&&o.jsx(re,{})}),o.jsx(Z4,{isOpen:p,onClose:()=>h(!1)}),o.jsx(rI,{isOpen:g,onClose:()=>b(!1)}),o.jsxs("div",{className:"px-5 pt-4 pb-4 relative z-10",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-semibold text-white",children:"-"}),o.jsx("p",{className:"text-white/50 text-sm mt-1",children:"  "})]}),o.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 rounded-full text-sm font-medium text-white/80 hover:text-white transition-all",style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.15)"},children:[o.jsx(fN,{size:16,className:"inline mr-2"}),""]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[o.jsxs("button",{onClick:()=>h(!0),className:"p-4 rounded-2xl flex items-center gap-3 transition-all active:scale-[0.98]",style:{background:"linear-gradient(135deg, rgba(236,72,153,0.2) 0%, rgba(236,72,153,0.05) 100%)",border:"1px solid rgba(236,72,153,0.25)"},children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-pink-500 to-rose-500 flex items-center justify-center",children:o.jsx(zw,{size:18,className:"text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-medium text-sm",children:""}),o.jsx("div",{className:"text-white/50 text-xs",children:" !"})]})]}),o.jsxs("button",{onClick:()=>b(!0),className:"p-4 rounded-2xl flex items-center gap-3 transition-all active:scale-[0.98]",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.2) 0%, rgba(99,102,241,0.05) 100%)",border:"1px solid rgba(99,102,241,0.25)"},children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center",children:o.jsx(YS,{size:18,className:"text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-medium text-sm",children:""}),o.jsx("div",{className:"text-white/50 text-xs",children:""})]})]})]}),o.jsxs(H.div,{className:"relative overflow-hidden rounded-2xl p-5 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"linear-gradient(135deg, rgba(168,85,247,0.15) 0%, rgba(236,72,153,0.1) 100%)",backdropFilter:"blur(40px)",border:"1px solid rgba(168,85,247,0.2)"},children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0",children:o.jsx(v5,{size:18,className:"text-white"})}),o.jsx("div",{className:"flex-1",children:o.jsx(Et,{mode:"wait",children:o.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[o.jsxs("p",{className:"text-white text-sm font-medium leading-relaxed mb-2",children:['"',yd[T].text,'"']}),o.jsxs("p",{className:"text-purple-300 text-xs",children:[" ",yd[T].author]})]},T)})})]}),o.jsx("div",{className:"flex justify-center gap-1 mt-3",children:yd.slice(0,8).map((B,oe)=>o.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${oe===T%8?"bg-purple-400 w-4":"bg-white/20"}`},oe))})]})]}),o.jsxs("div",{className:"px-5 mb-8 relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-white font-semibold text-lg",children:"   "}),t&&o.jsx("button",{onClick:()=>{e(null),s(!1)},className:"text-white/50 text-sm hover:text-white transition-colors",children:""})]}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:tv.map(B=>{const oe=t===B.id&&n;return o.jsxs(H.button,{onClick:()=>te(B.id),whileTap:{scale:.95},className:"relative rounded-xl overflow-hidden aspect-square group",children:[o.jsx("img",{src:b1[B.iconType],alt:B.title,className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),oe&&o.jsx("div",{className:"absolute inset-0 bg-blue-500/30 flex items-center justify-center",children:o.jsxs("div",{className:"flex gap-0.5 items-end h-3",children:[o.jsx("div",{className:"w-0.5 h-2 bg-white rounded-full animate-[bounce_0.8s_infinite]"}),o.jsx("div",{className:"w-0.5 h-3 bg-white rounded-full animate-[bounce_1s_infinite]"}),o.jsx("div",{className:"w-0.5 h-1.5 bg-white rounded-full animate-[bounce_0.6s_infinite]"})]})}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-1.5",children:o.jsx("h3",{className:"text-white font-medium text-[10px] text-center truncate",children:B.title})})]},B.id)})})]}),o.jsxs("div",{className:"px-5 mb-6 relative z-10",children:[o.jsx("h2",{className:"text-white font-semibold text-lg mb-4",children:" "}),o.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[o.jsx("button",{onClick:()=>d(null),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${u===null?"bg-white text-black":"text-white/70"}`,style:u===null?{}:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:""}),K.map(B=>{const oe=B.icon,$=u===B.id;return o.jsxs("button",{onClick:()=>d(B.id),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all flex items-center gap-2 ${$?"text-white":"text-white/70"}`,style:$?{background:"linear-gradient(135deg, var(--tw-gradient-stops))"}:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:[o.jsx(oe,{size:14}),B.name]},B.id)})]})]}),o.jsx("div",{className:"px-5 relative z-10 pb-8",children:o.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.jsx(Et,{mode:"popLayout",children:J.map((B,oe)=>o.jsxs(H.button,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},className:"relative overflow-hidden rounded-xl group text-left aspect-[3/4]",onClick:()=>{N(B),V(!0),Di()},children:[o.jsx("img",{src:w1[B.id],alt:B.title,className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),o.jsx("div",{className:"absolute top-2 left-2",children:o.jsx("div",{className:"w-6 h-6 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:o.jsx(hs,{size:10,fill:"white",className:"text-white ml-0.5"})})}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:[o.jsx("h3",{className:"text-white font-medium text-[11px] leading-tight truncate",children:B.title}),o.jsx("p",{className:"text-white/50 text-[9px]",children:B.duration})]})]},B.id))})})}),o.jsx(Et,{children:t&&o.jsxs(H.div,{className:"fixed bottom-24 left-4 right-4 z-50",initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:300},children:[o.jsxs("div",{className:"rounded-2xl p-3 flex items-center gap-3",style:{background:"rgba(15,23,42,0.9)",backdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 60px rgba(0,0,0,0.5)"},children:[o.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden flex-shrink-0",children:o.jsx("img",{src:b1[(G==null?void 0:G.iconType)||"FOREST"],alt:"",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"text-white font-medium text-sm truncate",children:G==null?void 0:G.title}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n&&o.jsxs("div",{className:"flex gap-0.5 items-end h-2.5",children:[o.jsx("div",{className:"w-0.5 h-1.5 bg-green-400 rounded-full animate-[bounce_0.8s_infinite]"}),o.jsx("div",{className:"w-0.5 h-2.5 bg-green-400 rounded-full animate-[bounce_1.2s_infinite]"}),o.jsx("div",{className:"w-0.5 h-1 bg-green-400 rounded-full animate-[bounce_0.6s_infinite]"})]}),o.jsx("span",{className:"text-white/40 text-xs",children:n?"":""})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>s(!n),className:"w-10 h-10 rounded-full bg-white flex items-center justify-center hover:scale-105 active:scale-95 transition-transform",children:n?o.jsx(Ud,{size:18,className:"text-black",fill:"black"}):o.jsx(hs,{size:18,className:"text-black ml-0.5",fill:"black"})}),o.jsx("button",{onClick:()=>{e(null),s(!1)},className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center text-white/50 hover:bg-white/20 hover:text-white transition-all",children:o.jsx(mi,{size:14})})]})]}),G&&n&&o.jsx("div",{className:"absolute w-1 h-1 opacity-0 pointer-events-none overflow-hidden",children:o.jsx("iframe",{width:"1",height:"1",src:`https://www.youtube-nocookie.com/embed/${G.youtubeId}?autoplay=1&controls=0&loop=1&playlist=${G.youtubeId}&playsinline=1&modestbranding=1&rel=0`,title:"Audio Player",allow:"autoplay; encrypted-media"},G.id+n)})]})}),o.jsx(Et,{children:j&&o.jsxs(H.div,{className:"fixed inset-0 z-[90] flex flex-col",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:w1[j.id],alt:j.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/70 to-black/30"})]}),o.jsx("button",{onClick:()=>{N(null),V(!1)},className:"absolute top-6 right-6 z-[100] w-12 h-12 rounded-full flex items-center justify-center text-white/60 hover:text-white transition-colors",style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.15)"},children:o.jsx(mi,{size:24})}),o.jsx("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center px-8",children:o.jsxs(H.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:j.title}),o.jsx("p",{className:"text-white/60 mb-8",children:j.duration}),o.jsx(H.button,{onClick:()=>V(!P),className:"w-24 h-24 rounded-full flex items-center justify-center mx-auto",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.1) 100%)",backdropFilter:"blur(20px)",border:"2px solid rgba(255,255,255,0.3)",boxShadow:"0 8px 32px rgba(0,0,0,0.3)"},whileHover:{scale:1.05},whileTap:{scale:.95},children:P?o.jsx(Ud,{size:40,className:"text-white",fill:"white"}):o.jsx(hs,{size:40,className:"text-white ml-2",fill:"white"})}),o.jsx("p",{className:"text-white/40 text-sm mt-6",children:P?"  ...":"  "})]})}),P&&j.youtubeId&&o.jsx("div",{className:"absolute w-1 h-1 opacity-0 pointer-events-none overflow-hidden",children:o.jsx("iframe",{width:"1",height:"1",src:`https://www.youtube-nocookie.com/embed/${j.youtubeId}?autoplay=1&controls=0&playsinline=1&modestbranding=1&rel=0`,title:"Meditation Audio",allow:"autoplay; encrypted-media"},j.id+P)})]})})]})},cI=({config:t,onComplete:e})=>{const[n,s]=O.useState(0),[a,l]=O.useState(t.durationSeconds||30),[u,d]=O.useState([]),[p,h]=O.useState("START"),[g,b]=O.useState(0),[T,S]=O.useState(!1),j=O.useRef(0),N=Math.min(t.targetScore||15,10);O.useEffect(()=>{if(p!=="PLAYING")return;if(a<=0){n>=Math.floor(N*.6)?(h("WON"),setTimeout(()=>e(Math.max(n*10,50)),1500)):h("LOST");return}const J=setInterval(()=>l(K=>K-1),1e3);return()=>clearInterval(J)},[p,a,n,N,e]),O.useEffect(()=>{if(p!=="PLAYING")return;const J=setInterval(()=>{d(K=>{if(K.length>=4)return K;const te=Math.random()>.2,re={id:j.current++,x:Math.random()*70+15,y:Math.random()*60+20,type:te?"DISTRACTION":"FOCUS",iconIdx:Math.floor(Math.random()*3),lifetime:4e3};return[...K,re]})},1200);return()=>clearInterval(J)},[p]),O.useEffect(()=>{if(p!=="PLAYING")return;const J=setInterval(()=>{d(K=>K.filter(te=>Date.now()-te.id<4e3))},500);return()=>clearInterval(J)},[p]);const P=(J,K,te)=>{if(J.preventDefault(),J.stopPropagation(),te==="DISTRACTION"){const re=Math.min(g,3);s(B=>B+1+re),b(B=>B+1),S(!0),setTimeout(()=>S(!1),500)}else s(re=>Math.max(0,re-1)),b(0);d(re=>re.filter(B=>B.id!==K))},V=()=>{h("PLAYING"),s(0),b(0),l(t.durationSeconds||30),d([]),j.current=Date.now()},D=(J,K)=>{if(J==="DISTRACTION"){const te=[o.jsx(rv,{size:28,className:"text-white drop-shadow-md"},"p"),o.jsx(gS,{size:28,className:"text-white drop-shadow-md"},"b"),o.jsx(Ld,{size:28,className:"text-white drop-shadow-md"},"g")];return te[K%te.length]}else{const te=[o.jsx(fs,{size:28,className:"text-white drop-shadow-md"},"br"),o.jsx(Zd,{size:28,className:"text-white drop-shadow-md"},"bo"),o.jsx(ni,{size:28,className:"text-white drop-shadow-md"},"z")];return te[K%te.length]}};if(p==="START")return o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 space-y-6 animate-in zoom-in duration-500 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/20 blur-[80px] rounded-full pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-rose-500/20 blur-[80px] rounded-full pointer-events-none"}),o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-rose-500 to-orange-500 rounded-[2rem] flex items-center justify-center text-white border border-white/20 shadow-[0_20px_50px_rgba(244,63,94,0.4)] relative z-10 animate-pulse",children:o.jsx(Ui,{size:40,className:"drop-shadow-lg"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("h3",{className:"text-2xl font-black text-white uppercase tracking-tight leading-none mb-2",children:["  ",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-rose-400 to-orange-400",children:""})]}),o.jsxs("p",{className:"text-slate-400 text-sm font-medium max-w-[260px] mx-auto leading-relaxed",children:["   !",o.jsx("br",{})," ."]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full relative z-10 max-w-xs",children:[o.jsxs("div",{className:"bg-rose-500/20 backdrop-blur-md p-4 rounded-2xl border border-rose-500/30 flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-rose-500 to-red-600 shadow-lg shadow-rose-500/40 flex items-center justify-center",children:o.jsx(rv,{size:24,className:"text-white"})}),o.jsx("div",{className:"text-xs font-black text-rose-300 uppercase",children:" !"})]}),o.jsxs("div",{className:"bg-emerald-500/10 backdrop-blur-md p-4 rounded-2xl border border-emerald-500/20 flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-600 to-teal-700 shadow-lg shadow-emerald-500/20 flex items-center justify-center opacity-60",children:o.jsx(fs,{size:24,className:"text-white"})}),o.jsx("div",{className:"text-xs font-black text-emerald-400/60 uppercase",children:"  "})]})]}),o.jsx("div",{className:"bg-yellow-500/20 border border-yellow-500/30 rounded-xl px-4 py-2 relative z-10",children:o.jsxs("p",{className:"text-yellow-300 text-xs font-bold",children:[" : ",N," "]})}),o.jsx("button",{onClick:V,className:"w-full max-w-xs py-4 bg-gradient-to-r from-rose-500 to-orange-500 hover:from-rose-400 hover:to-orange-400 text-white font-black rounded-2xl uppercase tracking-wider shadow-[0_0_30px_rgba(244,63,94,0.4)] transition-all active:scale-95 relative z-10",children:o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx(hs,{size:18,fill:"currentColor"})," !"]})})]});if(p==="LOST")return o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 space-y-6 animate-in zoom-in duration-300 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-orange-500/10 blur-[100px] pointer-events-none"}),o.jsx("div",{className:"text-6xl mb-2",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:" !"}),o.jsxs("p",{className:"text-slate-400 font-medium",children:[": ",o.jsx("span",{className:"text-orange-400 font-bold",children:n})," / ",N]}),o.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[" ",Math.ceil(N*.6),"  "]})]}),o.jsxs("button",{onClick:V,className:"px-8 py-4 bg-gradient-to-r from-orange-500 to-rose-500 hover:from-orange-400 hover:to-rose-400 text-white font-black rounded-xl flex items-center gap-2 transition-all shadow-lg",children:[o.jsx(zm,{size:18}),"  !"]})]});if(p==="WON")return o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 space-y-6 animate-in zoom-in duration-500 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-[100px] pointer-events-none"}),o.jsx("div",{className:"text-7xl animate-bounce",children:""}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-3xl font-black text-white mb-2",children:"!"}),o.jsx("div",{className:"inline-block bg-emerald-500/20 px-4 py-2 rounded-full border border-emerald-500/30",children:o.jsx("p",{className:"text-emerald-300 text-sm font-bold",children:"  !"})})]}),o.jsx("div",{className:"bg-white/10 rounded-2xl px-8 py-4 border border-white/10",children:o.jsxs("div",{className:"text-4xl font-black text-emerald-400 font-mono",children:["+",Math.max(n*10,50)," ",o.jsx("span",{className:"text-lg text-slate-400",children:"XP"})]})}),o.jsx("div",{className:"text-sm text-slate-400 font-medium animate-pulse",children:" ..."})]});const k=a/(t.durationSeconds||30)*100,G=Math.min(100,n/N*100);return o.jsxs("div",{className:"h-full flex flex-col relative overflow-hidden bg-[#050B14] rounded-[2.5rem] select-none shadow-2xl border border-white/5 ring-1 ring-white/5 touch-none",children:[o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:30px_30px]"}),T&&g>1&&o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 pointer-events-none animate-in zoom-in-50 fade-in duration-200",children:o.jsxs("div",{className:"text-4xl font-black text-yellow-400 drop-shadow-[0_0_20px_rgba(250,204,21,0.8)]",children:[" x",g]})}),o.jsxs("div",{className:"flex justify-between items-start p-4 z-30 pointer-events-none",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("div",{className:"bg-white/10 backdrop-blur-xl px-4 py-2 rounded-2xl flex items-center gap-2 text-white font-black font-mono text-xl border border-white/10 shadow-lg",children:[o.jsx(Ui,{size:18,className:"text-rose-400"}),o.jsx("span",{className:n>=N?"text-emerald-400":"text-white",children:n}),o.jsxs("span",{className:"text-sm text-slate-500",children:["/ ",N]})]}),o.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden mx-1",children:o.jsx("div",{className:`h-full transition-all duration-300 ${n>=N?"bg-emerald-500":"bg-rose-500"}`,style:{width:`${G}%`}})})]}),o.jsxs("div",{className:`bg-white/10 backdrop-blur-xl px-4 py-2 rounded-2xl flex items-center gap-2 font-black font-mono text-xl border shadow-lg transition-all ${a<=5?"text-red-400 border-red-500/50 animate-pulse scale-110":"text-white border-white/10"}`,children:[o.jsx(ra,{size:18}),a,"s"]})]}),o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1.5 bg-white/10 z-40",children:o.jsx("div",{className:`h-full transition-all duration-1000 ease-linear shadow-[0_0_10px_rgba(99,102,241,0.8)] ${a<=5?"bg-red-500":"bg-gradient-to-r from-indigo-500 to-rose-500"}`,style:{width:`${k}%`}})}),o.jsxs("div",{className:"flex-1 relative cursor-pointer overflow-hidden z-20",children:[u.map(J=>o.jsx("button",{onMouseDown:K=>P(K,J.id,J.type),onTouchStart:K=>P(K,J.id,J.type),className:`absolute flex items-center justify-center transition-all duration-75 active:scale-75 animate-in zoom-in duration-300 ease-out
                ${J.type==="DISTRACTION"?"z-20 w-20 h-20":"z-10 w-16 h-16"}
              `,style:{top:`${J.y}%`,left:`${J.x}%`,transform:"translate(-50%, -50%)"},children:J.type==="DISTRACTION"?o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx("div",{className:"absolute inset-0 bg-rose-500/40 blur-xl rounded-full animate-pulse"}),o.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-rose-500 to-red-600 rounded-2xl border-2 border-white/30 shadow-[0_0_30px_rgba(244,63,94,0.6)] flex items-center justify-center overflow-hidden hover:scale-110 transition-transform",children:D("DISTRACTION",J.iconIdx)})]}):o.jsx("div",{className:"relative w-full h-full opacity-70",children:o.jsx("div",{className:"relative w-full h-full bg-gradient-to-br from-emerald-700 to-teal-900 rounded-full border border-white/10 shadow-lg flex items-center justify-center",children:D("FOCUS",J.iconIdx)})})},J.id)),u.length===0&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("p",{className:"text-slate-500 text-sm animate-pulse",children:"  ..."})})]}),o.jsx("div",{className:"p-3 text-center z-30",children:o.jsxs("p",{className:"text-xs text-slate-500",children:["   ",o.jsx("span",{className:"text-rose-400 font-bold",children:""})," !"]})})]})},uI=({config:t,onComplete:e})=>{const[n,s]=O.useState([]),[a,l]=O.useState([]),[u,d]=O.useState(0),[p,h]=O.useState(0),[g,b]=O.useState(!1),T=t.targetScore||4,S=()=>{const V=[];for(let k=0;k<T;k++)V.push(k),V.push(k);const D=V.sort(()=>Math.random()-.5).map((k,G)=>({id:G,val:k,flipped:!1,matched:!1}));s(D),b(!0),d(0),h(0)},j=V=>{if(a.length>=2||n[V].flipped||n[V].matched)return;const D=[...n];D[V].flipped=!0,s(D);const k=[...a,V];if(l(k),k.length===2){h(K=>K+1);const[G,J]=k;n[G].val===n[J].val?setTimeout(()=>{const K=[...n];K[G].matched=!0,K[J].matched=!0,s(K),l([]),d(te=>{const re=te+1;return re===T&&setTimeout(()=>e(100),800),re})},400):setTimeout(()=>{const K=[...n];K[G].flipped=!1,K[J].flipped=!1,s(K),l([])},1e3)}};if(!g)return o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-6 space-y-8 animate-in zoom-in duration-500 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-emerald-500/10 blur-[80px] rounded-full"}),o.jsxs("div",{className:"w-32 h-32 bg-white/5 backdrop-blur-xl rounded-[2.5rem] flex items-center justify-center text-emerald-400 border border-white/10 shadow-[0_20px_50px_rgba(16,185,129,0.3)] relative z-10 group",children:[o.jsx("div",{className:"absolute inset-0 border border-emerald-500/30 rounded-[2.5rem] animate-[pulse_3s_infinite]"}),o.jsx(fs,{size:56,className:"group-hover:rotate-12 transition-transform duration-500"})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("h3",{className:"text-3xl font-black text-white uppercase tracking-tight leading-none mb-3",children:["",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-400",children:""})]}),o.jsx("p",{className:"text-slate-400 mt-2 font-medium max-w-[200px] mx-auto text-sm",children:t.instructions})]}),o.jsx("button",{onClick:S,className:"w-full max-w-xs py-5 bg-white text-black font-black rounded-3xl uppercase tracking-[0.2em] shadow-[0_0_40px_rgba(255,255,255,0.3)] hover:scale-[1.02] active:scale-[0.98] transition-all relative z-10",children:o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx(hs,{size:18,fill:"black"})," "]})})]});const N=T>6?"grid-cols-4":"grid-cols-3 sm:grid-cols-4",P=V=>{const D=[o.jsx(ni,{size:24,className:"text-yellow-300 drop-shadow-[0_0_15px_rgba(253,224,71,0.8)]"}),o.jsx(fr,{size:24,className:"text-orange-400 drop-shadow-[0_0_15px_rgba(251,146,60,0.8)]"}),o.jsx(fs,{size:24,className:"text-pink-400 drop-shadow-[0_0_15px_rgba(244,114,182,0.8)]"}),o.jsx(ZS,{size:24,className:"text-white drop-shadow-[0_0_15px_rgba(255,255,255,0.8)]"}),o.jsx(qS,{size:24,className:"text-blue-400 drop-shadow-[0_0_15px_rgba(96,165,250,0.8)]"}),o.jsx(Vw,{size:24,className:"text-green-400 drop-shadow-[0_0_15px_rgba(74,222,128,0.8)]"}),o.jsx(Ui,{size:24,className:"text-red-400 drop-shadow-[0_0_15px_rgba(248,113,113,0.8)]"}),o.jsx(ef,{size:24,className:"text-indigo-400 drop-shadow-[0_0_15px_rgba(129,140,248,0.8)]"})];return D[V%D.length]};return o.jsxs("div",{className:"h-full flex flex-col",children:[o.jsxs("div",{className:"flex justify-between px-6 py-4 bg-[#151925]/60 backdrop-blur-xl rounded-3xl mb-4 text-slate-300 font-bold font-mono text-xs uppercase tracking-wider border border-white/5 shadow-lg mx-2 z-10",children:[o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(ni,{size:14,className:"text-yellow-400"})," ",u,"/",T]}),o.jsxs("span",{className:"flex items-center gap-2",children:[o.jsx(ra,{size:14,className:"text-indigo-400"})," : ",p]})]}),o.jsx("div",{className:`flex-1 p-2 grid ${N} gap-3 content-center overflow-y-auto`,children:n.map((V,D)=>o.jsxs("button",{onClick:()=>j(D),className:`aspect-square rounded-[1.5rem] transition-all duration-500 transform perspective-1000 relative group
                        ${V.flipped||V.matched?"rotate-y-180":"bg-white/5 backdrop-blur-md border border-white/5 hover:border-white/20 hover:bg-white/10 hover:shadow-[0_0_20px_rgba(99,102,241,0.2)]"}
                    `,children:[o.jsx("div",{className:`absolute inset-0 flex items-center justify-center backface-hidden transition-opacity duration-300 ${V.flipped||V.matched?"opacity-0":"opacity-100"}`,children:o.jsx(fs,{size:20,className:"text-white/20 group-hover:text-white/40 transition-colors"})}),(V.flipped||V.matched)&&o.jsx("div",{className:`absolute inset-0 rounded-[1.5rem] flex items-center justify-center animate-in zoom-in duration-300 shadow-inner backdrop-blur-xl
                             ${V.matched?"bg-emerald-500/20 border border-emerald-500/50 shadow-[0_0_30px_rgba(16,185,129,0.3)]":"bg-indigo-500/20 border border-indigo-500/50 shadow-[0_0_30px_rgba(99,102,241,0.3)]"}
                          `,children:P(V.val)})]},V.id))})]})},dI=({onComplete:t})=>{const[e,n]=O.useState("WAITING"),[s,a]=O.useState(0),[l,u]=O.useState(1),[d,p]=O.useState([]),h=O.useRef(0),g=O.useRef(null),b=5,T=()=>{n("READY");const P=Math.random()*3e3+1e3;g.current=setTimeout(()=>{h.current=Date.now(),n("GO")},P)},S=()=>{if(e==="WAITING")T();else if(e==="READY")g.current&&clearTimeout(g.current),n("TOO_EARLY");else if(e==="GO"){const P=Date.now()-h.current;a(P),p(V=>[...V,P]),l>=b?n("RESULT"):(u(V=>V+1),n("WAITING"))}else if(e==="TOO_EARLY")n("WAITING");else if(e==="RESULT"){const P=d.reduce((D,k)=>D+k,0)/d.length,V=Math.max(0,Math.min(100,Math.round(150-P/5)));t(V)}},j=()=>{switch(e){case"READY":return"bg-gradient-to-br from-red-900 to-red-950";case"GO":return"bg-gradient-to-br from-green-600 to-emerald-700";case"TOO_EARLY":return"bg-gradient-to-br from-orange-900 to-red-950";case"RESULT":return"bg-gradient-to-br from-indigo-900 to-purple-950";default:return"bg-gradient-to-br from-slate-900 to-slate-950"}},N=d.length>0?Math.round(d.reduce((P,V)=>P+V,0)/d.length):0;return o.jsxs("div",{onClick:S,className:`h-full flex flex-col items-center justify-center text-center p-6 cursor-pointer transition-all duration-500 ${j()}`,children:[e==="WAITING"&&o.jsxs("div",{className:"animate-in zoom-in duration-300",children:[o.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(ni,{size:48,className:"text-yellow-400"})}),o.jsxs("h3",{className:"text-2xl font-black text-white mb-2",children:[" ",l," / ",b]}),o.jsx("p",{className:"text-slate-400 mb-6",children:",  "}),d.length>0&&o.jsxs("div",{className:"text-sm text-slate-500",children:[" : ",o.jsxs("span",{className:"text-green-400 font-bold",children:[s," "]})]})]}),e==="READY"&&o.jsxs("div",{className:"animate-in zoom-in duration-300",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-6 rounded-full bg-red-500/30 border-4 border-red-500 flex items-center justify-center animate-pulse",children:o.jsx(ra,{size:48,className:"text-red-400"})}),o.jsx("h3",{className:"text-3xl font-black text-red-400 mb-2",children:"..."}),o.jsx("p",{className:"text-red-300/70",children:"     !"})]}),e==="GO"&&o.jsxs("div",{className:"animate-in zoom-in duration-200",children:[o.jsx("div",{className:"w-32 h-32 mx-auto mb-6 rounded-full bg-green-500/30 border-4 border-green-400 flex items-center justify-center",children:o.jsx(Ui,{size:48,className:"text-green-300"})}),o.jsx("h3",{className:"text-4xl font-black text-green-400 mb-2",children:"!"}),o.jsx("p",{className:"text-green-300/70",children:"  !"})]}),e==="TOO_EARLY"&&o.jsxs("div",{className:"animate-in shake duration-300",children:[o.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-orange-500/30 flex items-center justify-center",children:o.jsx(Bm,{size:48,className:"text-orange-400"})}),o.jsx("h3",{className:"text-2xl font-black text-orange-400 mb-2",children:" !"}),o.jsx("p",{className:"text-orange-300/70",children:",   "})]}),e==="RESULT"&&o.jsxs("div",{className:"animate-in zoom-in duration-500",children:[o.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center shadow-lg shadow-yellow-500/30",children:o.jsx(Ds,{size:48,className:"text-white"})}),o.jsx("h3",{className:"text-3xl font-black text-white mb-2",children:"!"}),o.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 mb-6",children:[o.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"  "}),o.jsxs("p",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-400",children:[N," "]})]}),o.jsx("div",{className:"text-sm text-slate-500 mb-4",children:N<250?"  !":N<350?"  !":N<450?"  !":"  !"}),o.jsx("p",{className:"text-indigo-300",children:",  "})]}),o.jsx("div",{className:"absolute bottom-8 flex gap-2",children:Array.from({length:b}).map((P,V)=>o.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${V<d.length?"bg-green-400":V===l-1&&e!=="RESULT"?"bg-white animate-pulse":"bg-white/20"}`},V))})]})},fI=({isActive:t=!0})=>{const[e,n]=O.useState([]);return O.useEffect(()=>{if(!t)return;const s=setInterval(()=>{const a={id:Date.now(),x:Math.random()*100,y:Math.random()*100};n(l=>[...l.slice(-8),a])},400);return()=>clearInterval(s)},[t]),o.jsxs("div",{className:"relative w-48 h-48 mx-auto",children:[o.jsx(H.div,{className:"absolute inset-0 bg-purple-500/30 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0}}),o.jsx(H.div,{className:"absolute inset-0 flex items-center justify-center",animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0},children:o.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-purple-500 to-pink-600 rounded-[2rem] flex items-center justify-center shadow-2xl shadow-purple-500/50",children:o.jsx(fs,{className:"w-16 h-16 text-white"})})}),o.jsx(Et,{children:e.map(s=>o.jsx(H.div,{className:"absolute w-3 h-3 bg-yellow-400 rounded-full shadow-lg shadow-yellow-400/50",style:{left:`${s.x}%`,top:`${s.y}%`},initial:{scale:0,opacity:1},animate:{scale:[0,1.5,0],opacity:[1,1,0]},exit:{opacity:0},transition:{duration:.8}},s.id))}),o.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[o.jsx(H.circle,{cx:"50%",cy:"50%",r:"40%",fill:"none",stroke:"url(#gradient)",strokeWidth:"1",strokeDasharray:"10 5",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"}}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#a855f7",stopOpacity:"0.5"}),o.jsx("stop",{offset:"100%",stopColor:"#ec4899",stopOpacity:"0.5"})]})})]})]})},hI=()=>o.jsxs("div",{className:"relative w-48 h-48 mx-auto",children:[o.jsx(H.div,{className:"absolute inset-0 flex items-center justify-center",animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:[0,60,120,180,240,300].map((t,e)=>o.jsx(H.div,{className:"absolute w-6 h-6",style:{transform:`rotate(${t}deg) translateX(70px)`},animate:{scale:[1,1.3,1],opacity:[.6,1,.6]},transition:{duration:1.5,delay:e*.2,repeat:1/0},children:o.jsx("div",{className:`w-full h-full rounded-full ${e%2===0?"bg-yellow-400 shadow-yellow-400/50":"bg-orange-500 shadow-orange-500/50"} shadow-lg`})},e))}),o.jsx(H.div,{className:"absolute inset-0 flex items-center justify-center",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center shadow-2xl shadow-orange-500/50",children:o.jsx(ni,{className:"w-10 h-10 text-white"})})}),[1,2,3].map(t=>o.jsx(H.div,{className:"absolute inset-0 border-2 border-yellow-400/30 rounded-full",animate:{scale:[1,2],opacity:[.5,0]},transition:{duration:2,delay:t*.6,repeat:1/0}},t))]}),pI=()=>{const[t,e]=O.useState([]);return O.useEffect(()=>{const n=setInterval(()=>{const s=["","","",""];e(a=>{const l={id:Date.now(),x:Math.random()*80+10,y:Math.random()*80+10,type:s[Math.floor(Math.random()*s.length)]};return[...a.slice(-5),l]})},800);return()=>clearInterval(n)},[]),o.jsxs("div",{className:"relative w-48 h-48 mx-auto",children:[o.jsx(H.div,{className:"absolute inset-0 flex items-center justify-center z-10",animate:{scale:[1,1.05,1]},transition:{duration:1.5,repeat:1/0},children:o.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-2xl shadow-indigo-500/50",children:o.jsx(ef,{className:"w-12 h-12 text-white"})})}),o.jsx(Et,{children:t.map(n=>o.jsx(H.div,{className:"absolute text-2xl",style:{left:`${n.x}%`,top:`${n.y}%`},initial:{scale:0,opacity:0},animate:{scale:[0,1,.8],opacity:[0,1,0],x:[0,(Math.random()-.5)*50],y:[0,(Math.random()-.5)*50]},exit:{opacity:0},transition:{duration:1.5},children:n.type},n.id))}),o.jsx(H.div,{className:"absolute inset-0 border-4 border-indigo-400/30 rounded-full",animate:{scale:[1,1.3,1],opacity:[.5,.2,.5]},transition:{duration:2,repeat:1/0}})]})},mI=({level:t=70})=>o.jsxs("div",{className:"relative w-32 h-48 mx-auto",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-800 rounded-3xl border-4 border-slate-600 overflow-hidden",children:o.jsx(H.div,{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-green-500 to-emerald-400",initial:{height:0},animate:{height:`${t}%`},transition:{duration:1.5,ease:"easeOut"},children:[...Array(5)].map((e,n)=>o.jsx(H.div,{className:"absolute w-3 h-3 bg-white/30 rounded-full",style:{left:`${20+n*15}%`},animate:{y:[0,-100],opacity:[.5,0]},transition:{duration:2,delay:n*.3,repeat:1/0}},n))})}),o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-12 h-4 bg-slate-600 rounded-t-lg"}),o.jsx(H.div,{className:"absolute inset-0 flex items-center justify-center",animate:{scale:[1,1.1,1]},transition:{duration:1,repeat:1/0},children:o.jsx(ni,{className:"w-12 h-12 text-white drop-shadow-lg"})}),o.jsxs("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-2xl font-black text-white",children:[t,"%"]})]}),gI=()=>{const[t,e]=O.useState([]);return O.useEffect(()=>{const n=[...Array(20)].map((s,a)=>({id:a,x:Math.random()*100,y:Math.random()*100,size:Math.random()*3+1}));e(n)},[]),o.jsxs("div",{className:"relative w-48 h-48 mx-auto overflow-hidden rounded-full bg-gradient-to-b from-indigo-900 to-slate-900",children:[t.map(n=>o.jsx(H.div,{className:"absolute bg-white rounded-full",style:{left:`${n.x}%`,top:`${n.y}%`,width:n.size,height:n.size},animate:{opacity:[.3,1,.3],scale:[1,1.5,1]},transition:{duration:2+Math.random()*2,delay:Math.random()*2,repeat:1/0}},n.id)),o.jsx(H.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",animate:{y:[0,-5,0]},transition:{duration:3,repeat:1/0},children:o.jsxs("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-full shadow-2xl shadow-yellow-200/50 relative",children:[o.jsx("div",{className:"absolute top-4 left-4 w-3 h-3 bg-yellow-300/50 rounded-full"}),o.jsx("div",{className:"absolute top-8 right-4 w-2 h-2 bg-yellow-300/50 rounded-full"}),o.jsx("div",{className:"absolute bottom-4 left-6 w-4 h-4 bg-yellow-300/50 rounded-full"})]})}),o.jsx(H.div,{className:"absolute top-4 right-4 text-2xl font-black text-purple-300",animate:{y:[0,-10,0],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:"Z"}),o.jsx(H.div,{className:"absolute top-8 right-8 text-xl font-black text-purple-400",animate:{y:[0,-10,0],opacity:[.5,1,.5]},transition:{duration:2,delay:.3,repeat:1/0},children:"z"}),o.jsx(H.div,{className:"absolute top-12 right-6 text-lg font-black text-purple-500",animate:{y:[0,-10,0],opacity:[.5,1,.5]},transition:{duration:2,delay:.6,repeat:1/0},children:"z"})]})},_1=({defeated:t=!1})=>o.jsxs("div",{className:"relative w-48 h-48 mx-auto",children:[o.jsx(H.div,{className:`absolute inset-0 rounded-full blur-3xl ${t?"bg-green-500/30":"bg-red-500/30"}`,animate:{scale:[1,1.3,1],opacity:[.3,.6,.3]},transition:{duration:1.5,repeat:1/0}}),o.jsx(H.div,{className:"absolute inset-0 flex items-center justify-center",animate:t?{rotate:[0,10,-10,0],y:[0,50]}:{scale:[1,1.1,1]},transition:{duration:t?1:2,repeat:t?0:1/0},children:o.jsx("div",{className:`w-28 h-28 rounded-[2rem] flex items-center justify-center shadow-2xl ${t?"bg-gradient-to-br from-slate-500 to-slate-700 shadow-slate-500/50":"bg-gradient-to-br from-red-500 to-orange-600 shadow-red-500/50"}`,children:t?o.jsx(Ds,{className:"w-14 h-14 text-yellow-400"}):o.jsx(fr,{className:"w-14 h-14 text-white"})})}),!t&&o.jsx(o.Fragment,{children:[...Array(6)].map((e,n)=>o.jsx(H.div,{className:"absolute w-4 h-4 bg-orange-400 rounded-full",style:{left:"50%",top:"50%"},animate:{x:[0,Math.cos(n*60*Math.PI/180)*80],y:[0,Math.sin(n*60*Math.PI/180)*80],opacity:[1,0],scale:[.5,1.5]},transition:{duration:1,delay:n*.15,repeat:1/0}},n))}),t&&o.jsx(o.Fragment,{children:[...Array(5)].map((e,n)=>o.jsx(H.div,{className:"absolute",style:{left:`${20+n*15}%`,top:"20%"},initial:{y:0,opacity:0},animate:{y:[-20,-60],opacity:[0,1,0],rotate:[0,360]},transition:{duration:1.5,delay:n*.2,repeat:1/0},children:o.jsx(Qi,{className:"w-6 h-6 text-yellow-400 fill-yellow-400"})},n))})]}),yI=({amount:t})=>o.jsxs("div",{className:"relative w-48 h-48 mx-auto flex items-center justify-center",children:[[...Array(10)].map((e,n)=>o.jsx(H.div,{className:"absolute w-8 h-8 bg-gradient-to-br from-yellow-300 to-yellow-500 rounded-full border-2 border-yellow-600 flex items-center justify-center text-yellow-800 font-black text-xs shadow-lg",style:{left:`${10+n*8}%`},initial:{y:-50,opacity:0,rotate:0},animate:{y:[-50,150],opacity:[0,1,1,0],rotate:[0,360]},transition:{duration:2,delay:n*.15,repeat:1/0},children:""},n)),o.jsxs(H.div,{className:"relative z-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-3xl px-8 py-6 shadow-2xl shadow-orange-500/50",animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0},children:[o.jsxs("div",{className:"text-4xl font-black text-white",children:["+",t]}),o.jsx("div",{className:"text-sm font-bold text-yellow-100 text-center",children:""})]}),[...Array(8)].map((e,n)=>o.jsx(H.div,{className:"absolute",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:1,delay:n*.2,repeat:1/0},children:o.jsx(Hn,{className:"w-4 h-4 text-yellow-300"})},n))]}),gl=({state:t="idle",size:e="md",message:n,showBubble:s=!1,className:a=""})=>{const[l,u]=O.useState(t),[d,p]=O.useState(!1);O.useEffect(()=>{const b=setInterval(()=>{p(!0),setTimeout(()=>p(!1),150)},3e3+Math.random()*2e3);return()=>clearInterval(b)},[]),O.useEffect(()=>{u(t)},[t]);const h={sm:"w-20 h-20",md:"w-28 h-28",lg:"w-36 h-36",xl:"w-48 h-48"},g={idle:{y:[0,-3,0],transition:{duration:3,repeat:1/0,ease:"easeInOut"}},talking:{y:[0,-2,0],transition:{duration:.4,repeat:1/0}},happy:{y:[0,-8,0],scale:[1,1.03,1],transition:{duration:.6,repeat:1/0}},thinking:{rotate:[-1,1,-1],transition:{duration:2.5,repeat:1/0}},celebrating:{y:[0,-12,0],rotate:[0,3,-3,0],transition:{duration:.5,repeat:1/0}},waving:{rotate:[0,2,-2,0],transition:{duration:1,repeat:1/0}},encouraging:{scale:[1,1.02,1],transition:{duration:1.5,repeat:1/0}}};return o.jsxs("div",{className:`relative inline-flex flex-col items-center ${a}`,children:[o.jsx(Et,{children:s&&n&&o.jsx(H.div,{initial:{opacity:0,y:10,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.8},className:"absolute -top-20 left-1/2 -translate-x-1/2 z-10",children:o.jsxs("div",{className:"px-4 py-3 rounded-2xl text-sm font-medium text-white max-w-[220px] text-center relative",style:{background:"linear-gradient(135deg, rgba(236,72,153,0.95) 0%, rgba(168,85,247,0.95) 100%)",boxShadow:"0 8px 32px rgba(236,72,153,0.3)"},children:[n,o.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-4 h-4 rotate-45",style:{background:"linear-gradient(135deg, rgba(168,85,247,0.95) 0%, rgba(168,85,247,0.95) 100%)"}})]})})}),o.jsx(H.div,{className:`${h[e]} relative`,variants:g,animate:l,children:o.jsxs("svg",{viewBox:"0 0 120 140",className:"w-full h-full drop-shadow-lg",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"hairGradientKatya",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#5D4037"}),o.jsx("stop",{offset:"50%",stopColor:"#4E342E"}),o.jsx("stop",{offset:"100%",stopColor:"#3E2723"})]}),o.jsxs("linearGradient",{id:"hairHighlight",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"#8D6E63"}),o.jsx("stop",{offset:"100%",stopColor:"#6D4C41"})]}),o.jsxs("linearGradient",{id:"skinGradientKatya",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#FFCCBC"}),o.jsx("stop",{offset:"100%",stopColor:"#FFAB91"})]}),o.jsxs("linearGradient",{id:"eyeGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#81C784"}),o.jsx("stop",{offset:"100%",stopColor:"#4CAF50"})]}),o.jsxs("linearGradient",{id:"shirtGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#90CAF9"}),o.jsx("stop",{offset:"100%",stopColor:"#64B5F6"})]}),o.jsxs("filter",{id:"glowKatya",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[o.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),o.jsx("path",{d:`M 20 55 Q 15 30, 35 15 Q 60 0, 85 15 Q 105 30, 100 55 
               Q 105 80, 95 100 Q 85 115, 75 120 
               L 45 120 Q 35 115, 25 100 Q 15 80, 20 55`,fill:"url(#hairGradientKatya)"}),o.jsx("path",{d:"M 30 25 Q 40 35, 35 50 Q 30 60, 35 75",stroke:"url(#hairHighlight)",strokeWidth:"4",fill:"none",opacity:"0.6",strokeLinecap:"round"}),o.jsx("path",{d:"M 85 30 Q 90 45, 85 60 Q 80 75, 85 90",stroke:"url(#hairHighlight)",strokeWidth:"3",fill:"none",opacity:"0.5",strokeLinecap:"round"}),o.jsx("ellipse",{cx:"60",cy:"65",rx:"30",ry:"35",fill:"url(#skinGradientKatya)"}),o.jsx("path",{d:`M 30 45 Q 40 25, 60 28 Q 80 25, 90 45 
               Q 85 35, 70 38 Q 55 32, 45 38 Q 35 35, 30 45`,fill:"url(#hairGradientKatya)"}),o.jsx("path",{d:"M 25 50 Q 20 70, 22 90 Q 24 105, 30 115",stroke:"url(#hairGradientKatya)",strokeWidth:"12",fill:"none",strokeLinecap:"round"}),o.jsx("path",{d:"M 95 50 Q 100 70, 98 90 Q 96 105, 90 115",stroke:"url(#hairGradientKatya)",strokeWidth:"12",fill:"none",strokeLinecap:"round"}),o.jsx("path",{d:"M 42 52 Q 48 49, 54 52",stroke:"#5D4037",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),o.jsx("path",{d:"M 66 52 Q 72 49, 78 52",stroke:"#5D4037",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),o.jsxs("g",{children:[o.jsx("ellipse",{cx:"48",cy:"62",rx:"8",ry:d?1:6,fill:"white",style:{transition:"ry 0.1s"}}),o.jsx("ellipse",{cx:"48",cy:"63",rx:d?0:5,ry:d?0:5,fill:"url(#eyeGradient)"}),o.jsx("circle",{cx:"48",cy:"63",r:d?0:2.5,fill:"#1B5E20"}),o.jsx("circle",{cx:"50",cy:"61",r:d?0:1.5,fill:"white"}),o.jsx("ellipse",{cx:"72",cy:"62",rx:"8",ry:d?1:6,fill:"white",style:{transition:"ry 0.1s"}}),o.jsx("ellipse",{cx:"72",cy:"63",rx:d?0:5,ry:d?0:5,fill:"url(#eyeGradient)"}),o.jsx("circle",{cx:"72",cy:"63",r:d?0:2.5,fill:"#1B5E20"}),o.jsx("circle",{cx:"74",cy:"61",r:d?0:1.5,fill:"white"})]}),o.jsx("path",{d:"M 60 68 Q 58 75, 60 78 Q 62 75, 60 68",stroke:"#FFAB91",strokeWidth:"1.5",fill:"none"}),o.jsx("ellipse",{cx:"38",cy:"75",rx:"6",ry:"3",fill:"#FFCDD2",opacity:"0.7"}),o.jsx("ellipse",{cx:"82",cy:"75",rx:"6",ry:"3",fill:"#FFCDD2",opacity:"0.7"}),l==="happy"||l==="celebrating"||l==="waving"?o.jsxs("g",{children:[o.jsx("path",{d:"M 48 82 Q 60 95, 72 82",stroke:"#D32F2F",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),o.jsx("path",{d:"M 50 84 Q 60 90, 70 84",fill:"white"})]}):l==="talking"?o.jsx(H.ellipse,{cx:"60",cy:"85",rx:"6",ry:"4",fill:"#D32F2F",animate:{ry:[3,5,3]},transition:{duration:.25,repeat:1/0}}):l==="thinking"?o.jsx("path",{d:"M 54 84 Q 60 82, 66 84",stroke:"#D32F2F",strokeWidth:"2",fill:"none",strokeLinecap:"round"}):l==="encouraging"?o.jsx("path",{d:"M 50 82 Q 60 90, 70 82",stroke:"#D32F2F",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}):o.jsx("path",{d:"M 52 82 Q 60 88, 68 82",stroke:"#D32F2F",strokeWidth:"2",fill:"none",strokeLinecap:"round"}),o.jsx("path",{d:"M 52 98 L 52 110 Q 52 115, 60 115 Q 68 115, 68 110 L 68 98",fill:"url(#skinGradientKatya)"}),o.jsx("path",{d:`M 30 115 Q 40 110, 60 112 Q 80 110, 90 115 
               L 95 140 L 25 140 Z`,fill:"url(#shirtGradient)"}),o.jsx("path",{d:"M 50 115 L 60 125 L 70 115",stroke:"#42A5F5",strokeWidth:"1.5",fill:"none"}),l==="celebrating"&&o.jsxs(o.Fragment,{children:[o.jsx(H.circle,{cx:"15",cy:"30",r:"3",fill:"#FFC107",animate:{opacity:[0,1,0],scale:[.5,1.2,.5]},transition:{duration:.5,repeat:1/0,delay:0}}),o.jsx(H.circle,{cx:"105",cy:"25",r:"2.5",fill:"#FFC107",animate:{opacity:[0,1,0],scale:[.5,1.2,.5]},transition:{duration:.5,repeat:1/0,delay:.2}}),o.jsx(H.circle,{cx:"10",cy:"70",r:"2",fill:"#E91E63",animate:{opacity:[0,1,0],scale:[.5,1.2,.5]},transition:{duration:.5,repeat:1/0,delay:.3}}),o.jsx(H.circle,{cx:"110",cy:"65",r:"2",fill:"#E91E63",animate:{opacity:[0,1,0],scale:[.5,1.2,.5]},transition:{duration:.5,repeat:1/0,delay:.15}}),o.jsx(H.path,{d:"M 8 50 L 12 50 M 10 48 L 10 52",stroke:"#9C27B0",strokeWidth:"2",animate:{opacity:[0,1,0]},transition:{duration:.6,repeat:1/0,delay:.4}})]}),l==="thinking"&&o.jsxs(o.Fragment,{children:[o.jsx(H.circle,{cx:"95",cy:"45",r:"3",fill:"#CE93D8",animate:{opacity:[.4,.8,.4]},transition:{duration:1.2,repeat:1/0,delay:0}}),o.jsx(H.circle,{cx:"102",cy:"35",r:"4",fill:"#CE93D8",animate:{opacity:[.4,.8,.4]},transition:{duration:1.2,repeat:1/0,delay:.3}}),o.jsx(H.circle,{cx:"108",cy:"22",r:"5",fill:"#CE93D8",animate:{opacity:[.4,.8,.4]},transition:{duration:1.2,repeat:1/0,delay:.6}})]}),l==="waving"&&o.jsxs(H.g,{animate:{rotate:[0,20,-10,20,0]},transition:{duration:.8,repeat:1/0},style:{transformOrigin:"95px 100px"},children:[o.jsx("ellipse",{cx:"100",cy:"95",rx:"8",ry:"12",fill:"url(#skinGradientKatya)"}),o.jsx("ellipse",{cx:"96",cy:"85",rx:"2",ry:"5",fill:"url(#skinGradientKatya)"}),o.jsx("ellipse",{cx:"100",cy:"83",rx:"2",ry:"6",fill:"url(#skinGradientKatya)"}),o.jsx("ellipse",{cx:"104",cy:"85",rx:"2",ry:"5",fill:"url(#skinGradientKatya)"}),o.jsx("ellipse",{cx:"107",cy:"88",rx:"2",ry:"4",fill:"url(#skinGradientKatya)"})]}),l==="encouraging"&&o.jsxs(o.Fragment,{children:[o.jsx(H.path,{d:"M 15 50 C 15 45, 20 45, 20 50 C 20 45, 25 45, 25 50 C 25 55, 20 60, 20 60 C 20 60, 15 55, 15 50",fill:"#E91E63",animate:{scale:[1,1.2,1],opacity:[.6,1,.6]},transition:{duration:1,repeat:1/0}}),o.jsx(H.path,{d:"M 95 55 C 95 51, 99 51, 99 55 C 99 51, 103 51, 103 55 C 103 59, 99 63, 99 63 C 99 63, 95 59, 95 55",fill:"#E91E63",animate:{scale:[1,1.2,1],opacity:[.6,1,.6]},transition:{duration:1,repeat:1/0,delay:.5}})]})]})})]})},xI=[" !"," "," "," "," "," ","   "," "," "," "," "," "],vI=["  "," "," "," "," "," "," "," "],bI=({onComplete:t,duration:e=30,targetScore:n=10})=>{const[s,a]=O.useState("intro"),[l,u]=O.useState(0),[d,p]=O.useState(e),[h,g]=O.useState([]),[b,T]=O.useState(0),[S,j]=O.useState(null),N=O.useRef(0),P=O.useRef(null);O.useEffect(()=>{if(s!=="playing")return;if(d<=0){l>=n?(a("won"),setTimeout(()=>t(l*10),2e3)):a("lost");return}const k=setInterval(()=>p(G=>G-1),1e3);return()=>clearInterval(k)},[s,d,l,n,t]),O.useEffect(()=>{if(s!=="playing")return;const k=setInterval(()=>{g(G=>{if(G.length>=6)return G;const J=Math.random()>.35,K=J?xI:vI,te={id:N.current++,x:10+Math.random()*80,y:110,text:K[Math.floor(Math.random()*K.length)],isPositive:J,size:60+Math.random()*30,speed:1+Math.random()*1.5};return[...G,te]})},800);return()=>clearInterval(k)},[s]),O.useEffect(()=>{if(s!=="playing")return;const k=setInterval(()=>{g(G=>G.map(J=>({...J,y:J.y-J.speed})).filter(J=>J.y>-20))},50);return()=>clearInterval(k)},[s]);const V=k=>{k.isPositive?(u(G=>G+1+Math.min(b,5)),T(G=>G+1),j({text:"+"+(1+Math.min(b,5)),type:"good"})):(u(G=>G+1),T(0),j({text:" !",type:"good"})),g(G=>G.filter(J=>J.id!==k.id)),setTimeout(()=>j(null),500)},D=()=>{a("playing"),u(0),T(0),p(e),g([])};return s==="intro"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/50 to-indigo-900/50"}),o.jsxs(H.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx(gl,{state:"happy",size:"lg"}),o.jsx("h2",{className:"text-2xl font-black text-white mt-6 mb-2",children:"  "}),o.jsx("p",{className:"text-white/70 text-sm mb-6 max-w-[250px]",children:"      .  !"}),o.jsxs("div",{className:"flex gap-4 justify-center mb-6",children:[o.jsx("div",{className:"px-4 py-2 rounded-xl bg-green-500/20 border border-green-500/30",children:o.jsx("span",{className:"text-green-400 text-sm font-bold",children:" "})}),o.jsx("div",{className:"px-4 py-2 rounded-xl bg-red-500/20 border border-red-500/30",children:o.jsx("span",{className:"text-red-400 text-sm font-bold",children:" "})})]}),o.jsxs("button",{onClick:D,className:"px-8 py-4 rounded-2xl font-bold text-white text-lg flex items-center gap-2 mx-auto transition-all active:scale-95",style:{background:"linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%)",boxShadow:"0 10px 40px rgba(99,102,241,0.4)"},children:[o.jsx(hs,{size:24})," "]})]})]}):s==="won"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-green-900/50 to-emerald-900/50"}),o.jsxs(H.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx(gl,{state:"celebrating",size:"lg",showBubble:!0,message:"! "}),o.jsx("h2",{className:"text-3xl font-black text-white mt-6 mb-2",children:"! "}),o.jsxs("p",{className:"text-green-400 text-xl font-bold mb-4",children:["+",l*10," XP"]}),o.jsx("div",{className:"flex gap-2 justify-center",children:[...Array(3)].map((k,G)=>o.jsx(H.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.2+G*.1},children:o.jsx(Qi,{size:32,fill:"#FCD34D",className:"text-yellow-400"})},G))})]})]}):s==="lost"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/80 to-slate-900/80"}),o.jsxs(H.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx(gl,{state:"thinking",size:"lg",showBubble:!0,message:"  ?"}),o.jsx("h2",{className:"text-2xl font-bold text-white mt-6 mb-2",children:" !"}),o.jsxs("p",{className:"text-white/60 mb-6",children:[": ",l," / ",n]}),o.jsxs("button",{onClick:D,className:"px-6 py-3 rounded-xl font-bold text-white flex items-center gap-2 mx-auto",style:{background:"linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%)"},children:[o.jsx(zm,{size:20}),"  "]})]})]}):o.jsxs("div",{ref:P,className:"h-full relative overflow-hidden touch-none",style:{background:"linear-gradient(180deg, #1E1B4B 0%, #312E81 50%, #4338CA 100%)"},children:[o.jsxs("div",{className:"absolute top-6 left-4 right-4 flex justify-between items-center z-20",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-black/30 backdrop-blur-sm",children:[o.jsx(Ui,{size:16,className:"text-yellow-400"}),o.jsxs("span",{className:"text-white font-bold",children:[l,"/",n]})]}),b>1&&o.jsx(H.div,{initial:{scale:0},animate:{scale:1},className:"px-3 py-2 rounded-xl bg-orange-500/30 backdrop-blur-sm",children:o.jsxs("span",{className:"text-orange-400 font-bold",children:[" x",b]})}),o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-black/30 backdrop-blur-sm",children:[o.jsx(ra,{size:16,className:"text-blue-400"}),o.jsxs("span",{className:`font-bold ${d<=10?"text-red-400":"text-white"}`,children:[d,"s"]})]})]}),o.jsx(Et,{children:S&&o.jsx(H.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30 text-3xl font-black ${S.type==="good"?"text-green-400":"text-red-400"}`,children:S.text})}),h.map(k=>o.jsx(H.button,{initial:{scale:0},animate:{scale:1},exit:{scale:0},onClick:()=>V(k),className:"absolute rounded-full flex items-center justify-center p-2 text-center transition-transform active:scale-90",style:{left:`${k.x}%`,top:`${k.y}%`,width:k.size,height:k.size,transform:"translate(-50%, -50%)",background:k.isPositive?"linear-gradient(135deg, rgba(34,197,94,0.8) 0%, rgba(22,163,74,0.8) 100%)":"linear-gradient(135deg, rgba(239,68,68,0.8) 0%, rgba(220,38,38,0.8) 100%)",border:k.isPositive?"2px solid rgba(74,222,128,0.5)":"2px solid rgba(248,113,113,0.5)",boxShadow:k.isPositive?"0 0 20px rgba(34,197,94,0.4), inset 0 -2px 10px rgba(0,0,0,0.2)":"0 0 20px rgba(239,68,68,0.4), inset 0 -2px 10px rgba(0,0,0,0.2)"},children:o.jsx("span",{className:"text-white text-[10px] font-bold leading-tight",children:k.text})},k.id)),o.jsx("div",{className:"absolute bottom-4 left-4 right-4 h-2 bg-black/30 rounded-full overflow-hidden",children:o.jsx(H.div,{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500",initial:{width:0},animate:{width:`${l/n*100}%`}})})]})},T1=[{emoji:"",name:"",color:"#FCD34D"},{emoji:"",name:"",color:"#60A5FA"},{emoji:"",name:"",color:"#F87171"},{emoji:"",name:"",color:"#A78BFA"},{emoji:"",name:"",color:"#34D399"},{emoji:"",name:"",color:"#FB923C"}],wI=({onComplete:t})=>{const[e,n]=O.useState("intro"),[s,a]=O.useState(0),[l,u]=O.useState(0),[d,p]=O.useState(T1[0]),[h,g]=O.useState([]),[b,T]=O.useState(null),S=6,j=O.useCallback(()=>{const P=[...T1].sort(()=>Math.random()-.5),V=P[0],D=P.slice(0,4).sort(()=>Math.random()-.5);p(V),g(D),T(null)},[]);O.useEffect(()=>{e==="playing"&&j()},[e,s,j]);const N=P=>{P.name===d.name?(u(V=>V+1),T("correct")):T("wrong"),setTimeout(()=>{s+1>=S?(n("won"),setTimeout(()=>t((l+(P.name===d.name?1:0))*15),2e3)):a(V=>V+1)},800)};return e==="intro"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-pink-900/50 to-purple-900/50"}),o.jsxs(H.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:" "}),o.jsx("p",{className:"text-white/70 text-sm mb-6 max-w-[250px]",children:"       "}),o.jsxs("button",{onClick:()=>n("playing"),className:"px-8 py-4 rounded-2xl font-bold text-white text-lg flex items-center gap-2 mx-auto",style:{background:"linear-gradient(135deg, #EC4899 0%, #8B5CF6 100%)",boxShadow:"0 10px 40px rgba(236,72,153,0.4)"},children:[o.jsx(hs,{size:24})," "]})]})]}):e==="won"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-green-900/50 to-emerald-900/50"}),o.jsxs(H.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx(gl,{state:"celebrating",size:"lg"}),o.jsx("h2",{className:"text-3xl font-black text-white mt-6 mb-2",children:"! "}),o.jsxs("p",{className:"text-white/70 mb-2",children:[" : ",l,"/",S]}),o.jsxs("p",{className:"text-green-400 text-xl font-bold",children:["+",l*15," XP"]})]})]}):o.jsxs("div",{className:"h-full flex flex-col p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-indigo-900/80 to-purple-900/80"}),o.jsxs("div",{className:"relative z-10 flex-1 flex flex-col",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("span",{className:"text-white/60 text-sm",children:[s+1,"/",S]}),o.jsx("div",{className:"flex gap-1",children:[...Array(S)].map((P,V)=>o.jsx("div",{className:`w-2 h-2 rounded-full ${V<s?"bg-green-500":V===s?"bg-white":"bg-white/20"}`},V))}),o.jsxs("span",{className:"text-yellow-400 font-bold",children:[l," "]})]}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[o.jsx("p",{className:"text-white/60 text-sm mb-4",children:"  ?"}),o.jsx(H.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},className:"text-8xl mb-8",children:d.emoji},s),o.jsx("div",{className:"grid grid-cols-2 gap-3 w-full max-w-xs",children:h.map((P,V)=>o.jsx(H.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.1},onClick:()=>!b&&N(P),disabled:!!b,className:`p-4 rounded-2xl font-bold text-white transition-all ${b==="correct"&&P.name===d.name?"bg-green-500 scale-105":b==="wrong"&&P.name===d.name?"bg-green-500":b&&P.name!==d.name?"opacity-50":"bg-white/10 hover:bg-white/20 active:scale-95"}`,style:{border:`2px solid ${P.color}40`},children:P.name},P.name))})]}),o.jsx(Et,{children:b&&o.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:`text-center py-4 ${b==="correct"?"text-green-400":"text-red-400"}`,children:b==="correct"?" !":" "})})]})]})},_I=({onComplete:t,cycles:e=3})=>{const[n,s]=O.useState("intro"),[a,l]=O.useState(0),[u,d]=O.useState("inhale"),[p,h]=O.useState(4),[g,b]=O.useState(!1),[T,S]=O.useState(0);return O.useEffect(()=>{if(n!=="playing")return;const j=setInterval(()=>{h(N=>{if(N===1){if(u==="inhale")return d("hold"),g&&S(P=>P+1),4;if(u==="hold")return d("exhale"),4;if(u==="exhale")return a+1>=e?(s("done"),setTimeout(()=>t(T*20),2e3),0):(l(P=>P+1),d("inhale"),4)}return N-1})},1e3);return()=>clearInterval(j)},[n,u,a,e,g,T,t]),n==="intro"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-900/50 to-blue-900/50"}),o.jsxs(H.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx(gl,{state:"idle",size:"lg",showBubble:!0,message:" ! "}),o.jsx("h2",{className:"text-2xl font-black text-white mt-6 mb-2",children:" "}),o.jsx("p",{className:"text-white/70 text-sm mb-6 max-w-[250px]",children:"   ,   .   !"}),o.jsxs("button",{onClick:()=>s("playing"),className:"px-8 py-4 rounded-2xl font-bold text-white text-lg flex items-center gap-2 mx-auto",style:{background:"linear-gradient(135deg, #06B6D4 0%, #3B82F6 100%)",boxShadow:"0 10px 40px rgba(6,182,212,0.4)"},children:[o.jsx(hs,{size:24})," "]})]})]}):n==="done"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-green-900/50 to-teal-900/50"}),o.jsxs(H.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx(gl,{state:"happy",size:"lg"}),o.jsx("h2",{className:"text-3xl font-black text-white mt-6 mb-2",children:"! "}),o.jsxs("p",{className:"text-white/70 mb-2",children:["   ",T,"  ",e*2," "]}),o.jsxs("p",{className:"text-cyan-400 text-xl font-bold",children:["+",T*20," XP"]})]})]}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900 to-indigo-900"}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsx("div",{className:"flex gap-2 mb-8",children:[...Array(e)].map((j,N)=>o.jsx("div",{className:`w-3 h-3 rounded-full ${N<a?"bg-cyan-500":N===a?"bg-white":"bg-white/20"}`},N))}),o.jsx("div",{className:"relative",children:o.jsx(H.div,{className:"w-48 h-48 rounded-full flex items-center justify-center",animate:{scale:u==="inhale"||u==="hold"?1.3:.8,background:u==="inhale"?"linear-gradient(135deg, rgba(6,182,212,0.3) 0%, rgba(59,130,246,0.3) 100%)":u==="hold"?"linear-gradient(135deg, rgba(168,85,247,0.3) 0%, rgba(139,92,246,0.3) 100%)":"linear-gradient(135deg, rgba(20,184,166,0.3) 0%, rgba(16,185,129,0.3) 100%)"},transition:{duration:4,ease:"easeInOut"},style:{border:"2px solid rgba(255,255,255,0.2)"},children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-5xl font-bold text-white",children:p}),o.jsx("div",{className:"text-white/60 text-sm uppercase tracking-wider mt-1",children:u==="inhale"?"":u==="hold"?"":""})]})})}),o.jsx("button",{onMouseDown:()=>b(!0),onMouseUp:()=>b(!1),onTouchStart:()=>b(!0),onTouchEnd:()=>b(!1),className:`mt-8 w-24 h-24 rounded-full flex items-center justify-center transition-all ${g?"bg-cyan-500 scale-110":"bg-white/10 border-2 border-white/30"}`,children:o.jsx("span",{className:"text-white font-bold text-sm",children:g?"!":""})}),o.jsx("p",{className:"text-white/40 text-xs mt-4",children:"  ,   "})]})]})},TI=[[[0,-1],[0,1],[-1,0],[1,0]],[[-1,-1],[-1,1],[1,-1],[1,1]],[[0,-1],[0,-2],[0,1],[0,2]],[[-1,0],[-2,0],[1,0],[2,0]]],E1=["","","","|"],Is=["#3B82F6","#8B5CF6","#10B981","#F59E0B"],EI=({onComplete:t,rows:e=5,cols:n=5,targetScore:s=15,duration:a=45})=>{const[l,u]=O.useState("intro"),[d,p]=O.useState([]),[h,g]=O.useState(0),[b,T]=O.useState(a),[S,j]=O.useState(0),[N,P]=O.useState(0),[V,D]=O.useState(0),[k,G]=O.useState(!1),[J,K]=O.useState(!1),[te,re]=O.useState(null),B=O.useCallback(()=>{const ce=[];for(let ee=0;ee<e;ee++){const W=[];for(let de=0;de<n;de++)W.push({status:"full",highlighted:ee===Math.floor(e/2)&&de===Math.floor(n/2),pattern:Math.floor(Math.random()*4)});ce.push(W)}return ce},[e,n]);O.useEffect(()=>{if(l!=="playing")return;if(b<=0){h>=s?(u("won"),setTimeout(()=>t(h*10+N*50),2e3)):u("lost");return}const ce=setInterval(()=>T(ee=>ee-1),1e3);return()=>clearInterval(ce)},[l,b,h,s,N,t]),O.useCallback(ce=>{for(let ee=0;ee<e;ee++)for(let W=0;W<n;W++)if(ce[ee][W].highlighted&&ce[ee][W].status!=="empty")return!0;return!1},[e]);const oe=O.useCallback((ce,ee)=>{if(l!=="playing")return;const W=d[ce][ee];if(!W.highlighted||W.status==="empty")return;const de=Date.now(),Y=de-V,Z=d.map((ne,xe)=>ne.map((Ae,Ne)=>{if(xe===ce&&Ne===ee)return Ae;if(Ae.status==="empty")return{...Ae,highlighted:!1};const Qe=TI[W.pattern].some(([it,ut])=>xe===ce+it&&Ne===ee+ut);return{...Ae,highlighted:Qe}}));let Q=0;for(let ne=0;ne<e;ne++)for(let xe=0;xe<n;xe++)ne===ce&&xe===ee||Z[ne][xe].highlighted&&Z[ne][xe].status!=="empty"&&Q++;if(Q===0){K(!0),u("lost");return}let he=h,Ee=S,F=N;if(W.status==="half"){if(he++,Ee===0||Y<=1500?Ee++:Ee=1,Ee>=3){const ne=Math.pow(2,F);he+=ne,F++,Ee=0,G(!0),setTimeout(()=>G(!1),800),re({x:ee,y:ce,text:`+${1+ne} COMBO!`})}else re({x:ee,y:ce,text:"+1"});if(setTimeout(()=>re(null),500),he>=s){u("won"),setTimeout(()=>t(he*10+F*50),2e3);return}}else Ee=0;Z[ce][ee]={...W,status:W.status==="full"?"half":"empty",pattern:Math.floor(Math.random()*4),highlighted:!1},p(Z),g(he),j(Ee),P(F),D(de)},[d,l,h,S,N,V,e,s,t]),$=()=>{u("playing"),p(B()),g(0),T(a),j(0),P(0),D(0),K(!1)};return l==="intro"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900"}),o.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-blue-500/20 rounded-full blur-[100px]"}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-purple-500/20 rounded-full blur-[100px]"}),o.jsxs(H.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx(H.div,{animate:{boxShadow:["0 0 30px rgba(99,102,241,0.5)","0 0 60px rgba(139,92,246,0.6)","0 0 30px rgba(99,102,241,0.5)"]},transition:{duration:2,repeat:1/0},className:"w-24 h-24 mx-auto mb-6 rounded-3xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:o.jsx(Ui,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:"THERMITE"}),o.jsx("p",{className:"text-indigo-300 text-lg font-medium mb-6",children:" "}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 mb-6 border border-white/10",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-500/30 flex items-center justify-center",children:o.jsx("div",{className:"w-4 h-4 rounded bg-indigo-400"})}),o.jsx("span",{className:"text-white/70",children:""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-500/30 flex items-center justify-center",children:o.jsx("div",{className:"w-4 h-4 rounded bg-orange-400 opacity-50"})}),o.jsx("span",{className:"text-white/70",children:""})]})]}),o.jsx("p",{className:"text-white/50 text-xs mt-3",children:"  .    ."})]}),o.jsx("div",{className:"flex justify-center gap-2 mb-6",children:E1.map((ce,ee)=>o.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-lg",style:{background:`${Is[ee]}20`,border:`1px solid ${Is[ee]}40`},children:ce},ee))}),o.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[o.jsx("div",{className:"px-4 py-2 rounded-xl bg-yellow-500/20 border border-yellow-500/30",children:o.jsxs("span",{className:"text-yellow-400 font-bold",children:[" ",s," "]})}),o.jsx("div",{className:"px-4 py-2 rounded-xl bg-blue-500/20 border border-blue-500/30",children:o.jsxs("span",{className:"text-blue-400 font-bold",children:[" ",a,""]})})]}),o.jsxs(H.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$,className:"px-10 py-4 rounded-2xl font-bold text-white text-lg flex items-center gap-3 mx-auto",style:{background:"linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%)",boxShadow:"0 10px 40px rgba(99,102,241,0.5)"},children:[o.jsx(hs,{size:24,fill:"white"})," "]})]})]}):l==="won"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-900 via-green-900 to-teal-900"}),[...Array(20)].map((ce,ee)=>o.jsx(H.div,{initial:{y:-20,x:Math.random()*300-150,opacity:1,rotate:0},animate:{y:400,opacity:0,rotate:360},transition:{duration:2+Math.random(),delay:Math.random()*.5,ease:"linear"},className:"absolute top-0 w-3 h-3 rounded-sm",style:{left:`${20+Math.random()*60}%`,background:["#FFD700","#FF6B6B","#4ECDC4","#A78BFA"][ee%4]}},ee)),o.jsxs(H.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx(H.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:3},children:o.jsx(Ds,{size:80,className:"text-yellow-400 mx-auto mb-4"})}),o.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"!"}),o.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-black text-emerald-400",children:h}),o.jsx("div",{className:"text-white/60 text-sm",children:""})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-black text-purple-400",children:N}),o.jsx("div",{className:"text-white/60 text-sm",children:""})]})]}),o.jsxs(H.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5},className:"text-2xl font-black text-yellow-400",children:["+",h*10+N*50," XP"]}),o.jsx("div",{className:"flex gap-2 justify-center mt-4",children:[...Array(3)].map((ce,ee)=>o.jsx(H.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.7+ee*.15},children:o.jsx(Qi,{size:36,fill:"#FCD34D",className:"text-yellow-400"})},ee))})]})]}):l==="lost"?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-red-950/30 to-slate-900"}),o.jsxs(H.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"relative z-10 text-center",children:[o.jsx("div",{className:"text-7xl mb-4",children:J?"":""}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:J?" !":" !"}),o.jsxs("p",{className:"text-white/60 mb-4",children:[": ",o.jsx("span",{className:"text-orange-400 font-bold",children:h})," / ",s]}),N>0&&o.jsxs("p",{className:"text-purple-400 mb-4",children:[": ",N]}),o.jsxs(H.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$,className:"px-8 py-4 rounded-xl font-bold text-white flex items-center gap-2 mx-auto",style:{background:"linear-gradient(135deg, #F97316 0%, #EF4444 100%)"},children:[o.jsx(zm,{size:20}),"  "]})]})]}):o.jsxs("div",{className:"h-full flex flex-col relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900"}),o.jsxs("div",{className:"relative z-20 flex justify-between items-center p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-black/40 backdrop-blur-sm border border-white/10",children:[o.jsx(Ui,{size:18,className:"text-yellow-400"}),o.jsxs("span",{className:"text-white font-bold",children:[h,"/",s]})]}),o.jsx(Et,{children:S>=2&&o.jsx(H.div,{initial:{scale:0,y:20},animate:{scale:1,y:0},exit:{scale:0,y:-20},className:"px-4 py-2 rounded-xl bg-orange-500/30 backdrop-blur-sm border border-orange-500/30",children:o.jsxs("span",{className:"text-orange-300 font-bold flex items-center gap-1",children:[o.jsx(ni,{size:16})," x",S]})})}),o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-black/40 backdrop-blur-sm border border-white/10",children:[o.jsx(ra,{size:18,className:b<=10?"text-red-400":"text-blue-400"}),o.jsxs("span",{className:`font-bold ${b<=10?"text-red-400 animate-pulse":"text-white"}`,children:[b,"s"]})]})]}),o.jsx(Et,{children:k&&o.jsx(H.div,{initial:{scale:0,opacity:0},animate:{scale:1.2,opacity:1},exit:{scale:0,opacity:0},className:"absolute top-1/4 left-1/2 -translate-x-1/2 z-30",children:o.jsx("div",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-orange-400 to-red-400",children:" COMBO! "})})}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-4 relative z-10",children:o.jsx("div",{className:"grid gap-1.5",style:{gridTemplateColumns:`repeat(${n}, minmax(0, 1fr))`,maxWidth:`${n*60}px`},children:d.map((ce,ee)=>ce.map((W,de)=>o.jsxs(H.button,{onClick:()=>oe(ee,de),disabled:W.status==="empty"||!W.highlighted,className:"relative aspect-square rounded-xl transition-all",style:{background:W.status==="empty"?"transparent":W.status==="half"?`linear-gradient(135deg, ${Is[W.pattern]}40 0%, ${Is[W.pattern]}20 100%)`:`linear-gradient(135deg, ${Is[W.pattern]} 0%, ${Is[W.pattern]}CC 100%)`,border:W.highlighted&&W.status!=="empty"?"3px solid rgba(255,255,255,0.8)":W.status==="empty"?"1px dashed rgba(255,255,255,0.1)":"1px solid rgba(255,255,255,0.2)",boxShadow:W.highlighted&&W.status!=="empty"?`0 0 20px ${Is[W.pattern]}, inset 0 0 20px rgba(255,255,255,0.1)`:"none",opacity:W.status==="empty"?.3:1,cursor:W.highlighted&&W.status!=="empty"?"pointer":"default"},whileHover:W.highlighted&&W.status!=="empty"?{scale:1.1}:{},whileTap:W.highlighted&&W.status!=="empty"?{scale:.9}:{},animate:W.highlighted&&W.status!=="empty"?{boxShadow:[`0 0 20px ${Is[W.pattern]}`,`0 0 40px ${Is[W.pattern]}`,`0 0 20px ${Is[W.pattern]}`]}:{},transition:{duration:1,repeat:1/0},children:[W.status!=="empty"&&o.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-white/80 text-lg font-bold",children:E1[W.pattern]}),W.status==="empty"&&o.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-white/20 text-xl",children:""})]},`${ee}-${de}`)))})}),o.jsx(Et,{children:te&&o.jsx(H.div,{initial:{opacity:0,y:0,scale:.5},animate:{opacity:1,y:-30,scale:1},exit:{opacity:0,y:-60},className:"absolute z-30 text-2xl font-black pointer-events-none",style:{left:`${te.x/n*100+50/n}%`,top:`${te.y/e*50+25}%`,color:te.text.includes("COMBO")?"#FCD34D":"#34D399",textShadow:"0 0 10px currentColor"},children:te.text})}),o.jsxs("div",{className:"relative z-10 p-4",children:[o.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:o.jsx(H.div,{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500",initial:{width:0},animate:{width:`${Math.min(h/s*100,100)}%`},transition:{type:"spring",stiffness:100}})}),o.jsxs("div",{className:"flex justify-between mt-2 text-xs text-white/50",children:[o.jsx("span",{children:"0"}),o.jsxs("span",{className:"text-white/80 font-bold",children:[Math.round(h/s*100),"%"]}),o.jsx("span",{children:s})]})]})]})},SI={sm:80,md:120,lg:160,xl:200},Qr=({state:t="idle",size:e="lg",message:n,showMessage:s=!0,className:a=""})=>{const l=SI[e],u=()=>{switch(t){case"happy":case"celebrating":return"";case"talking":return"";case"thinking":return"";case"waving":return"";case"encouraging":return"";default:return""}},d=()=>{switch(t){case"happy":case"celebrating":return"rgba(251, 191, 36, 0.4)";case"encouraging":return"rgba(34, 197, 94, 0.4)";default:return"rgba(139, 92, 246, 0.4)"}};return o.jsxs("div",{className:`flex flex-col items-center justify-center ${a}`,children:[o.jsxs(H.div,{className:"relative",animate:{y:t==="celebrating"?[0,-10,0]:[0,-4,0],scale:t==="happy"?[1,1.05,1]:1},transition:{duration:t==="celebrating"?.5:2,repeat:1/0,ease:"easeInOut"},children:[o.jsx(H.div,{className:"absolute inset-0 rounded-full",style:{width:l*1.3,height:l*1.3,left:-l*.15,top:-l*.15,background:`radial-gradient(circle, ${d()} 0%, transparent 70%)`,filter:"blur(15px)"},animate:{scale:[1,1.1,1],opacity:[.6,.8,.6]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),o.jsxs(H.div,{className:"relative rounded-full overflow-hidden flex items-center justify-center",style:{width:l,height:l,background:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 50%, #4C1D95 100%)",boxShadow:"0 10px 40px rgba(139, 92, 246, 0.4), inset 0 2px 0 rgba(255,255,255,0.2)"},children:[o.jsx("div",{className:"absolute inset-2 rounded-full",style:{background:"linear-gradient(180deg, rgba(255,255,255,0.15) 0%, transparent 50%)"}}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsx("span",{className:"font-black text-white drop-shadow-lg",style:{fontSize:l*.4},children:""}),o.jsx("span",{className:"text-white/80 font-bold tracking-wider",style:{fontSize:l*.1},children:""})]}),o.jsx(H.div,{className:"absolute top-2 right-2",animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"},children:o.jsx(Hn,{size:l*.12,className:"text-yellow-300"})})]}),o.jsx(H.div,{className:"absolute -bottom-1 -right-1 rounded-full flex items-center justify-center shadow-lg",style:{width:l*.35,height:l*.35,background:t==="encouraging"?"linear-gradient(135deg, #22C55E, #16A34A)":t==="happy"||t==="celebrating"?"linear-gradient(135deg, #FBBF24, #F59E0B)":"linear-gradient(135deg, #EC4899, #DB2777)"},animate:t==="waving"?{rotate:[-10,10,-10]}:{},transition:{duration:.3,repeat:t==="waving"?1/0:0},children:o.jsx("span",{style:{fontSize:l*.18},children:u()})}),(t==="celebrating"||t==="encouraging")&&o.jsx(o.Fragment,{children:[...Array(5)].map((p,h)=>o.jsx(H.div,{className:"absolute",style:{width:8,height:8,borderRadius:"50%",background:h%2===0?"#FBBF24":"#EC4899"},initial:{x:0,y:0,opacity:0,scale:0},animate:{x:[0,(Math.random()-.5)*l],y:[0,(Math.random()-.5)*l],opacity:[0,1,0],scale:[0,1,0]},transition:{duration:1.5,repeat:1/0,delay:h*.2,ease:"easeOut"}},h))})]}),n&&s&&o.jsx(H.div,{className:"mt-4 max-w-[280px]",initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:.2,duration:.3},children:o.jsxs("div",{className:"relative px-5 py-3 rounded-2xl text-center",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.2) 0%, rgba(109,40,217,0.15) 100%)",border:"1px solid rgba(139,92,246,0.3)",backdropFilter:"blur(10px)"},children:[o.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 rotate-45",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.2) 0%, rgba(109,40,217,0.15) 100%)",borderLeft:"1px solid rgba(139,92,246,0.3)",borderTop:"1px solid rgba(139,92,246,0.3)"}}),o.jsx("p",{className:"text-white text-sm font-medium leading-relaxed relative z-10",children:n})]})})]})};let Dp=null;const Ps=()=>{if(typeof window>"u")return null;if(!Dp)try{Dp=new(window.AudioContext||window.webkitAudioContext)}catch{return console.warn("Web Audio API not supported"),null}return Dp},Os=()=>localStorage.getItem("ai_pod_sound_enabled")!=="false",Pp=()=>{if(!Os())return;const t=Ps();if(!t)return;const e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.type="sine",e.frequency.setValueAtTime(1200,t.currentTime),e.frequency.exponentialRampToValueAtTime(1800,t.currentTime+.1),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),e.start(t.currentTime),e.stop(t.currentTime+.2)},S1=()=>{if(!Os())return;const t=Ps();if(!t)return;const e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.type="sine",e.frequency.setValueAtTime(523,t.currentTime),e.frequency.setValueAtTime(659,t.currentTime+.1),e.frequency.setValueAtTime(784,t.currentTime+.2),n.gain.setValueAtTime(.2,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)},N1=()=>{if(!Os())return;const t=Ps();if(!t)return;[523,659,784,1047].forEach((n,s)=>{const a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.type="sine",a.frequency.setValueAtTime(n,t.currentTime+s*.1),l.gain.setValueAtTime(.25,t.currentTime+s*.1),l.gain.exponentialRampToValueAtTime(.01,t.currentTime+s*.1+.3),a.start(t.currentTime+s*.1),a.stop(t.currentTime+s*.1+.3)})},NI=()=>{if(!Os())return;const t=Ps();if(!t)return;const e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.type="sine",e.frequency.setValueAtTime(600,t.currentTime),e.frequency.setValueAtTime(800,t.currentTime+.1),n.gain.setValueAtTime(.25,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.15),e.start(t.currentTime),e.stop(t.currentTime+.15)},CI=()=>{if(!Os())return;const t=Ps();if(!t)return;const e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.type="sawtooth",e.frequency.setValueAtTime(200,t.currentTime),e.frequency.exponentialRampToValueAtTime(100,t.currentTime+.2),n.gain.setValueAtTime(.2,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),e.start(t.currentTime),e.stop(t.currentTime+.2)},AI=()=>{if(!Os())return;const t=Ps();if(!t)return;[392,523,659,784].forEach((n,s)=>{const a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.type="triangle",a.frequency.setValueAtTime(n,t.currentTime+s*.08),l.gain.setValueAtTime(.2,t.currentTime+s*.08),l.gain.exponentialRampToValueAtTime(.01,t.currentTime+s*.08+.25),a.start(t.currentTime+s*.08),a.stop(t.currentTime+s*.08+.25)})},RI=()=>{if(!Os())return;const t=Ps();if(!t)return;const e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.type="sine",e.frequency.setValueAtTime(440,t.currentTime),e.frequency.exponentialRampToValueAtTime(880,t.currentTime+.15),e.frequency.exponentialRampToValueAtTime(1320,t.currentTime+.3),n.gain.setValueAtTime(.2,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.35),e.start(t.currentTime),e.stop(t.currentTime+.35)},II=()=>{if(!Os())return;const t=Ps();if(!t)return;const e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.type="sine",e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(1e3,t.currentTime+.05),e.frequency.setValueAtTime(1200,t.currentTime+.1),n.gain.setValueAtTime(.25,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.2),e.start(t.currentTime),e.stop(t.currentTime+.2)},jI=()=>{if(!Os())return;const t=Ps();if(!t)return;const e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.type="sine",e.frequency.setValueAtTime(1e3,t.currentTime),n.gain.setValueAtTime(.1,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.05),e.start(t.currentTime),e.stop(t.currentTime+.05)},MI=()=>{if(!Os())return;const t=Ps();if(!t)return;[523,784,1047,1319,1568].forEach((n,s)=>{const a=t.createOscillator(),l=t.createGain();a.connect(l),l.connect(t.destination),a.type="sine",a.frequency.setValueAtTime(n,t.currentTime+s*.06),l.gain.setValueAtTime(.15,t.currentTime+s*.06),l.gain.exponentialRampToValueAtTime(.01,t.currentTime+s*.06+.2),a.start(t.currentTime+s*.06),a.stop(t.currentTime+s*.06+.2)})},kI=({task:t,isOpen:e,userInterest:n,isPreviouslyCompleted:s,onClose:a,onComplete:l})=>{const[u,d]=O.useState(0),[p,h]=O.useState(5),[g,b]=O.useState("NONE"),[T,S]=O.useState(null),[j,N]=O.useState([]),[P,V]=O.useState(null),[D,k]=O.useState([]),[G,J]=O.useState([]),[K,te]=O.useState(null),[re,B]=O.useState([]),[oe,$]=O.useState(""),[ce,ee]=O.useState(null),[W,de]=O.useState(!1),Y=O.useRef(null),Z=t.slides&&t.slides.length>0?t.slides:[{id:"legacy",type:"THEORY",title:t.title,content:t.description,buttonText:""}],Q=Z[u],he=u/Z.length*100;O.useEffect(()=>{e&&(h(5),d(0),b("NONE"),Ee())},[e]),O.useEffect(()=>{if(Ee(),Q.type==="PUZZLE"){const Ze=[...Q.correctSentence,...Q.distractorWords||[]];k(Ze.sort(()=>Math.random()-.5)),J([])}},[u,Q]);const Ee=()=>{b("NONE"),S(null),N([]),V(null),te(null),B([]),$(""),ee(null),J([])},F=()=>{Di(),jI(),u<Z.length-1?d(Ze=>Ze+1):(ia(),AI(),l())},ne=()=>{ia(),NI(),b("CORRECT")},xe=()=>{C2(),CI(),b("WRONG"),h(Ze=>Math.max(0,Ze-1)),de(!0),setTimeout(()=>de(!1),500)},Ae=Ze=>{g!=="NONE"||Q.type!=="QUIZ"||(S(Ze),Ze===Q.correctIndex?ne():xe())},Ne=Ze=>{g!=="NONE"||Q.type!=="POLL"||(S(Ze),ne())},Me=(Ze,Xt)=>{Q.type==="SORTING"&&(P||Ze&&(A2(),V(Xt),setTimeout(()=>{if(Ze.category===Xt){const et=[...j,Ze];N(et),V(null),et.length===Q.items.length&&ne()}else xe(),V(null)},300),setTimeout(()=>{V(et=>et===Xt?null:et)},1e3)))},Qe=Ze=>{Y.current=Ze.targetTouches[0].clientX},it=Ze=>{if(!Y.current)return;const et=Ze.changedTouches[0].clientX-Y.current,De=Q.type==="SORTING"?Q.items.filter(nn=>!j.find(sn=>sn.id===nn.id))[0]:null;De&&Math.abs(et)>50&&Me(De,et>0?"RIGHT":"LEFT"),Y.current=null},ut=(Ze,Xt)=>{g==="NONE"&&(Xt?(k(et=>{const De=et.indexOf(Ze);if(De>-1){const nn=[...et];return nn.splice(De,1),nn}return et}),J(et=>[...et,Ze])):(J(et=>{const De=et.indexOf(Ze);if(De>-1){const nn=[...et];return nn.splice(De,1),nn}return et}),k(et=>[...et,Ze])))},gt=()=>{if(Q.type!=="PUZZLE")return;const Ze=G.join(" "),Xt=Q.correctSentence.join(" ");Ze===Xt?ne():xe()},Ft=(Ze,Xt)=>{if(Q.type==="MATCHING")if(Xt==="LEFT")te(Ze.id);else{if(!K)return;if(K===Ze.id){const et=[...re,Ze.id];B(et),te(null),et.length===Q.pairs.length&&ne()}else xe(),te(null)}},st=()=>{Q.type==="INPUT"&&(oe.length<(Q.minLength||3)||ne())},mt=Ze=>{ee(Ze),ne()},At=Ze=>{switch(Ze){case"brain":return o.jsx(fI,{isActive:!0});case"dopamine":return o.jsx(hI,{});case"focus":return o.jsx(pI,{});case"battery":return o.jsx(mI,{level:70});case"sleep":return o.jsx(gI,{});case"boss":return o.jsx(_1,{defeated:!1});case"boss_defeated":return o.jsx(_1,{defeated:!0});case"reward":return o.jsx(yI,{amount:50});case"katya":case"katya_idle":return o.jsx(Qr,{state:"idle",size:"lg"});case"katya_talking":return o.jsx(Qr,{state:"talking",size:"lg",message:"!   ! "});case"katya_happy":return o.jsx(Qr,{state:"happy",size:"lg",message:"!  ! "});case"katya_thinking":return o.jsx(Qr,{state:"thinking",size:"lg",message:",  ..."});case"katya_waving":return o.jsx(Qr,{state:"waving",size:"lg",message:"!    "});case"katya_encouraging":return o.jsx(Qr,{state:"encouraging",size:"lg",message:" !    ! "});case"katya_celebrating":return o.jsx(Qr,{state:"celebrating",size:"lg",message:"!  ! "});default:return null}},jt=()=>{var Ze,Xt;switch(Q.type){case"THEORY":const et=At(Q.animation);return o.jsxs(H.div,{className:"flex flex-col h-full justify-center p-6 text-center space-y-6 overflow-y-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-to-tr from-indigo-500 to-purple-600 rounded-full blur-[60px] opacity-50 absolute top-20 left-1/2 -translate-x-1/2 pointer-events-none"}),et&&o.jsx(H.div,{className:"relative z-10 mb-2",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:.2},children:et}),o.jsx(H.h3,{className:"text-2xl font-black text-white relative z-10 drop-shadow-xl tracking-tight leading-tight",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:et?.4:.1},children:Q.title}),o.jsx(H.div,{className:"glass-panel p-6 rounded-[2rem] border border-white/10 shadow-[0_20px_50px_rgba(0,0,0,0.3)] relative z-10 backdrop-blur-2xl bg-white/5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:et?.6:.3},children:o.jsx("p",{className:"text-indigo-50 text-base leading-relaxed font-medium whitespace-pre-line",children:Q.content})}),Q.tips&&o.jsx(H.div,{className:"space-y-3 relative z-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.8},children:Q.tips.map((lt,M)=>o.jsxs(H.div,{className:"flex items-center gap-3 bg-gradient-to-r from-indigo-500/20 to-purple-500/20 px-4 py-3 rounded-2xl border border-indigo-500/30",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.9+M*.1},children:[o.jsx("div",{className:"w-8 h-8 bg-indigo-500 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Hn,{className:"w-4 h-4 text-white"})}),o.jsx("p",{className:"text-sm text-indigo-100 font-medium text-left",children:lt})]},M))}),Q.imageUrl&&o.jsxs(H.div,{className:"relative rounded-[2rem] overflow-hidden border border-white/20 shadow-2xl group mx-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5},children:[o.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 mix-blend-overlay group-hover:bg-transparent transition-all"}),o.jsx("img",{src:Q.imageUrl,className:"w-full h-48 object-cover",alt:""})]})]});case"VIDEO":const De=((Xt=(Ze=Q.videoUrl)==null?void 0:Ze.split("/embed/"))==null?void 0:Xt[1])||"",nn=De?`https://img.youtube.com/vi/${De}/maxresdefault.jpg`:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=800&h=450&fit=crop";return o.jsxs("div",{className:"flex flex-col h-full p-6 animate-in fade-in duration-500 justify-center",children:[o.jsx("h3",{className:"text-2xl font-black text-white mb-4 text-center drop-shadow-md",children:Q.title||"-"}),o.jsxs("div",{className:"relative aspect-video rounded-[2rem] overflow-hidden border border-white/20 shadow-[0_20px_50px_rgba(0,0,0,0.5)] bg-black group",children:[o.jsx("img",{src:nn,alt:Q.title||"Video thumbnail",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity",onError:lt=>{lt.target.src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=800&h=450&fit=crop"}}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:o.jsx("a",{href:`https://www.youtube.com/watch?v=${De}`,target:"_blank",rel:"noopener noreferrer",className:"w-20 h-20 rounded-full bg-red-600 flex items-center justify-center hover:bg-red-500 transition-all hover:scale-110",children:o.jsx("svg",{className:"w-10 h-10 text-white ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M8 5v14l11-7z"})})})}),o.jsx("div",{className:"absolute top-4 right-4 bg-red-600 px-3 py-1 rounded-lg text-white text-xs font-bold",children:"YouTube"})]}),o.jsxs("div",{className:"mt-6 glass-panel p-5 rounded-3xl border border-white/5 bg-white/5 backdrop-blur-md",children:[o.jsx("p",{className:"text-slate-200 text-center text-sm font-medium leading-relaxed mb-3",children:Q.description}),o.jsxs("p",{className:"text-slate-400 text-center text-xs",children:[" ",Q.duration,"        YouTube"]})]})]});case"QUIZ":return o.jsxs("div",{className:"flex flex-col h-full p-6 animate-in slide-in-from-right-10 duration-500 justify-center",children:[o.jsx("div",{className:"bg-indigo-500/20 text-indigo-300 w-fit mx-auto px-5 py-1.5 rounded-full text-xs font-bold uppercase tracking-widest mb-6 border border-indigo-500/30 backdrop-blur-md",children:""}),o.jsx("h3",{className:"text-2xl font-black text-white mb-10 text-center leading-tight drop-shadow-md",children:Q.question}),o.jsx("div",{className:"space-y-4",children:Q.options.map((lt,M)=>{let E="bg-white/5 border-white/10 text-slate-200 hover:bg-white/10 hover:border-white/20";return T===M&&(g==="CORRECT"&&(E="bg-green-500/20 border-green-500 text-green-300 shadow-[0_0_30px_rgba(34,197,94,0.3)]"),g==="WRONG"&&(E="bg-red-500/20 border-red-500 text-red-300 shadow-[0_0_30px_rgba(239,68,68,0.3)]")),o.jsx("button",{onClick:()=>Ae(M),disabled:g!=="NONE",className:`w-full p-6 rounded-2xl border-2 font-bold text-left transition-all active:scale-[0.98] backdrop-blur-xl ${E}`,children:lt},M)})})]});case"POLL":return o.jsxs("div",{className:"flex flex-col h-full p-6 animate-in slide-in-from-right-10 duration-500 justify-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsxs("div",{className:"glass-panel px-4 py-2 rounded-full text-xs font-bold uppercase tracking-widest flex items-center gap-2 text-indigo-300 border border-indigo-500/30",children:[o.jsx(ES,{size:14}),"  "]})}),o.jsx("h3",{className:"text-2xl font-black text-white mb-8 text-center leading-tight",children:Q.question}),o.jsx("div",{className:"space-y-3",children:Q.options.map((lt,M)=>{const E=T===M;return o.jsxs("button",{onClick:()=>Ne(M),disabled:g!=="NONE",className:`w-full p-5 rounded-2xl border-2 font-bold text-left transition-all active:scale-[0.98] flex justify-between items-center backdrop-blur-xl
                                          ${E?"bg-indigo-600/30 border-indigo-400 text-white shadow-[0_0_30px_rgba(99,102,241,0.3)]":"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10"}
                                      `,children:[o.jsx("span",{children:lt}),E&&o.jsx(Ka,{size:20,className:"text-indigo-400"})]},M)})})]});case"SORTING":const sn=Q.items.filter(lt=>!j.find(M=>M.id===lt.id)),gn=sn[0],gi=sn[1];let Nt={};return P==="LEFT"?Nt={transform:"translateX(-150%) rotate(-20deg)",opacity:0}:P==="RIGHT"&&(Nt={transform:"translateX(150%) rotate(20deg)",opacity:0}),o.jsxs("div",{className:"flex flex-col h-full p-4 items-center justify-center relative overflow-hidden",children:[o.jsx("h3",{className:"text-lg font-bold text-white mb-4 text-center absolute top-4 z-20 w-full drop-shadow-md",children:Q.question}),o.jsxs("div",{className:"absolute inset-0 flex z-0",children:[o.jsx("div",{className:`w-1/2 h-full transition-colors duration-500 ${P==="LEFT"?"bg-rose-500/10":"bg-transparent"}`}),o.jsx("div",{className:`w-1/2 h-full transition-colors duration-500 ${P==="RIGHT"?"bg-emerald-500/10":"bg-transparent"}`})]}),o.jsxs("div",{className:"absolute top-16 w-full flex justify-between px-6 z-20",children:[o.jsx("div",{className:"glass-panel px-4 py-2 rounded-xl border border-rose-500/30 bg-rose-500/10 backdrop-blur-md shadow-lg transform -rotate-2",children:o.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-rose-300",children:Q.leftCategoryLabel})}),o.jsx("div",{className:"glass-panel px-4 py-2 rounded-xl border border-emerald-500/30 bg-emerald-500/10 backdrop-blur-md shadow-lg transform rotate-2",children:o.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-emerald-300",children:Q.rightCategoryLabel})})]}),gn?o.jsxs("div",{className:"relative w-full max-w-[320px] aspect-[3/4] mt-12 z-10 touch-none",onTouchStart:Qe,onTouchEnd:it,children:[gi&&o.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[#1E2332] border border-white/5 rounded-[2.5rem] transform scale-95 translate-y-4 opacity-50 z-0"}),o.jsxs("div",{className:"absolute inset-0 bg-[#1E2332]/90 border border-white/20 rounded-[2.5rem] flex flex-col items-center justify-center shadow-[0_30px_80px_rgba(0,0,0,0.6)] z-10 backdrop-blur-3xl transition-all duration-300 ease-out",style:Nt,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent rounded-[2.5rem] pointer-events-none"}),o.jsx("div",{className:"text-8xl mb-8 drop-shadow-[0_10px_30px_rgba(0,0,0,0.5)]",children:gn.emoji}),o.jsx("div",{className:"text-2xl font-black text-center px-8 leading-tight text-white drop-shadow-md",children:gn.text}),o.jsxs("div",{className:"absolute bottom-8 text-slate-500 flex items-center gap-2 text-xs font-bold uppercase tracking-widest opacity-60",children:[o.jsx(i5,{size:14}),"  "]})]})]}):o.jsxs("div",{className:"text-center animate-in zoom-in duration-500 z-20",children:[o.jsx("div",{className:"w-32 h-32 bg-gradient-to-tr from-green-400 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-[0_0_50px_rgba(16,185,129,0.5)]",children:o.jsx(Ka,{size:64,className:"text-white"})}),o.jsx("h2",{className:"text-3xl font-black text-white",children:" !"})]}),gn&&o.jsxs("div",{className:"w-full max-w-[340px] flex justify-between items-center mt-10 gap-6 z-20",children:[o.jsx("button",{onClick:()=>Me(gn,"LEFT"),className:"w-20 h-20 rounded-full bg-[#151925]/80 border-2 border-rose-500/50 text-rose-500 flex items-center justify-center hover:bg-rose-500 hover:text-white transition-all shadow-lg active:scale-95 group backdrop-blur-md",children:o.jsx(mi,{className:"group-hover:scale-125 transition-transform",size:32,strokeWidth:3})}),o.jsxs("div",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest bg-white/5 px-3 py-1 rounded-full",children:[j.length," / ",Q.items.length]}),o.jsx("button",{onClick:()=>Me(gn,"RIGHT"),className:"w-20 h-20 rounded-full bg-[#151925]/80 border-2 border-emerald-500/50 text-emerald-500 flex items-center justify-center hover:bg-emerald-500 hover:text-white transition-all shadow-lg active:scale-95 group backdrop-blur-md",children:o.jsx(dS,{className:"group-hover:scale-125 transition-transform",size:32,strokeWidth:3})})]})]});case"PUZZLE":return o.jsxs("div",{className:"flex flex-col h-full p-6 relative",children:[o.jsx("div",{className:"bg-purple-500/20 text-purple-300 w-fit mx-auto px-5 py-1.5 rounded-full text-xs font-bold uppercase tracking-widest mb-6 border border-purple-500/30 backdrop-blur-md",children:" "}),o.jsx("h3",{className:"text-xl font-bold text-white mb-6 text-center drop-shadow-sm leading-relaxed",children:Q.question}),o.jsxs("div",{className:"glass-panel min-h-[160px] rounded-[2rem] p-5 mb-8 border-2 border-dashed border-indigo-400/30 flex flex-wrap gap-2 items-start content-start bg-indigo-500/5 transition-colors relative shadow-inner",children:[G.length===0&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-indigo-200/40 font-bold uppercase tracking-widest text-xs pointer-events-none",children:"   ..."}),G.map((lt,M)=>o.jsx("button",{onClick:()=>ut(lt,!1),className:"px-4 py-2.5 bg-indigo-600 text-white rounded-xl font-bold text-sm shadow-[0_4px_15px_rgba(79,70,229,0.4)] hover:bg-red-500 transition-all animate-in zoom-in duration-200 hover:scale-95 border border-indigo-400",children:lt},M))]}),o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:D.map((lt,M)=>o.jsx("button",{onClick:()=>ut(lt,!0),className:"px-5 py-3 bg-[#1E2332]/80 backdrop-blur-xl border border-white/10 rounded-2xl font-bold text-slate-300 hover:bg-white/10 hover:text-white hover:border-indigo-500/50 hover:shadow-[0_0_20px_rgba(99,102,241,0.3)] transition-all active:scale-90 animate-in slide-in-from-bottom-2 duration-300",children:lt},M))})}),o.jsx("button",{onClick:()=>{J([]),k([...Q.correctSentence,...Q.distractorWords||[]].sort(()=>Math.random()-.5))},className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-white bg-white/5 rounded-full hover:bg-white/10 transition-colors",children:o.jsx(D5,{size:18})}),G.length>0&&g==="NONE"&&o.jsx("div",{className:"absolute bottom-4 left-6 right-6 z-20 animate-in slide-in-from-bottom-4 duration-300",children:o.jsx("button",{onClick:gt,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-black rounded-2xl uppercase tracking-[0.2em] shadow-[0_10px_40px_rgba(79,70,229,0.5)] transition-all active:scale-95 border border-white/20",children:""})})]});case"MATCHING":return o.jsxs("div",{className:"flex flex-col h-full p-6 justify-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-8 text-center drop-shadow-sm",children:Q.question}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-sm mx-auto",children:[o.jsx("div",{className:"space-y-3",children:Q.pairs.map(lt=>{const M=re.includes(lt.id),E=K===lt.id;return o.jsx("button",{disabled:M,onClick:()=>Ft(lt,"LEFT"),className:`w-full p-4 min-h-[80px] rounded-2xl border-2 text-xs font-bold transition-all relative overflow-hidden backdrop-blur-xl flex items-center justify-center text-center
                                                ${M?"opacity-0 pointer-events-none":E?"bg-indigo-600 border-indigo-400 text-white shadow-[0_0_30px_rgba(99,102,241,0.5)] scale-105 z-10":"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10"}
                                            `,children:lt.left},lt.id+"_left")})}),o.jsx("div",{className:"space-y-3",children:Q.pairs.map(lt=>{const M=re.includes(lt.id);return o.jsx("button",{disabled:M,onClick:()=>Ft(lt,"RIGHT"),className:`w-full p-4 min-h-[80px] rounded-2xl border-2 text-xs font-bold transition-all backdrop-blur-xl flex items-center justify-center text-center
                                                ${M?"opacity-0 pointer-events-none":"bg-white/5 border-white/10 text-slate-300 hover:bg-white/10"}
                                            `,children:lt.right},lt.id+"_right")})})]})]});case"INPUT":return o.jsxs("div",{className:"flex flex-col h-full p-6 justify-center",children:[o.jsxs("div",{className:"flex items-center gap-2 text-indigo-300 font-bold uppercase text-xs tracking-widest mb-6 px-2",children:[o.jsx(Hn,{size:14}),"  "]}),o.jsx("h3",{className:"text-2xl font-black text-white mb-6 leading-tight drop-shadow-md",children:Q.question}),o.jsxs("div",{className:"relative group",children:[o.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-[1.2rem] opacity-50 group-hover:opacity-100 transition duration-500 blur"}),o.jsx("textarea",{className:"relative w-full h-48 bg-[#0A0F1C]/90 backdrop-blur-xl rounded-2xl p-6 text-white placeholder:text-slate-600 focus:outline-none resize-none text-lg leading-relaxed border border-white/10",placeholder:Q.placeholder,value:oe,onChange:lt=>$(lt.target.value)})]}),o.jsxs("div",{className:"flex justify-between items-center mt-4 px-2",children:[o.jsxs("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:[". ",Q.minLength||3," "]}),o.jsxs("div",{className:`text-xs font-bold ${oe.length>=(Q.minLength||3)?"text-green-500":"text-slate-600"}`,children:[oe.length," / ",Q.minLength||3]})]})]});case"GAME":return g==="CORRECT"?o.jsxs("div",{className:"flex flex-col h-full items-center justify-center p-6 text-center animate-in zoom-in duration-500",children:[o.jsxs("div",{className:"relative mb-10",children:[o.jsx("div",{className:"absolute inset-0 bg-yellow-500 blur-[80px] opacity-40"}),o.jsx(Ds,{size:100,className:"text-yellow-400 drop-shadow-[0_10px_40px_rgba(250,204,21,0.6)] relative z-10",fill:"currentColor"})]}),o.jsx("h3",{className:"text-4xl font-black text-white mb-2",children:"!"}),o.jsxs("p",{className:"text-indigo-200 text-lg font-medium mb-12",children:[" : ",o.jsx("span",{className:"text-white font-bold text-2xl",children:ce})]}),o.jsx("div",{className:"glass-panel px-6 py-4 rounded-2xl border border-white/10 bg-white/5 animate-pulse",children:o.jsx("p",{className:"text-slate-300 text-sm font-bold uppercase tracking-wider",children:' "" '})})]}):o.jsxs("div",{className:"flex flex-col h-full p-2 rounded-[2.5rem] overflow-hidden relative",children:[Q.gameType==="FOCUS_DEFENDER"&&o.jsx(cI,{config:Q,onComplete:mt}),Q.gameType==="NEURO_MATCH"&&o.jsx(uI,{config:Q,onComplete:mt}),Q.gameType==="REACTION_TIME"&&o.jsx(dI,{onComplete:mt}),Q.gameType==="BUBBLE_POP"&&o.jsx(bI,{onComplete:mt,duration:Q.durationSeconds||30,targetScore:Q.targetScore||10}),Q.gameType==="EMOTION_MATCH"&&o.jsx(wI,{onComplete:mt}),Q.gameType==="BREATH_SYNC"&&o.jsx(_I,{onComplete:mt,cycles:3}),Q.gameType==="THERMITE_GRID"&&o.jsx(EI,{onComplete:mt,rows:5,cols:5,targetScore:Q.targetScore||12,duration:Q.durationSeconds||45})]});default:return null}};return e?o.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-[#020617]/60 backdrop-blur-xl animate-in fade-in duration-300",children:o.jsxs("div",{className:`w-full h-full sm:max-w-md sm:h-[90vh] bg-[#0A0F1C]/90 backdrop-blur-3xl sm:rounded-[3rem] flex flex-col relative overflow-hidden shadow-2xl ring-1 ring-white/10 ${W?"animate-[shake_0.5s_ease-in-out]":""}`,children:[o.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[o.jsx("div",{className:"absolute top-[-10%] left-[-20%] w-[100%] h-[60%] bg-indigo-600/30 rounded-full blur-[120px] animate-[pulse_8s_infinite]"}),o.jsx("div",{className:"absolute bottom-[-10%] right-[-20%] w-[100%] h-[60%] bg-purple-600/30 rounded-full blur-[120px] animate-[pulse_10s_infinite_reverse]"})]}),o.jsxs("div",{className:"px-6 pt-4 pb-4 flex items-center gap-4 relative z-10 bg-gradient-to-b from-[#0A0F1C] to-transparent",children:[o.jsx("button",{onClick:a,className:"w-10 h-10 rounded-full bg-white/10 backdrop-blur-xl flex items-center justify-center text-slate-300 hover:bg-white/20 hover:text-white transition-colors border border-white/10",children:o.jsx(mi,{size:20})}),o.jsx("div",{className:"flex-1 h-2 bg-slate-800/50 rounded-full overflow-hidden backdrop-blur-sm border border-white/5",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-700 ease-out shadow-[0_0_15px_rgba(99,102,241,0.6)] ${t.isBoss?"bg-red-500":"bg-indigo-500"}`,style:{width:`${he}%`},children:o.jsx("div",{className:"absolute inset-0 bg-white/20 animate-[pulse_2s_infinite]"})})}),o.jsxs("div",{className:`flex items-center gap-1.5 font-bold font-mono text-lg glass-panel px-3 py-1 rounded-full border bg-white/5 backdrop-blur-md ${t.isBoss?"text-red-400 border-red-500/30":"text-rose-400 border-rose-500/30"}`,children:[t.isBoss?o.jsx($w,{size:18}):o.jsx(Ni,{fill:"currentColor",size:18}),p]})]}),o.jsx("div",{className:"flex-1 relative overflow-y-auto z-10 scrollbar-hide",children:jt()}),o.jsxs("div",{className:`p-6 border-t border-white/5 bg-[#0A0F1C]/80 backdrop-blur-3xl transition-all duration-300 relative z-20 
            ${g==="CORRECT"?"bg-green-900/20 border-t-green-500/30":""} 
            ${g==="WRONG"?"bg-red-900/20 border-t-red-500/30":""}
        `,children:[g==="CORRECT"&&Q.type!=="GAME"&&o.jsxs("div",{className:"flex items-center gap-4 mb-6 text-green-400 font-bold animate-in slide-in-from-bottom-4 duration-300",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/20 flex items-center justify-center border border-green-500/50 shadow-[0_0_30px_rgba(34,197,94,0.4)]",children:o.jsx(Ka,{size:24})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg leading-tight",children:"!"}),Q.type==="POLL"?o.jsx("div",{className:"text-xs text-green-300/60 font-medium mt-0.5",children:" "}):Q.type==="QUIZ"&&Q.explanation?o.jsx("div",{className:"text-xs text-green-300/80 font-medium mt-0.5 leading-snug",children:Q.explanation}):null]})]}),g==="WRONG"&&o.jsxs("div",{className:"flex items-center gap-4 mb-6 text-red-400 font-bold animate-in slide-in-from-bottom-4 duration-300",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center border border-red-500/50 shadow-[0_0_30px_rgba(239,68,68,0.4)]",children:o.jsx(kS,{size:24})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg leading-tight",children:""}),o.jsx("div",{className:"text-xs text-red-300/60 font-medium mt-0.5",children:"  "})]})]}),g==="NONE"?Q.type==="INPUT"?o.jsx("button",{onClick:st,disabled:oe.length<(Q.minLength||3),className:"w-full bg-indigo-600 disabled:bg-slate-800 disabled:text-slate-600 disabled:shadow-none text-white font-black py-4 rounded-2xl uppercase tracking-[0.2em] transition-all shadow-[0_10px_40px_rgba(79,70,229,0.4)] hover:shadow-[0_15px_50px_rgba(79,70,229,0.6)] hover:scale-[1.02] active:scale-[0.98]",children:""}):Q.type==="GAME"?o.jsx("div",{className:"text-center text-[10px] text-slate-500 font-bold uppercase tracking-widest bg-white/5 py-3 rounded-xl border border-white/5",children:"  "}):Q.type==="PUZZLE"||Q.type==="SORTING"?null:Q.type==="THEORY"||Q.type==="VIDEO"?o.jsxs("button",{onClick:F,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-black py-4 rounded-2xl uppercase tracking-[0.2em] transition-all shadow-[0_10px_40px_rgba(79,70,229,0.4)] hover:shadow-[0_15px_50px_rgba(79,70,229,0.6)] hover:scale-[1.02] active:scale-[0.98] group relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),Q.type==="THEORY"&&Q.buttonText?Q.buttonText:""]}):o.jsx("button",{disabled:!0,className:"w-full bg-slate-800/50 text-slate-600 font-bold py-4 rounded-2xl uppercase tracking-[0.2em] cursor-not-allowed border border-white/5",children:" "}):o.jsxs("button",{onClick:g==="CORRECT"?F:()=>b("NONE"),className:`w-full font-black py-4 rounded-2xl uppercase tracking-[0.2em] transition-all active:scale-[0.98] shadow-lg relative overflow-hidden group
                        ${g==="CORRECT"?"bg-green-500 hover:bg-green-400 text-white shadow-green-900/50":"bg-red-500 hover:bg-red-400 text-white shadow-red-900/50"}
                    `,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),g==="CORRECT"?"":" "]})]})]})}):null},DI=({task:t,isOpen:e,onClose:n,onComplete:s})=>{const[a,l]=O.useState(0),[u,d]=O.useState(!0),[p,h]=O.useState(!1),[g,b]=O.useState(!1),[T,S]=O.useState([]),[j,N]=O.useState([]),[P,V]=O.useState(0),[D,k]=O.useState(!1),[G,J]=O.useState([]),[K,te]=O.useState(0),[re,B]=O.useState(!1),[oe,$]=O.useState(0),ce=O.useRef(null),ee=S2(0);Q4(ee,[-100,0,100],[.5,1,.5]);const W=t.slides||[],de=W[a],Y=W.length;O.useEffect(()=>{e&&(l(0),S(new Array(W.length).fill(!1)),N(new Array(W.length).fill(!1)),J(new Array(W.length).fill(!1)),V(0),te(0),$(0))},[e,W.length]),O.useEffect(()=>{if(!de||de.type!=="THEORY")return;const ne=1e4,xe=50;let Ae=0;const Ne=setInterval(()=>{Ae+=xe,V(Ae/ne*100),Ae>=ne&&clearInterval(Ne)},xe);return()=>clearInterval(Ne)},[a,de]);const Z=O.useCallback(ne=>{A2(),ne==="up"&&a<Y-1?(l(xe=>xe+1),V(0)):ne==="down"&&a>0?(l(xe=>xe-1),V(0)):ne==="up"&&a===Y-1&&(ia(),s())},[a,Y,s]),Q=(ne,xe)=>{xe.offset.y<-50?Z("up"):xe.offset.y>50&&Z("down")};O.useEffect(()=>{if(!e)return;const ne=xe=>{switch(xe.key){case"ArrowUp":case" ":xe.preventDefault(),Z("up");break;case"ArrowDown":xe.preventDefault(),Z("down");break;case"Escape":xe.preventDefault(),n();break}};return window.addEventListener("keydown",ne),()=>window.removeEventListener("keydown",ne)},[e,Z,n]);const he=()=>{const ne=[...T];ne[a]=!0,S(ne),k(!0),setTimeout(()=>k(!1),1e3)},Ee=(ne=10)=>{const xe=[...G];xe[a]||(xe[a]=!0,J(xe),te(Ae=>Ae+ne),$(Ae=>Ae+1),B(!0),setTimeout(()=>B(!1),1500))};if(!e)return null;const F=()=>{if(t.isBoss)return"from-red-900/95 via-orange-900/90 to-black";switch(de==null?void 0:de.type){case"THEORY":return"from-indigo-900/95 via-purple-900/90 to-black";case"QUIZ":return"from-amber-900/95 via-orange-900/90 to-black";case"GAME":return"from-emerald-900/95 via-green-900/90 to-black";case"VIDEO":return"from-rose-900/95 via-pink-900/90 to-black";case"SORTING":return"from-cyan-900/95 via-blue-900/90 to-black";case"INPUT":return"from-violet-900/95 via-purple-900/90 to-black";default:return"from-slate-900/95 via-gray-900/90 to-black"}};return o.jsx("div",{className:"fixed inset-0 z-[100] bg-black",children:o.jsxs(H.div,{ref:ce,className:"w-full h-full relative overflow-hidden will-change-transform",drag:"y",dragConstraints:{top:0,bottom:0},dragElastic:.1,dragTransition:{bounceStiffness:600,bounceDamping:30},onDragEnd:Q,style:{y:ee},onDoubleClick:he,children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${F()}`}),o.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute w-[400px] h-[400px] rounded-full opacity-30",style:{background:"radial-gradient(circle, rgba(139,92,246,0.4) 0%, transparent 70%)",top:"-150px",right:"-150px"}}),o.jsx("div",{className:"absolute w-[300px] h-[300px] rounded-full opacity-30",style:{background:"radial-gradient(circle, rgba(236,72,153,0.4) 0%, transparent 70%)",bottom:"-100px",left:"-100px"}})]})]}),o.jsxs("div",{className:"absolute top-0 left-0 right-0 z-50 safe-area-top",children:[o.jsx("div",{className:"flex gap-1 px-3 pt-3",children:W.map((ne,xe)=>o.jsx("div",{className:"flex-1 h-1.5 bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:`h-full rounded-full transition-all duration-100 ease-out ${G[xe]?"bg-gradient-to-r from-green-400 to-emerald-500":"bg-gradient-to-r from-white/80 to-white"}`,style:{width:xe<a?"100%":xe===a?`${P}%`:"0%"}})},xe))}),o.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>a>0?Z("down"):n(),className:"w-9 h-9 rounded-xl bg-white/10 backdrop-blur-xl border border-white/20 flex items-center justify-center hover:bg-white/20 transition-colors",children:o.jsx(Fw,{size:18,className:"text-white"})}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-white/60 text-xs font-medium",children:[a+1,"/",Y]}),oe>1&&o.jsxs("span",{className:"px-2 py-0.5 rounded-full bg-gradient-to-r from-orange-500 to-red-500 text-white text-[10px] font-bold",children:[" x",oe]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:`px-2.5 py-1 rounded-full bg-white/10 backdrop-blur-xl border border-white/20 flex items-center gap-1.5 transition-transform duration-200 ${re?"scale-110":"scale-100"}`,children:[o.jsx(ni,{size:12,className:"text-yellow-400"}),o.jsxs("span",{className:"text-white font-bold text-xs",children:["+",K]})]}),o.jsx("button",{onClick:n,className:"w-9 h-9 rounded-xl bg-white/10 backdrop-blur-xl border border-white/20 flex items-center justify-center hover:bg-white/20 transition-colors",children:o.jsx(mi,{size:18,className:"text-white"})})]})]})]}),o.jsx(Et,{mode:"wait",initial:!1,children:o.jsx(H.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.15,ease:"easeOut"},className:"absolute inset-0 flex flex-col justify-center items-center px-5 pt-28 pb-36 will-change-transform",children:o.jsx(PI,{slide:de,onComplete:Ee,onNext:()=>Z("up"),task:t})},a)}),o.jsx("div",{className:"absolute bottom-6 left-0 right-0 flex flex-col items-center z-50",children:o.jsx("div",{className:"flex flex-col items-center animate-bounce-slow",children:o.jsxs("div",{className:"px-4 py-2 rounded-full bg-white/10 backdrop-blur-xl border border-white/20 flex items-center gap-2",children:[o.jsx(jS,{size:18,className:"text-white/80"}),o.jsx("span",{className:"text-white/80 text-sm font-medium",children:a===Y-1?" ":" "})]})})}),o.jsx(Et,{children:D&&o.jsx(H.div,{initial:{scale:0,opacity:0},animate:{scale:1.5,opacity:1},exit:{scale:2,opacity:0},className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[60]",children:o.jsx(Ni,{size:100,className:"text-red-500 fill-red-500"})})}),o.jsx(Et,{children:re&&o.jsx(H.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none z-[60]",children:o.jsx("div",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-yellow-500 to-orange-500 shadow-2xl",children:o.jsx("span",{className:"text-white font-black text-2xl",children:"+10 XP"})})})})]})})},PI=({slide:t,onComplete:e,onNext:n,task:s})=>{if(!t)return null;switch(t.type){case"THEORY":return o.jsx(C1,{slide:t,onNext:n,task:s});case"QUIZ":return o.jsx(OI,{slide:t,onComplete:e,onNext:n});case"POLL":return o.jsx(LI,{slide:t,onComplete:e,onNext:n});case"VIDEO":return o.jsx(UI,{slide:t,onNext:n});case"SORTING":return o.jsx(VI,{slide:t,onComplete:e,onNext:n});case"INPUT":return o.jsx(zI,{slide:t,onComplete:e,onNext:n});case"MATCHING":return o.jsx(FI,{slide:t,onComplete:e,onNext:n});case"PUZZLE":return o.jsx(HI,{slide:t,onComplete:e,onNext:n});case"GAME":return o.jsx(BI,{slide:t,onComplete:e,onNext:n});default:return o.jsx(C1,{slide:t,onNext:n,task:s})}},C1=({slide:t,onNext:e,task:n})=>{const[s,a]=O.useState(!1),[l,u]=O.useState(""),d=t.content||"";O.useEffect(()=>{u(""),a(!1);let h=0;const g=setInterval(()=>{h<d.length?(u(d.slice(0,h+1)),h++):(clearInterval(g),a(!0))},15);return()=>clearInterval(g)},[d]);const p=()=>{switch(t.animation){case"brain":return o.jsx(H.div,{animate:{scale:[1,1.05,1],rotate:[0,3,-3,0]},transition:{duration:4,repeat:1/0},className:"w-36 h-36 rounded-[2rem] bg-gradient-to-br from-indigo-500/40 to-purple-600/40 flex items-center justify-center mb-6 backdrop-blur-xl border border-white/20 shadow-2xl",children:o.jsx(H.div,{animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},children:o.jsx(fs,{size:72,className:"text-indigo-300"})})});case"dopamine":return o.jsx(H.div,{animate:{y:[0,-8,0]},transition:{duration:2,repeat:1/0},className:"w-36 h-36 rounded-[2rem] bg-gradient-to-br from-amber-500/40 to-orange-600/40 flex items-center justify-center mb-6 backdrop-blur-xl border border-white/20 shadow-2xl",children:o.jsx(H.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},children:o.jsx(ni,{size:72,className:"text-amber-300"})})});case"focus":return o.jsx(H.div,{animate:{scale:[1,1.08,1]},transition:{duration:3,repeat:1/0},className:"w-36 h-36 rounded-[2rem] bg-gradient-to-br from-green-500/40 to-emerald-600/40 flex items-center justify-center mb-6 backdrop-blur-xl border border-white/20 shadow-2xl",children:o.jsx(H.div,{animate:{rotate:[0,360]},transition:{duration:10,repeat:1/0,ease:"linear"},children:o.jsx(Ui,{size:72,className:"text-green-300"})})});case"battery":return o.jsx(H.div,{className:"w-36 h-36 rounded-[2rem] bg-gradient-to-br from-emerald-500/40 to-teal-600/40 flex items-center justify-center mb-6 backdrop-blur-xl border border-white/20 shadow-2xl",children:o.jsx(H.div,{animate:{scale:[1,1.1,1],opacity:[.8,1,.8]},transition:{duration:2,repeat:1/0},children:o.jsx(Vw,{size:72,className:"text-emerald-300"})})});case"katya_waving":return o.jsx(H.div,{animate:{rotate:[-3,3,-3]},transition:{duration:3,repeat:1/0},className:"mb-6",children:o.jsx(Qr,{state:"waving",size:"lg"})});default:return null}};return o.jsxs("div",{className:"w-full max-w-md text-center",children:[p(),o.jsx(H.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-3xl font-black text-white mb-6",style:{textShadow:"0 0 40px rgba(255,255,255,0.3), 0 0 80px rgba(139,92,246,0.3)"},children:t.title}),o.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"text-lg text-white/90 leading-relaxed whitespace-pre-line",children:[l,!s&&o.jsx(H.span,{className:"inline-block w-0.5 h-5 bg-white/80 ml-0.5",animate:{opacity:[1,0,1]},transition:{duration:.8,repeat:1/0}})]}),s&&t.tips&&o.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8 space-y-3",children:t.tips.map((h,g)=>o.jsxs(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4+g*.15},className:"flex items-center gap-3 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl px-4 py-3 shadow-lg",children:[o.jsx(H.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:g*.3},children:o.jsx(Hn,{size:18,className:"text-yellow-400 shrink-0"})}),o.jsx("span",{className:"text-white/90 text-sm text-left font-medium",children:h})]},g))})]})},OI=({slide:t,onComplete:e,onNext:n})=>{const[s,a]=O.useState(null),[l,u]=O.useState(!1),d=t.correctIndex,p=t.options||[],h=t.explanation||"",g=b=>{l||(a(b),u(!0),e(b===d?20:5))};return o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx(H.div,{initial:{scale:0,rotate:-10},animate:{scale:1,rotate:0},className:"flex items-center justify-center gap-2 mb-6",children:o.jsxs("div",{className:"px-5 py-2.5 rounded-2xl bg-gradient-to-r from-amber-500 to-orange-500 flex items-center gap-2 shadow-lg shadow-orange-500/30",children:[o.jsx(H.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},children:o.jsx(ni,{size:18,className:"text-white"})}),o.jsx("span",{className:"text-white font-black text-sm tracking-wide",children:""})]})}),o.jsx(H.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-white text-center mb-8",style:{textShadow:"0 0 30px rgba(255,255,255,0.2)"},children:t.question}),o.jsx("div",{className:"space-y-3",children:p.map((b,T)=>{let S="bg-white/10 border-white/20",j="text-white";return l?T===d?(S="bg-green-500/30 border-green-400",j="text-green-300"):T===s&&T!==d&&(S="bg-red-500/30 border-red-400",j="text-red-300"):T===s&&(S="bg-indigo-500/30 border-indigo-400"),o.jsx(H.button,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:T*.1},whileHover:l?{}:{scale:1.02,x:5},whileTap:l?{}:{scale:.98},onClick:()=>g(T),disabled:l,className:`w-full p-4 rounded-2xl border-2 backdrop-blur-xl transition-all shadow-lg ${S}`,children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(H.div,{className:`w-10 h-10 rounded-xl flex items-center justify-center text-sm font-black ${l&&T===d?"bg-green-500 text-white":l&&T===s&&T!==d?"bg-red-500 text-white":"bg-white/20 text-white/80"}`,animate:l&&T===d?{scale:[1,1.2,1]}:{},children:String.fromCharCode(65+T)}),o.jsx("span",{className:`text-left font-semibold ${j}`,children:b}),l&&T===d&&o.jsx(H.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:o.jsx(Ka,{size:24,className:"text-green-400"})})]})},T)})}),o.jsx(Et,{children:l&&o.jsx(H.div,{initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20},className:`mt-6 p-5 rounded-2xl backdrop-blur-xl border ${s===d?"bg-green-500/20 border-green-400/30":"bg-red-500/20 border-red-400/30"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(H.span,{className:"text-3xl",animate:{scale:[1,1.2,1]},transition:{duration:.5},children:s===d?"":""}),o.jsxs("div",{children:[o.jsx("p",{className:`font-black text-lg ${s===d?"text-green-300":"text-red-300"}`,children:s===d?"! +20 XP":" ... +5 XP"}),o.jsx("p",{className:"text-white/80 text-sm mt-1 leading-relaxed",children:h})]})]})})})]})},LI=({slide:t,onComplete:e,onNext:n})=>{const[s,a]=O.useState(null),[l,u]=O.useState(!1),[d,p]=O.useState([]),h=t.options||[];O.useEffect(()=>{p(h.map(()=>Math.floor(Math.random()*80)+20))},[h.length]);const g=T=>{if(l)return;a(T),u(!0);const S=[...d];S[T]+=1,p(S),e(10)},b=d.reduce((T,S)=>T+S,0);return o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx(H.div,{initial:{scale:0,rotate:10},animate:{scale:1,rotate:0},className:"flex items-center justify-center gap-2 mb-6",children:o.jsxs("div",{className:"px-5 py-2.5 rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 flex items-center gap-2 shadow-lg shadow-purple-500/30",children:[o.jsx(H.div,{animate:{rotate:[0,360]},transition:{duration:4,repeat:1/0,ease:"linear"},children:o.jsx(Qi,{size:18,className:"text-white"})}),o.jsx("span",{className:"text-white font-black text-sm tracking-wide",children:""})]})}),o.jsx(H.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-white text-center mb-8",style:{textShadow:"0 0 30px rgba(255,255,255,0.2)"},children:t.question}),o.jsx("div",{className:"space-y-3",children:h.map((T,S)=>{const j=l?Math.round(d[S]/b*100):0,N=s===S;return o.jsxs(H.button,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:S*.1},whileHover:l?{}:{scale:1.02},whileTap:l?{}:{scale:.98},onClick:()=>g(S),disabled:l,className:`w-full p-4 rounded-2xl border-2 backdrop-blur-xl transition-all relative overflow-hidden shadow-lg ${N?"bg-purple-500/30 border-purple-400":"bg-white/10 border-white/20"}`,children:[l&&o.jsx(H.div,{initial:{width:0},animate:{width:`${j}%`},transition:{duration:.8,delay:.2,ease:"easeOut"},className:`absolute inset-y-0 left-0 ${N?"bg-gradient-to-r from-purple-500/40 to-pink-500/40":"bg-white/10"}`}),o.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[o.jsx("span",{className:"text-white font-semibold",children:T}),l&&o.jsxs(H.span,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5},className:"text-white font-black text-lg",children:[j,"%"]})]})]},S)})}),l&&o.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"flex items-center justify-center gap-2 mt-6",children:[o.jsx(Gm,{size:16,className:"text-white/50"}),o.jsxs("span",{className:"text-white/50 text-sm font-medium",children:[b," "]})]})]})},UI=({slide:t,onNext:e})=>o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx(H.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},className:"aspect-video rounded-3xl overflow-hidden border-2 border-white/20 shadow-2xl backdrop-blur-xl",children:o.jsx("iframe",{width:"100%",height:"100%",src:t.videoUrl,title:"Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-6 text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.title}),o.jsx("p",{className:"text-white/70",children:t.description}),o.jsx("div",{className:"flex items-center justify-center gap-2 mt-3",children:o.jsxs("div",{className:"px-3 py-1.5 rounded-full bg-white/10 backdrop-blur-xl border border-white/20 flex items-center gap-2",children:[o.jsx(ra,{size:14,className:"text-white/60"}),o.jsx("span",{className:"text-white/60 text-sm font-medium",children:t.duration})]})})]})]}),VI=({slide:t,onComplete:e,onNext:n})=>{var V,D,k,G,J,K;const[s,a]=O.useState([]),[l,u]=O.useState([]),[d,p]=O.useState([]),[h,g]=O.useState(!1),[b,T]=O.useState(0),S=t;O.useEffect(()=>{const te=[...S.items||[]].sort(()=>Math.random()-.5);a(te),u([]),p([]),g(!1),T(0)},[S.items]);const j=(te,re)=>{a(B=>B.filter(oe=>oe.id!==te.id)),re==="left"?u(B=>[...B,te]):p(B=>[...B,te])},N=()=>{let te=0;l.forEach(re=>{re.category==="LEFT"&&te++}),d.forEach(re=>{re.category==="RIGHT"&&te++}),T(te),g(!0),e(te*5)},P=((V=S.items)==null?void 0:V.length)||0;return o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx(H.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center gap-2 mb-4",children:o.jsx("div",{className:"px-4 py-2 rounded-2xl bg-gradient-to-r from-cyan-500 to-blue-500 flex items-center gap-2 shadow-lg",children:o.jsx("span",{className:"text-white font-black text-sm",children:" "})})}),o.jsx("h2",{className:"text-xl font-bold text-white text-center mb-4",children:S.question}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsxs(H.div,{className:"p-3 rounded-2xl bg-red-500/20 border-2 border-red-400/50 min-h-[120px]",whileHover:{scale:1.02},children:[o.jsx("p",{className:"text-red-300 font-bold text-sm mb-2 text-center",children:S.leftCategoryLabel}),o.jsx("div",{className:"space-y-2",children:l.map(te=>o.jsxs("div",{className:"px-3 py-2 bg-red-500/30 rounded-xl text-white text-sm",children:[te.emoji," ",te.text]},te.id))})]}),o.jsxs(H.div,{className:"p-3 rounded-2xl bg-green-500/20 border-2 border-green-400/50 min-h-[120px]",whileHover:{scale:1.02},children:[o.jsx("p",{className:"text-green-300 font-bold text-sm mb-2 text-center",children:S.rightCategoryLabel}),o.jsx("div",{className:"space-y-2",children:d.map(te=>o.jsxs("div",{className:"px-3 py-2 bg-green-500/30 rounded-xl text-white text-sm",children:[te.emoji," ",te.text]},te.id))})]})]}),!h&&s.length>0&&o.jsxs(H.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"p-4 rounded-2xl bg-white/10 backdrop-blur-xl border border-white/20 mb-4",children:[o.jsxs("p",{className:"text-white text-center text-lg font-medium mb-3",children:[(D=s[0])==null?void 0:D.emoji," ",(k=s[0])==null?void 0:k.text]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>j(s[0],"left"),className:"flex-1 py-3 rounded-xl bg-red-500/30 border border-red-400/50 text-red-300 font-bold hover:bg-red-500/50 transition-colors",children:[" ",(G=S.leftCategoryLabel)==null?void 0:G.split(" ")[0]]}),o.jsxs("button",{onClick:()=>j(s[0],"right"),className:"flex-1 py-3 rounded-xl bg-green-500/30 border border-green-400/50 text-green-300 font-bold hover:bg-green-500/50 transition-colors",children:[(J=S.rightCategoryLabel)==null?void 0:J.split(" ")[0]," "]})]})]},(K=s[0])==null?void 0:K.id),s.length===0&&!h&&o.jsx(H.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},onClick:N,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-lg shadow-lg",children:" "}),h&&o.jsxs(H.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-4 rounded-2xl ${b>=P*.7?"bg-green-500/20 border-green-400/50":"bg-orange-500/20 border-orange-400/50"} border`,children:[o.jsxs("p",{className:"text-center text-white font-bold text-lg",children:[b>=P*.7?" !":" !"," ",b,"/",P]}),o.jsxs("p",{className:"text-center text-white/70 text-sm mt-1",children:["+",b*5," XP"]})]})]})},zI=({slide:t,onComplete:e,onNext:n})=>{const[s,a]=O.useState(""),[l,u]=O.useState(!1),d=t,p=d.minLength||3,h=()=>{s.length>=p&&(u(!0),e(15))};return o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx(H.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center gap-2 mb-6",children:o.jsxs("div",{className:"px-4 py-2 rounded-2xl bg-gradient-to-r from-violet-500 to-purple-500 flex items-center gap-2 shadow-lg",children:[o.jsx(C5,{size:16,className:"text-white"}),o.jsx("span",{className:"text-white font-black text-sm",children:""})]})}),o.jsx(H.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-xl font-bold text-white text-center mb-6",children:d.question}),l?o.jsxs(H.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"p-6 rounded-2xl bg-green-500/20 border border-green-400/50 text-center",children:[o.jsx(H.div,{animate:{scale:[1,1.2,1]},transition:{duration:.5},className:"text-4xl mb-3",children:""}),o.jsx("p",{className:"text-green-300 font-bold text-lg",children:"! +15 XP"}),o.jsx("p",{className:"text-white/70 text-sm mt-2",children:"  "}),o.jsxs("div",{className:"mt-4 p-3 rounded-xl bg-white/10 text-white/80 text-sm text-left",children:['"',s,'"']})]}):o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[o.jsx("textarea",{value:s,onChange:g=>a(g.target.value),placeholder:d.placeholder,className:"w-full h-32 p-4 rounded-2xl bg-white/10 backdrop-blur-xl border-2 border-white/20 text-white placeholder:text-white/40 outline-none focus:border-purple-400 transition-colors resize-none"}),o.jsxs("div",{className:"flex items-center justify-between mt-3",children:[o.jsxs("span",{className:`text-sm ${s.length>=p?"text-green-400":"text-white/50"}`,children:[s.length,"/",p,"+ "]}),o.jsx(H.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:h,disabled:s.length<p,className:`px-6 py-3 rounded-2xl font-bold transition-all ${s.length>=p?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg":"bg-white/10 text-white/40"}`,children:""})]})]})]})},FI=({slide:t,onComplete:e,onNext:n})=>{const[s,a]=O.useState(null),[l,u]=O.useState({}),[d,p]=O.useState(!1),h=t,g=h.pairs||[],b=N=>{d||l[N]||a(N)},T=N=>{if(!s||d)return;const P={...l,[s]:N};u(P),a(null),Object.keys(P).length===g.length&&setTimeout(()=>{p(!0);const V=g.filter(D=>P[D.id]===D.right).length;e(V*5)},500)},S=Object.values(l),j=g.filter(N=>l[N.id]===N.right).length;return o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx(H.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center gap-2 mb-4",children:o.jsx("div",{className:"px-4 py-2 rounded-2xl bg-gradient-to-r from-teal-500 to-cyan-500 flex items-center gap-2 shadow-lg",children:o.jsx("span",{className:"text-white font-black text-sm",children:" "})})}),o.jsx("h2",{className:"text-lg font-bold text-white text-center mb-4",children:h.question}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("div",{className:"space-y-2",children:g.map(N=>o.jsx(H.button,{whileHover:l[N.id]?{}:{scale:1.02},whileTap:l[N.id]?{}:{scale:.98},onClick:()=>b(N.id),className:`w-full p-3 rounded-xl text-sm font-medium transition-all ${l[N.id]?d&&l[N.id]===N.right?"bg-green-500/30 border-green-400 text-green-300":d?"bg-red-500/30 border-red-400 text-red-300":"bg-purple-500/30 border-purple-400 text-purple-300":s===N.id?"bg-yellow-500/30 border-yellow-400 text-yellow-300":"bg-white/10 border-white/20 text-white"} border-2`,children:N.left},N.id))}),o.jsx("div",{className:"space-y-2",children:g.map(N=>o.jsx(H.button,{whileHover:S.includes(N.right)?{}:{scale:1.02},whileTap:S.includes(N.right)?{}:{scale:.98},onClick:()=>T(N.right),disabled:S.includes(N.right),className:`w-full p-3 rounded-xl text-sm font-medium transition-all ${S.includes(N.right)?"bg-purple-500/30 border-purple-400 text-purple-300":"bg-white/10 border-white/20 text-white hover:bg-white/20"} border-2`,children:N.right},N.id+"_right"))})]}),d&&o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`mt-4 p-4 rounded-2xl ${j===g.length?"bg-green-500/20 border-green-400/50":"bg-orange-500/20 border-orange-400/50"} border text-center`,children:[o.jsxs("p",{className:"text-white font-bold",children:[j===g.length?" !":" !"," ",j,"/",g.length]}),o.jsxs("p",{className:"text-white/70 text-sm",children:["+",j*5," XP"]})]})]})},HI=({slide:t,onComplete:e,onNext:n})=>{const s=t,a=s.correctSentence||[],l=s.distractorWords||[],[u,d]=O.useState([]),[p,h]=O.useState([]),[g,b]=O.useState(!1);O.useEffect(()=>{const P=[...a,...l].sort(()=>Math.random()-.5);d(P),h([]),b(!1)},[]);const T=P=>{g||(h([...p,P]),d(u.filter(V=>V!==P)))},S=(P,V)=>{if(g)return;const D=[...p];D.splice(V,1),h(D),d([...u,P])},j=()=>{b(!0);const P=p.join(" ")===a.join(" ");e(P?25:10)},N=p.join(" ")===a.join(" ");return o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx(H.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center gap-2 mb-4",children:o.jsx("div",{className:"px-4 py-2 rounded-2xl bg-gradient-to-r from-pink-500 to-rose-500 flex items-center gap-2 shadow-lg",children:o.jsx("span",{className:"text-white font-black text-sm",children:" "})})}),o.jsx("h2",{className:"text-lg font-bold text-white text-center mb-4",children:s.question}),o.jsxs("div",{className:"min-h-[80px] p-4 rounded-2xl bg-white/10 backdrop-blur-xl border-2 border-white/20 mb-4 flex flex-wrap gap-2",children:[p.map((P,V)=>o.jsx(H.button,{initial:{scale:0},animate:{scale:1},whileTap:{scale:.9},onClick:()=>S(P,V),className:`px-4 py-2 rounded-xl font-medium ${g?N?"bg-green-500/30 border-green-400 text-green-300":"bg-red-500/30 border-red-400 text-red-300":"bg-purple-500/30 border-purple-400 text-purple-300"} border`,children:P},V)),p.length===0&&o.jsx("span",{className:"text-white/40 text-sm",children:"   ..."})]}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-4 justify-center",children:u.map((P,V)=>o.jsx(H.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T(P),className:"px-4 py-2 rounded-xl bg-white/10 border border-white/20 text-white font-medium hover:bg-white/20 transition-colors",children:P},V))}),!g&&p.length>0&&o.jsx(H.button,{initial:{opacity:0},animate:{opacity:1},onClick:j,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold shadow-lg",children:""}),g&&o.jsxs(H.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`p-4 rounded-2xl ${N?"bg-green-500/20 border-green-400/50":"bg-orange-500/20 border-orange-400/50"} border text-center`,children:[o.jsx("p",{className:"text-white font-bold text-lg",children:N?" !":" !"}),o.jsxs("p",{className:"text-white/70 text-sm",children:["+",N?25:10," XP"]}),!N&&o.jsxs("p",{className:"text-white/60 text-xs mt-2",children:[": ",a.join(" ")]})]})]})},BI=({slide:t,onComplete:e,onNext:n})=>{var D;const[s,a]=O.useState(!1),[l,u]=O.useState(0),[d,p]=O.useState(30),[h,g]=O.useState(!1),[b,T]=O.useState([]),S=t,j=S.targetScore||5,N=S.durationSeconds||30;O.useEffect(()=>{if(s&&!h){const k=setInterval(()=>{p(G=>G<=1?(clearInterval(k),g(!0),e(l>=j?30:15),0):G-1)},1e3);return()=>clearInterval(k)}},[s,h]),O.useEffect(()=>{if(s&&!h){const G=setInterval(()=>{const J={id:Date.now(),x:Math.random()*80+10,y:Math.random()*60+20,type:Math.random()>.3?"bad":"good"};T(K=>[...K,J]),setTimeout(()=>{T(K=>K.filter(te=>te.id!==J.id))},2e3)},800);return()=>clearInterval(G)}},[s,h]);const P=k=>{T(G=>G.filter(J=>J.id!==k.id)),k.type==="bad"?u(G=>G+1):u(G=>Math.max(0,G-1))},V=()=>{a(!0),u(0),p(N),g(!1),T([])};if(!s)return o.jsxs("div",{className:"w-full max-w-md text-center",children:[o.jsx(H.div,{initial:{scale:0},animate:{scale:1},className:"w-24 h-24 mx-auto mb-6 rounded-3xl bg-gradient-to-br from-green-500/40 to-emerald-600/40 flex items-center justify-center backdrop-blur-xl border border-white/20",children:o.jsx(Ld,{size:48,className:"text-green-300"})}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:(D=S.gameType)==null?void 0:D.replace("_"," ")}),o.jsx("p",{className:"text-white/70 mb-6",children:S.instructions}),o.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[o.jsxs("div",{className:"px-4 py-2 rounded-xl bg-white/10 border border-white/20",children:[o.jsx("span",{className:"text-white/60 text-sm",children:":"}),o.jsxs("span",{className:"text-white font-bold ml-2",children:[j," "]})]}),o.jsxs("div",{className:"px-4 py-2 rounded-xl bg-white/10 border border-white/20",children:[o.jsx("span",{className:"text-white/60 text-sm",children:":"}),o.jsxs("span",{className:"text-white font-bold ml-2",children:[N,""]})]})]}),o.jsx(H.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:V,className:"px-8 py-4 rounded-2xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-bold text-lg shadow-lg shadow-green-500/30",children:"  "})]});if(h){const k=l>=j;return o.jsxs("div",{className:"w-full max-w-md text-center",children:[o.jsx(H.div,{initial:{scale:0},animate:{scale:1},className:"text-6xl mb-6",children:k?"":""}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:k?"!":"!"}),o.jsxs("p",{className:"text-white/70 mb-4",children:[": ",l,"/",j]}),o.jsx("div",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-yellow-500 to-orange-500 inline-block",children:o.jsxs("span",{className:"text-white font-bold text-xl",children:["+",k?30:15," XP"]})})]})}return o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("div",{className:"px-4 py-2 rounded-xl bg-white/10 border border-white/20",children:o.jsxs("span",{className:"text-yellow-400 font-bold",children:[" ",l]})}),o.jsx("div",{className:"px-4 py-2 rounded-xl bg-white/10 border border-white/20",children:o.jsxs("span",{className:`font-bold ${d<=10?"text-red-400":"text-white"}`,children:[" ",d,"s"]})})]}),o.jsxs("div",{className:"relative h-[300px] rounded-2xl bg-white/5 border border-white/10 overflow-hidden",children:[o.jsx(Et,{children:b.map(k=>o.jsx(H.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},onClick:()=>P(k),className:`absolute w-14 h-14 rounded-full flex items-center justify-center text-2xl ${k.type==="bad"?"bg-red-500/80 border-2 border-red-400":"bg-green-500/80 border-2 border-green-400"}`,style:{left:`${k.x}%`,top:`${k.y}%`},children:k.type==="bad"?"":""},k.id))}),o.jsx("p",{className:"absolute bottom-4 left-0 right-0 text-center text-white/50 text-sm",children:"   (),   ()"})]})]})},GI=["bg-rose-500 shadow-[0_0_30px_rgba(244,63,94,0.6)]","bg-blue-500 shadow-[0_0_30px_rgba(59,130,246,0.6)]","bg-emerald-500 shadow-[0_0_30px_rgba(16,185,129,0.6)]","bg-yellow-400 shadow-[0_0_30px_rgba(250,204,21,0.6)]"],qI=["bg-rose-900/50 border-rose-500/30","bg-blue-900/50 border-blue-500/30","bg-emerald-900/50 border-emerald-500/30","bg-yellow-900/50 border-yellow-500/30"],$I=({isOpen:t,onClose:e,onComplete:n})=>{const[s,a]=O.useState([]),[l,u]=O.useState([]),[d,p]=O.useState(!1),[h,g]=O.useState(!1),[b,T]=O.useState(null),[S,j]=O.useState(1),[N,P]=O.useState(!1),[V,D]=O.useState(!1);O.useEffect(()=>{t&&k()},[t]);const k=()=>{a([]),u([]),p(!1),j(1),P(!1),D(!1)},G=()=>{p(!0),P(!1),D(!1),J()},J=()=>{const re=Math.floor(Math.random()*4),B=[...s,re];a(B),u([]),K(B)},K=re=>{g(!0);let B=0;const oe=setInterval(()=>{T(re[B]),setTimeout(()=>T(null),400),B++,B>=re.length&&(clearInterval(oe),g(!1))},800)},te=re=>{if(!d||h||N)return;T(re),setTimeout(()=>T(null),200);const B=l.length;if(re!==s[B]){P(!0),p(!1);return}const oe=[...l,re];u(oe),oe.length===s.length&&(S>=5?(D(!0),p(!1),n(100)):(j(S+1),setTimeout(J,1e3)))};return t?o.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-[#020617]/95 backdrop-blur-md animate-in fade-in duration-300",children:o.jsxs("div",{className:"relative w-full max-w-sm mx-4 bg-[#151925] border border-white/10 rounded-3xl p-6 shadow-2xl",children:[o.jsx("button",{onClick:e,className:"absolute top-6 right-6 w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-slate-400 hover:text-white hover:bg-white/20 transition-colors",children:o.jsx(mi,{size:20})}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-indigo-500/10 text-indigo-400 mb-3 border border-indigo-500/20",children:o.jsx(fs,{size:32})}),o.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"-"}),o.jsx("p",{className:"text-slate-400 text-sm",children:"  "})]}),o.jsxs("div",{className:"relative aspect-square max-w-[280px] mx-auto grid grid-cols-2 gap-4 mb-8",children:[qI.map((re,B)=>o.jsx("button",{onClick:()=>te(B),className:`
                            rounded-2xl border-2 transition-all duration-100 active:scale-95
                            ${b===B?GI[B]:re}
                            ${h?"cursor-wait":"cursor-pointer"}
                        `},B)),o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 bg-[#0A0F1C] rounded-full border-4 border-[#151925] flex items-center justify-center z-10",children:o.jsxs("div",{className:"text-lg font-black text-white",children:[S,"/5"]})})]}),o.jsxs("div",{className:"text-center h-16",children:[!d&&!N&&!V&&o.jsx("button",{onClick:G,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-4 rounded-xl uppercase tracking-wider transition-all",children:" "}),h&&o.jsx("div",{className:"text-indigo-400 font-mono animate-pulse font-bold",children:" ..."}),d&&!h&&o.jsx("div",{className:"text-emerald-400 font-mono font-bold",children:" "}),N&&o.jsxs("div",{className:"flex items-center gap-2 justify-center animate-in zoom-in duration-300",children:[o.jsx("span",{className:"text-rose-500 font-bold",children:" !"}),o.jsx("button",{onClick:G,className:"px-4 py-2 bg-white/10 rounded-xl text-sm font-bold hover:bg-white/20",children:""})]}),V&&o.jsxs("div",{className:"text-center animate-in zoom-in duration-500",children:[o.jsxs("div",{className:"text-yellow-400 font-black text-xl mb-1 flex items-center justify-center gap-2",children:[o.jsx(Ds,{size:20})," 100%"]}),o.jsx("p",{className:"text-slate-400 text-xs font-bold",children:"+100 XP "})]})]})]})}):null},YI=[{place:1,prize:"  ",description:'   1  +   ""',color:"from-yellow-400 to-amber-500",icon:""},{place:2,prize:" 2 ",description:"   2  +  ",color:"from-gray-300 to-gray-400",icon:""},{place:3,prize:" 3 ",description:"500  +   ",color:"from-amber-600 to-amber-700",icon:""},{place:"4-5",prize:" -5",description:"300  +  ",color:"from-purple-400 to-purple-600",icon:""},{place:"6-10",prize:" -10",description:'150  +  "" +    ',color:"from-blue-400 to-blue-600",icon:""}],Op=[{id:"1",name:" .",coins:2450,avatar:""},{id:"2",name:" .",coins:2180,avatar:""},{id:"3",name:" .",coins:1920,avatar:""},{id:"4",name:" .",coins:1750,avatar:""},{id:"5",name:" .",coins:1680,avatar:""}],WI=[...Lw,{id:"xp_boost",name:"XP  x2",description:"     !",price:80,icon:"xp_boost",type:"POWERUP"},{id:"hint_pack",name:"",description:" 3    ",price:60,icon:"hint_pack",type:"POWERUP"},{id:"skip_task",name:"",description:"    ",price:120,icon:"skip_task",type:"POWERUP"},{id:"avatar_ninja",name:' ""',description:"     ",price:200,icon:"avatar",type:"COSMETIC"},{id:"avatar_unicorn",name:' ""',description:"   ",price:300,icon:"avatar",type:"COSMETIC"},{id:"frame_diamond",name:' ""',description:"   ",price:250,icon:"frame",type:"COSMETIC"},{id:"title_legend",name:' ""',description:"    ",price:400,icon:"title",type:"COSMETIC"}],KI=({user:t,onBuy:e,onRefreshUser:n})=>{const[s,a]=O.useState(null),[l,u]=O.useState(!1),[d,p]=O.useState(!1),[h,g]=O.useState("all");O.useEffect(()=>{const k=()=>{const J=localStorage.getItem("mystery_box_reward");if(J){const K=JSON.parse(J);a(K),u(!0),localStorage.removeItem("mystery_box_reward")}};k();const G=setInterval(k,300);return()=>clearInterval(G)},[]);const b=()=>{u(!1),a(null),n&&n()},T=async k=>{if(t.coins<k.price){C2();return}E0(),p(!0),await e(k),ia(),II(),k.id==="mystery_box"&&setTimeout(()=>MI(),300),p(!1)},S=k=>{switch(k){case"hp_potion":return o.jsx(Ni,{fill:"currentColor",className:"text-rose-400",size:32});case"streak_freeze":return o.jsx(Y5,{className:"text-cyan-400",size:32});case"mystery_box":return o.jsx(Bc,{className:"text-purple-400",size:32});case"frame_gold":return o.jsx(BS,{className:"text-yellow-400",size:32});case"xp_boost":return o.jsx(ni,{className:"text-orange-400",size:32});case"hint_pack":return o.jsx(Hn,{className:"text-emerald-400",size:32});case"skip_task":return o.jsx(ra,{className:"text-blue-400",size:32});default:return o.jsx(E5,{className:"text-slate-400",size:32})}},j=k=>{switch(k){case"hp_potion":return"rgba(244,63,94,0.3)";case"streak_freeze":return"rgba(34,211,238,0.3)";case"mystery_box":return"rgba(168,85,247,0.3)";case"frame_gold":return"rgba(234,179,8,0.3)";case"xp_boost":return"rgba(251,146,60,0.3)";case"hint_pack":return"rgba(52,211,153,0.3)";case"skip_task":return"rgba(59,130,246,0.3)";default:return"rgba(255,255,255,0.1)"}},N=[{id:"all",label:"",icon:""},{id:"powerups",label:"",icon:""},{id:"cosmetic",label:"",icon:""},{id:"challenge",label:"",icon:""}],P=Op.findIndex(k=>k.coins<t.coins)+1||Op.length+1,V=14,D=WI.filter(k=>h==="all"?!0:h==="powerups"?k.type==="POWERUP":h==="cosmetic"?k.type==="COSMETIC":!0);return o.jsxs("div",{className:"min-h-screen pb-40 text-white relative overflow-hidden",children:[o.jsxs("div",{className:"fixed inset-0 -z-10",children:[o.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(180deg, #0a0a1a 0%, #0d1025 30%, #0a0a1a 100%)"}}),o.jsx(H.div,{className:"absolute top-20 right-0 w-80 h-80 rounded-full blur-[120px]",style:{background:"rgba(234,179,8,0.15)"},animate:{x:[0,30,0],y:[0,-20,0],scale:[1,1.1,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),o.jsx(H.div,{className:"absolute top-60 -left-20 w-96 h-96 rounded-full blur-[150px]",style:{background:"rgba(139,92,246,0.12)"},animate:{x:[0,-20,0],y:[0,30,0],scale:[1,1.15,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}}),o.jsx(H.div,{className:"absolute bottom-40 right-10 w-72 h-72 rounded-full blur-[100px]",style:{background:"rgba(99,102,241,0.1)"},animate:{y:[0,-40,0],scale:[1,1.2,1]},transition:{duration:12,repeat:1/0,ease:"easeInOut"}})]}),o.jsx("div",{className:"sticky top-0 z-20 px-4 pt-4 pb-4",children:o.jsxs(H.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"p-5 rounded-3xl relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.03) 100%)",backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255,255,255,0.12)",boxShadow:"0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 bg-gradient-to-b from-white/5 to-transparent rounded-t-3xl pointer-events-none"}),o.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(234,179,8,0.2) 0%, rgba(234,179,8,0.1) 100%)",border:"1px solid rgba(234,179,8,0.2)",boxShadow:"0 0 20px rgba(234,179,8,0.2)"},children:o.jsx(Fm,{className:"text-yellow-400",size:24})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-black text-white tracking-tight",children:""}),o.jsx("p",{className:"text-white/40 text-xs font-medium",children:"  "})]})]}),o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2.5 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(234,179,8,0.2) 0%, rgba(234,179,8,0.1) 100%)",border:"1px solid rgba(234,179,8,0.25)",boxShadow:"0 4px 20px rgba(234,179,8,0.15)"},children:[o.jsx(ll,{className:"text-yellow-400",fill:"currentColor",size:20}),o.jsx("span",{className:"text-xl font-black text-yellow-300 font-mono",children:t.coins})]})]})]})}),o.jsx("div",{className:"px-4 mb-4",children:o.jsx("div",{className:"flex gap-2",children:N.map(k=>o.jsxs("button",{onClick:()=>g(k.id),className:"flex-1 py-3 px-4 rounded-2xl font-medium text-sm transition-all duration-300",style:{background:h===k.id?"linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.08) 100%)":"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:h===k.id?"1px solid rgba(255,255,255,0.2)":"1px solid rgba(255,255,255,0.08)",color:h===k.id?"#fff":"rgba(255,255,255,0.5)"},children:[o.jsx("span",{className:"mr-1.5",children:k.icon}),k.label]},k.id))})}),o.jsx("div",{className:"px-4 mb-4",children:o.jsxs("div",{className:"p-4 rounded-2xl flex justify-around",style:{background:"rgba(255,255,255,0.03)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-rose-400 mb-1",children:[o.jsx(Ni,{size:16,fill:"currentColor"}),o.jsxs("span",{className:"font-bold",children:[t.hp,"/",t.maxHp]})]}),o.jsx("span",{className:"text-white/40 text-xs",children:""})]}),o.jsx("div",{className:"w-px bg-white/10"}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-orange-400 mb-1",children:[o.jsx(fr,{size:16}),o.jsx("span",{className:"font-bold",children:t.streak})]}),o.jsx("span",{className:"text-white/40 text-xs",children:""})]}),o.jsx("div",{className:"w-px bg-white/10"}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center gap-1 text-cyan-400 mb-1",children:[o.jsx(ef,{size:16}),o.jsx("span",{className:"font-bold",children:t.inventory.filter(k=>k==="streak_freeze").length})]}),o.jsx("span",{className:"text-white/40 text-xs",children:""})]})]})}),h==="challenge"&&o.jsxs("div",{className:"px-4 mb-6",children:[o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-3xl p-5 mb-4 relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(234,179,8,0.15) 0%, rgba(168,85,247,0.15) 100%)",border:"1px solid rgba(234,179,8,0.3)"},children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 bg-gradient-to-b from-white/5 to-transparent"}),o.jsxs("div",{className:"flex items-center gap-3 mb-4 relative z-10",children:[o.jsx("div",{className:"w-14 h-14 rounded-2xl bg-yellow-500/20 flex items-center justify-center",children:o.jsx(Ds,{className:"text-yellow-400",size:28})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-black text-white",children:" "}),o.jsx("p",{className:"text-white/60 text-sm",children:"   !"})]})]}),o.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-xl bg-white/5 mb-4 relative z-10",children:[o.jsx(Vm,{className:"text-white/60",size:18}),o.jsx("span",{className:"text-white/80 text-sm",children:"  :"}),o.jsxs("span",{className:"ml-auto text-yellow-400 font-bold",children:[V," "]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-purple-500/10 border border-purple-500/20 relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(y5,{className:"text-purple-400",size:18}),o.jsx("span",{className:"text-white/80 text-sm",children:" :"})]}),o.jsxs("span",{className:"text-2xl font-black text-purple-400",children:["#",P]})]})]}),o.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:[o.jsx(Bc,{className:"text-pink-400",size:20}),"  "]}),o.jsx("div",{className:"space-y-3 mb-6",children:YI.map((k,G)=>o.jsx(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:G*.1},className:"p-4 rounded-2xl relative overflow-hidden",style:{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",border:G<3?"1px solid rgba(255,255,255,0.15)":"1px solid rgba(255,255,255,0.08)"},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-2xl bg-gradient-to-br ${k.color}`,children:k.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-bold text-white",children:k.prize}),o.jsx("div",{className:"text-white/60 text-sm",children:k.description})]})]})},G))}),o.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:[o.jsx(Gm,{className:"text-blue-400",size:20}),"-5 "]}),o.jsxs("div",{className:"space-y-2",children:[Op.map((k,G)=>o.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+G*.1},className:"flex items-center gap-3 p-3 rounded-xl",style:{background:G===0?"linear-gradient(135deg, rgba(234,179,8,0.15) 0%, rgba(234,179,8,0.05) 100%)":"rgba(255,255,255,0.03)",border:G===0?"1px solid rgba(234,179,8,0.3)":"1px solid rgba(255,255,255,0.05)"},children:[o.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold ${G===0?"bg-yellow-500/20 text-yellow-400":G===1?"bg-gray-400/20 text-gray-300":G===2?"bg-amber-600/20 text-amber-500":"bg-white/5 text-white/40"}`,children:G+1}),o.jsx("span",{className:"text-2xl",children:k.avatar}),o.jsx("span",{className:"flex-1 text-white font-medium",children:k.name}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ll,{className:"text-yellow-400",size:16}),o.jsx("span",{className:"text-yellow-300 font-bold",children:k.coins})]})]},k.id)),P>5&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"text-center text-white/30 py-2",children:"  "}),o.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center gap-3 p-3 rounded-xl",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.15) 0%, rgba(139,92,246,0.05) 100%)",border:"1px solid rgba(139,92,246,0.3)"},children:[o.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center font-bold bg-purple-500/20 text-purple-400",children:P}),o.jsx("span",{className:"text-2xl",children:""}),o.jsx("span",{className:"flex-1 text-white font-medium",children:""}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(ll,{className:"text-yellow-400",size:16}),o.jsx("span",{className:"text-yellow-300 font-bold",children:t.coins})]})]})]})]}),o.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 p-4 rounded-2xl text-center",style:{background:"rgba(139,92,246,0.1)",border:"1px solid rgba(139,92,246,0.2)"},children:[o.jsxs("p",{className:"text-white/80 text-sm mb-2",children:[" ",o.jsx("strong",{children:":"}),"      ,    !"]}),o.jsx("p",{className:"text-purple-300 text-xs",children:"  = +20-150  "})]})]}),h!=="challenge"&&o.jsx("div",{className:"p-4 grid grid-cols-2 gap-3",children:o.jsx(Et,{mode:"popLayout",children:D.map((k,G)=>{const J=t.coins>=k.price,K=k.id==="hp_potion"&&t.hp===t.maxHp,te=t.inventory.includes(k.id)&&k.type==="COSMETIC",re=t.inventory.filter($=>$===k.id).length,B=re>0,oe=!J||K||te;return o.jsxs(H.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{delay:G*.05},className:"relative group overflow-hidden rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:`0 8px 32px rgba(0,0,0,0.2), 0 0 40px ${j(k.id)}`},children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 bg-gradient-to-b from-white/5 to-transparent rounded-t-3xl pointer-events-none"}),B&&k.type==="POWERUP"&&o.jsxs("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-lg text-[10px] font-bold z-20",style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.15)",color:"#fff"},children:["",re]}),o.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center p-5 gap-3",children:[o.jsx(H.div,{className:"w-16 h-16 rounded-2xl flex items-center justify-center relative",whileHover:{scale:1.1},whileTap:{scale:.95},style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(255,255,255,0.1)",boxShadow:`0 0 30px ${j(k.id)}`},children:S(k.id)}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-bold text-white leading-tight",children:k.name}),o.jsx("p",{className:"text-white/40 text-[10px] mt-1 font-medium line-clamp-2",children:k.description})]}),o.jsx("div",{className:"w-full mt-auto",children:te?o.jsxs("div",{className:"w-full py-3 rounded-2xl flex items-center justify-center gap-2",style:{background:"rgba(34,197,94,0.1)",border:"1px solid rgba(34,197,94,0.2)"},children:[o.jsx(Wa,{size:14,className:"text-green-400"}),o.jsx("span",{className:"text-green-400 font-bold text-xs",children:""})]}):o.jsx("button",{onClick:()=>T(k),disabled:oe||d,className:"w-full py-3 rounded-2xl font-bold text-xs tracking-wide flex items-center justify-center gap-2 transition-all active:scale-95",style:{background:oe?"rgba(255,255,255,0.03)":"rgba(255,255,255,0.08)",backdropFilter:"blur(20px)",border:oe?"1px solid rgba(255,255,255,0.05)":"1px solid rgba(255,255,255,0.15)",color:oe?"rgba(255,255,255,0.3)":"#fff"},children:d?o.jsx(H.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:o.jsx(Hn,{size:14})}):K?o.jsxs(o.Fragment,{children:[o.jsx(Ni,{size:12,fill:"currentColor",className:"text-green-400"}),o.jsx("span",{className:"text-green-400",children:""})]}):o.jsxs(o.Fragment,{children:[o.jsx(ll,{size:12,className:J?"text-yellow-400":"text-white/30"}),o.jsx("span",{children:k.price})]})})})]})]},k.id)})})}),h!=="challenge"&&o.jsx("div",{className:"px-4 mt-4 mb-8",children:o.jsxs("div",{className:"p-4 rounded-2xl",style:{background:"rgba(255,255,255,0.03)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("h3",{className:"text-white/60 text-xs font-bold uppercase tracking-wider mb-3",children:"  "}),o.jsxs("div",{className:"space-y-2 text-white/40 text-xs",children:[o.jsxs("p",{children:[" ",o.jsx("span",{className:"text-rose-400",children:""}),"     "]}),o.jsxs("p",{children:[" ",o.jsx("span",{className:"text-cyan-400",children:""}),"    "]}),o.jsxs("p",{children:[" ",o.jsx("span",{className:"text-purple-400",children:""}),"    ,  !"]}),o.jsxs("p",{children:[" ",o.jsx("span",{className:"text-yellow-400",children:""}),"     "]})]})]})}),o.jsx(Et,{children:l&&s&&o.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-xl p-6",onClick:b,children:o.jsxs(H.div,{initial:{scale:.5,y:50},animate:{scale:1,y:0},exit:{scale:.5,y:50},className:"relative w-full max-w-sm p-8 rounded-3xl text-center overflow-hidden",onClick:k=>k.stopPropagation(),style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.15)",boxShadow:"0 25px 80px rgba(0,0,0,0.5), 0 0 60px rgba(168,85,247,0.3)"},children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 bg-gradient-to-b from-white/10 to-transparent rounded-t-3xl pointer-events-none"}),o.jsx(H.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:2,repeat:1/0},children:[...Array(12)].map((k,G)=>o.jsx(H.div,{className:"absolute w-1 h-1 bg-yellow-400 rounded-full",style:{left:`${20+Math.random()*60}%`,top:`${20+Math.random()*60}%`},animate:{scale:[0,1,0],opacity:[0,1,0]},transition:{duration:1.5,delay:G*.1,repeat:1/0}},G))}),o.jsx(H.div,{className:"text-7xl mb-6",animate:{scale:[1,1.2,1],rotate:[0,10,-10,0]},transition:{duration:.6,repeat:3},children:""}),o.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:"!"}),o.jsx("p",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-purple-400 to-pink-400 mb-6",children:s.message}),o.jsx("button",{onClick:b,className:"w-full py-4 rounded-2xl font-bold text-white transition-all active:scale-95",style:{background:"linear-gradient(135deg, rgba(168,85,247,0.8) 0%, rgba(139,92,246,0.8) 100%)",border:"1px solid rgba(255,255,255,0.2)",boxShadow:"0 8px 32px rgba(168,85,247,0.4)"},children:"! "}),o.jsx("button",{onClick:b,className:"absolute top-6 right-6 w-10 h-10 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:o.jsx(mi,{size:20,className:"text-white/70"})})]})})})]})},JI=({user:t})=>{const e=O.useMemo(()=>Rd.map(l=>{let u=!1,d=0;switch(l.requirement.type){case"TASKS_COMPLETED":d=t.completedTaskIds.length,u=d>=l.requirement.value;break;case"STREAK_DAYS":d=t.streak,u=d>=l.requirement.value;break;case"XP_EARNED":d=t.xp,u=d>=l.requirement.value;break;case"COINS_EARNED":d=t.coins,u=d>=l.requirement.value;break;case"BOSS_DEFEATED":const p=["t6","t14","t19"];d=t.completedTaskIds.filter(g=>p.includes(g)).length,u=d>=l.requirement.value;break;case"WEEK_COMPLETED":const h=["t1","t2","t3","t4","t5","t6"];d=t.completedTaskIds.filter(g=>h.includes(g)).length,u=d>=h.length;break}return{...l,isUnlocked:u,progress:d,progressPercent:Math.min(100,d/l.requirement.value*100)}}),[t]),n=e.filter(l=>l.isUnlocked).length,s=e.length,a=l=>{switch(l){case"LEARNING":return"from-yellow-500 to-orange-500";case"STREAK":return"from-orange-500 to-red-500";case"SPECIAL":return"from-purple-500 to-pink-500";default:return"from-indigo-500 to-purple-500"}};return o.jsxs("div",{className:"min-h-screen bg-[#020617] pb-40 pt-4 px-4",children:[o.jsxs(H.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[o.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-3xl bg-gradient-to-br from-yellow-500 to-orange-600 flex items-center justify-center shadow-lg shadow-yellow-500/30",children:o.jsx(Ds,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:""}),o.jsxs("p",{className:"text-slate-400",children:[": ",o.jsx("span",{className:"text-yellow-400 font-bold",children:n})," / ",s]}),o.jsx("div",{className:"mt-4 max-w-xs mx-auto",children:o.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:o.jsx(H.div,{className:"h-full bg-gradient-to-r from-yellow-500 to-orange-500",initial:{width:0},animate:{width:`${n/s*100}%`},transition:{duration:1,delay:.3}})})})]}),o.jsx("div",{className:"space-y-4",children:e.map((l,u)=>o.jsxs(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:u*.05},className:`relative overflow-hidden rounded-2xl border p-4 ${l.isUnlocked?"bg-gradient-to-r from-slate-900/80 to-slate-800/80 border-yellow-500/30":"bg-slate-900/50 border-white/5"}`,children:[l.isUnlocked&&o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-yellow-500/10 blur-3xl"}),o.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center text-3xl ${l.isUnlocked?`bg-gradient-to-br ${a(l.category)} shadow-lg`:"bg-slate-800 border border-white/10"}`,children:l.isUnlocked?o.jsx("span",{children:l.icon}):o.jsx(Bw,{className:"w-6 h-6 text-slate-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:`font-bold ${l.isUnlocked?"text-white":"text-slate-500"}`,children:l.title}),l.isUnlocked&&o.jsx(Ka,{className:"w-4 h-4 text-green-400"})]}),o.jsx("p",{className:`text-sm ${l.isUnlocked?"text-slate-300":"text-slate-600"}`,children:l.description}),!l.isUnlocked&&o.jsxs("div",{className:"mt-2",children:[o.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:[o.jsxs("span",{children:[l.progress," / ",l.requirement.value]}),o.jsxs("span",{children:[Math.round(l.progressPercent),"%"]})]}),o.jsx("div",{className:"h-1.5 bg-slate-800 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all",style:{width:`${l.progressPercent}%`}})})]})]}),o.jsx("div",{className:"text-right",children:l.isUnlocked?o.jsxs("div",{className:"flex items-center gap-1 text-green-400 text-sm font-bold",children:[o.jsx(Hn,{className:"w-4 h-4"}),""]}):o.jsxs("div",{className:"space-y-1",children:[l.reward.xp&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[o.jsx(Qi,{className:"w-3 h-3"})," +",l.reward.xp," XP"]}),l.reward.coins&&o.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[o.jsx(Bc,{className:"w-3 h-3"})," +",l.reward.coins]})]})})]})]},l.id))})]})},XI="modulepreload",QI=function(t){return"/ai-pod/"+t},A1={},ps=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let u=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));a=u(n.map(h=>{if(h=QI(h),h in A1)return;A1[h]=!0;const g=h.endsWith(".css"),b=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${b}`))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":XI,g||(T.as="script"),T.crossOrigin="",T.href=h,p&&T.setAttribute("nonce",p),document.head.appendChild(T),g)return new Promise((S,j)=>{T.addEventListener("load",S),T.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})};function of(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function nt(t,e,n,s){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{h(s.next(g))}catch(b){u(b)}}function p(g){try{h(s.throw(g))}catch(b){u(b)}}function h(g){g.done?l(g.value):a(g.value).then(d,p)}h((s=s.apply(t,e||[])).next())})}const ZI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class S0 extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class ej extends S0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class R1 extends S0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class I1 extends S0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xm;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xm||(xm={}));class tj{constructor(e,{headers:n={},customFetch:s,region:a=xm.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=ZI(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return nt(this,arguments,void 0,function*(n,s={}){var a;let l,u;try{const{headers:d,method:p,body:h,signal:g,timeout:b}=s;let T={},{region:S}=s;S||(S=this.region);const j=new URL(`${this.url}/${n}`);S&&S!=="any"&&(T["x-region"]=S,j.searchParams.set("forceFunctionRegion",S));let N;h&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(T["Content-Type"]="application/octet-stream",N=h):typeof h=="string"?(T["Content-Type"]="text/plain",N=h):typeof FormData<"u"&&h instanceof FormData?N=h:(T["Content-Type"]="application/json",N=JSON.stringify(h)):N=h;let P=g;b&&(u=new AbortController,l=setTimeout(()=>u.abort(),b),g?(P=u.signal,g.addEventListener("abort",()=>u.abort())):P=u.signal);const V=yield this.fetch(j.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},T),this.headers),d),body:N,signal:P}).catch(J=>{throw new ej(J)}),D=V.headers.get("x-relay-error");if(D&&D==="true")throw new R1(V);if(!V.ok)throw new I1(V);let k=((a=V.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),G;return k==="application/json"?G=yield V.json():k==="application/octet-stream"||k==="application/pdf"?G=yield V.blob():k==="text/event-stream"?G=V:k==="multipart/form-data"?G=yield V.formData():G=yield V.text(),{data:G,error:null,response:V}}catch(d){return{data:null,error:d,response:d instanceof I1||d instanceof R1?d.context:void 0}}finally{l&&clearTimeout(l)}})}}var Wn={},Jo={},Xo={},Qo={},Zo={},el={},nj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_l=nj();const ij=_l.fetch,R2=_l.fetch.bind(_l),I2=_l.Headers,sj=_l.Request,rj=_l.Response,aj=Object.freeze(Object.defineProperty({__proto__:null,Headers:I2,Request:sj,Response:rj,default:R2,fetch:ij},Symbol.toStringTag,{value:"Module"})),oj=$E(aj);var _d={},j1;function j2(){if(j1)return _d;j1=1,Object.defineProperty(_d,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return _d.default=t,_d}var M1;function M2(){if(M1)return el;M1=1;var t=el&&el.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(el,"__esModule",{value:!0});const e=t(oj),n=t(j2());class s{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let p=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,b,T,S;let j=null,N=null,P=null,V=h.status,D=h.statusText;if(h.ok){if(this.method!=="HEAD"){const K=await h.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?N=K:N=JSON.parse(K))}const G=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),J=(T=h.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");G&&J&&J.length>1&&(P=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(j={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,P=null,V=406,D="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const G=await h.text();try{j=JSON.parse(G),Array.isArray(j)&&h.status===404&&(N=[],j=null,V=200,D="OK")}catch{h.status===404&&G===""?(V=204,D="No Content"):j={message:G}}if(j&&this.isMaybeSingle&&(!((S=j==null?void 0:j.details)===null||S===void 0)&&S.includes("0 rows"))&&(j=null,V=200,D="OK"),j&&this.shouldThrowOnError)throw new n.default(j)}return{error:j,data:N,count:P,status:V,statusText:D}});return this.shouldThrowOnError||(p=p.catch(h=>{var g,b,T;return{error:{message:`${(g=h==null?void 0:h.name)!==null&&g!==void 0?g:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(b=h==null?void 0:h.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(T=h==null?void 0:h.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),p.then(l,u)}returns(){return this}overrideTypes(){return this}}return el.default=s,el}var k1;function k2(){if(k1)return Zo;k1=1;var t=Zo&&Zo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Zo,"__esModule",{value:!0});const e=t(M2());class n extends e.default{select(a){let l=!1;const u=(a??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:p=d}={}){const h=p?`${p}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:d=u}={}){const p=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(h,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:p=!1,format:h="text"}={}){var g;const b=[a?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,p?"wal":null].filter(Boolean).join("|"),T=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${T}"; options=${b};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Zo.default=n,Zo}var D1;function N0(){if(D1)return Qo;D1=1;var t=Qo&&Qo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qo,"__esModule",{value:!0});const e=t(k2());class n extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:d}={}){let p="";d==="plain"?p="pl":d==="phrase"?p="ph":d==="websearch"&&(p="w");const h=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${p}fts${h}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return Qo.default=n,Qo}var P1;function D2(){if(P1)return Xo;P1=1;var t=Xo&&Xo.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Xo,"__esModule",{value:!0});const e=t(N0());class n{constructor(a,{headers:l={},schema:u,fetch:d}){this.url=a,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(a,{head:l=!1,count:u}={}){const d=l?"HEAD":"GET";let p=!1;const h=(a??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:u=!0}={}){var d;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((g,b)=>g.concat(Object.keys(b)),[]);if(h.length>0){const g=[...new Set(h)].map(b=>`"${b}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:p=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const b=a.reduce((T,S)=>T.concat(Object.keys(S)),[]);if(b.length>0){const T=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(a,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var l;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Xo.default=n,Xo}var O1;function lj(){if(O1)return Jo;O1=1;var t=Jo&&Jo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Jo,"__esModule",{value:!0});const e=t(D2()),n=t(N0());class s{constructor(l,{headers:u={},schema:d,fetch:p}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=p}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:p=!1,count:h}={}){var g;let b;const T=new URL(`${this.url}/rpc/${l}`);let S;d||p?(b=d?"HEAD":"GET",Object.entries(u).filter(([N,P])=>P!==void 0).map(([N,P])=>[N,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([N,P])=>{T.searchParams.append(N,P)})):(b="POST",S=u);const j=new Headers(this.headers);return h&&j.set("Prefer",`count=${h}`),new n.default({method:b,url:T,headers:j,schema:this.schemaName,body:S,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Jo.default=s,Jo}var L1;function cj(){if(L1)return Wn;L1=1;var t=Wn&&Wn.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.PostgrestError=Wn.PostgrestBuilder=Wn.PostgrestTransformBuilder=Wn.PostgrestFilterBuilder=Wn.PostgrestQueryBuilder=Wn.PostgrestClient=void 0;const e=t(lj());Wn.PostgrestClient=e.default;const n=t(D2());Wn.PostgrestQueryBuilder=n.default;const s=t(N0());Wn.PostgrestFilterBuilder=s.default;const a=t(k2());Wn.PostgrestTransformBuilder=a.default;const l=t(M2());Wn.PostgrestBuilder=l.default;const u=t(j2());return Wn.PostgrestError=u.default,Wn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},Wn}var uj=cj();const dj=Um(uj),{PostgrestClient:fj,PostgrestQueryBuilder:lU,PostgrestFilterBuilder:cU,PostgrestTransformBuilder:uU,PostgrestBuilder:dU,PostgrestError:fU}=dj;class hj{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pj="2.84.0",mj=`realtime-js/${pj}`,P2="1.0.0",gj="2.0.0",U1=P2,vm=1e4,yj=1e3,xj=100;var Ha;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ha||(Ha={}));var qn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qn||(qn={}));var ds;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ds||(ds={}));var bm;(function(t){t.websocket="websocket"})(bm||(bm={}));var Ba;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ba||(Ba={}));class vj{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s,a,l;const u=e.topic,d=(n=e.ref)!==null&&n!==void 0?n:"",p=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,g=(l=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&l!==void 0?l:new ArrayBuffer(0),b=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+d.length+u.length+h.length,T=new ArrayBuffer(this.HEADER_LENGTH+b);let S=new DataView(T),j=0;S.setUint8(j++,this.KINDS.userBroadcastPush),S.setUint8(j++,p.length),S.setUint8(j++,d.length),S.setUint8(j++,u.length),S.setUint8(j++,h.length),S.setUint8(j++,this.BINARY_ENCODING),Array.from(p,P=>S.setUint8(j++,P.charCodeAt(0))),Array.from(d,P=>S.setUint8(j++,P.charCodeAt(0))),Array.from(u,P=>S.setUint8(j++,P.charCodeAt(0))),Array.from(h,P=>S.setUint8(j++,P.charCodeAt(0)));var N=new Uint8Array(T.byteLength+g.byteLength);return N.set(new Uint8Array(T),0),N.set(new Uint8Array(g),T.byteLength),N.buffer}_encodeJsonUserBroadcastPush(e){var n,s,a,l;const u=e.topic,d=(n=e.ref)!==null&&n!==void 0?n:"",p=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,g=(l=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&l!==void 0?l:{},T=new TextEncoder().encode(JSON.stringify(g)).buffer,S=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+d.length+u.length+h.length,j=new ArrayBuffer(this.HEADER_LENGTH+S);let N=new DataView(j),P=0;N.setUint8(P++,this.KINDS.userBroadcastPush),N.setUint8(P++,p.length),N.setUint8(P++,d.length),N.setUint8(P++,u.length),N.setUint8(P++,h.length),N.setUint8(P++,this.JSON_ENCODING),Array.from(p,D=>N.setUint8(P++,D.charCodeAt(0))),Array.from(d,D=>N.setUint8(P++,D.charCodeAt(0))),Array.from(u,D=>N.setUint8(P++,D.charCodeAt(0))),Array.from(h,D=>N.setUint8(P++,D.charCodeAt(0)));var V=new Uint8Array(j.byteLength+T.byteLength);return V.set(new Uint8Array(j),0),V.set(new Uint8Array(T),j.byteLength),V.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,l,u,d,p]=s;return n({join_ref:a,ref:l,topic:u,event:d,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,s){const a=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),d=n.getUint8(4);let p=this.HEADER_LENGTH+4;const h=s.decode(e.slice(p,p+a));p=p+a;const g=s.decode(e.slice(p,p+l));p=p+l;const b=s.decode(e.slice(p,p+u));p=p+u;const T=e.slice(p,e.byteLength),S=d===this.JSON_ENCODING?JSON.parse(s.decode(T)):T,j={type:this.BROADCAST_EVENT,event:g,payload:S};return u>0&&(j.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class O2{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var on;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(on||(on={}));const V1=(t,e,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=bj(u,t,e,a),l),{}):{}},bj=(t,e,n,s)=>{const a=e.find(d=>d.name===t),l=a==null?void 0:a.type,u=n[t];return l&&!s.includes(l)?L2(l,u):wm(u)},L2=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Ej(e,n)}switch(t){case on.bool:return wj(e);case on.float4:case on.float8:case on.int2:case on.int4:case on.int8:case on.numeric:case on.oid:return _j(e);case on.json:case on.jsonb:return Tj(e);case on.timestamp:return Sj(e);case on.abstime:case on.date:case on.daterange:case on.int4range:case on.int8range:case on.money:case on.reltime:case on.text:case on.time:case on.timestamptz:case on.timetz:case on.tsrange:case on.tstzrange:return wm(e);default:return wm(e)}},wm=t=>t,wj=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},_j=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tj=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Ej=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const u=t.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>L2(e,d))}return t},Sj=t=>typeof t=="string"?t.replace(" ","T"):t,U2=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lp{constructor(e,n,s={},a=vm){this.channel=e,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var z1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(z1||(z1={}));class zc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zc.syncState(this.state,a,l,u),this.pendingDiffs.forEach(p=>{this.state=zc.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=zc.syncDiff(this.state,a,l,u),d())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,a){const l=this.cloneDeep(e),u=this.transformState(n),d={},p={};return this.map(l,(h,g)=>{u[h]||(p[h]=g)}),this.map(u,(h,g)=>{const b=l[h];if(b){const T=g.map(P=>P.presence_ref),S=b.map(P=>P.presence_ref),j=g.filter(P=>S.indexOf(P.presence_ref)<0),N=b.filter(P=>T.indexOf(P.presence_ref)<0);j.length>0&&(d[h]=j),N.length>0&&(p[h]=N)}else d[h]=g}),this.syncDiff(l,{joins:d,leaves:p},s,a)}static syncDiff(e,n,s,a){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(d,p)=>{var h;const g=(h=e[d])!==null&&h!==void 0?h:[];if(e[d]=this.cloneDeep(p),g.length>0){const b=e[d].map(S=>S.presence_ref),T=g.filter(S=>b.indexOf(S.presence_ref)<0);e[d].unshift(...T)}s(d,g,p)}),this.map(u,(d,p)=>{let h=e[d];if(!h)return;const g=p.map(b=>b.presence_ref);h=h.filter(b=>g.indexOf(b.presence_ref)<0),e[d]=h,a(d,h,p),h.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const a=e[s];return"metas"in a?n[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var F1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(F1||(F1={}));var Fc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Fc||(Fc={}));var ur;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class C0{constructor(e,n={config:{}},s){var a,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lp(this,ds.join,this.params,this.timeout),this.rejoinTimer=new O2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ds.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new zc(this),this.broadcastEndpointURL=U2(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==qn.closed){const{config:{broadcast:u,presence:d,private:p}}=this.params,h=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(S=>S.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[Fc.PRESENCE]&&this.bindings[Fc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},T={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:h,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>e==null?void 0:e(ur.CHANNEL_ERROR,S)),this._onClose(()=>e==null?void 0:e(ur.CLOSED)),this.updateJoinPayload(Object.assign({config:T},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket.setAuth(),S===void 0){e==null||e(ur.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,P=(j=N==null?void 0:N.length)!==null&&j!==void 0?j:0,V=[];for(let D=0;D<P;D++){const k=N[D],{filter:{event:G,schema:J,table:K,filter:te}}=k,re=S&&S[D];if(re&&re.event===G&&re.schema===J&&re.table===K&&re.filter===te)V.push(Object.assign(Object.assign({},k),{id:re.id}));else{this.unsubscribe(),this.state=qn.errored,e==null||e(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,e&&e(ur.SUBSCRIBED);return}}).receive("error",S=>{this.state=qn.errored,e==null||e(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===qn.joined&&e===Fc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(d.status===202)return{success:!0};let p=d.statusText;try{const h=await d.json();p=h.error||h.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,p;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),h.receive("ok",()=>l("ok")),h.receive("error",()=>l("error")),h.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ds.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Lp(this,ds.leave,{},e),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qn.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Lp(this,e,n,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>xj){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var a,l;const u=e.toLocaleLowerCase(),{close:d,error:p,leave:h,join:g}=ds;if(s&&[d,p,h,g].indexOf(u)>=0&&s!==this._joinRef())return;let T=this._onMessage(u,n,s);if(n&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(S=>{var j,N,P;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((P=(N=S.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===u}).map(S=>S.callback(T,s)):(l=this.bindings[u])===null||l===void 0||l.filter(S=>{var j,N,P,V,D,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const G=S.id,J=(j=S.filter)===null||j===void 0?void 0:j.event;return G&&((N=n.ids)===null||N===void 0?void 0:N.includes(G))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const G=(D=(V=S==null?void 0:S.filter)===null||V===void 0?void 0:V.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return G==="*"||G===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof T=="object"&&"ids"in T){const j=T.data,{schema:N,table:P,commit_timestamp:V,type:D,errors:k}=j;T=Object.assign(Object.assign({},{schema:N,table:P,commit_timestamp:V,eventType:D,new:{},old:{},errors:k}),this._getPayloadRecords(j))}S.callback(T,s)})}_isClosed(){return this.state===qn.closed}_isJoined(){return this.state===qn.joined}_isJoining(){return this.state===qn.joining}_isLeaving(){return this.state===qn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&C0.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ds.close,{},e)}_onError(e){this._on(ds.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=V1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=V1(e.columns,e.old_record)),n}}const Up=()=>{},Td={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nj=[1e3,2e3,5e3,1e4],Cj=1e4,Aj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rj{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vm,this.transport=null,this.heartbeatIntervalMs=Td.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Up,this.ref=0,this.reconnectTimer=null,this.vsn=U1,this.logger=Up,this.conn=null,this.sendBuffer=[],this.serializer=new vj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${bm.websocket}`,this.httpEndpoint=U2(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hj.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ha.connecting:return Ba.Connecting;case Ha.open:return Ba.Open;case Ha.closing:return Ba.Closing;default:return Ba.Closed}}isConnected(){return this.connectionState()===Ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===s);if(a)return a;{const l=new C0(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:a,ref:l}=e,u=()=>{this.encode(e,d=>{var p;(p=this.conn)===null||p===void 0||p.send(d)})};this.log("push",`${n} ${s} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(yj,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Td.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:l,ref:u}=n,d=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${s} ${a} ${d}`.trim(),l),this.channels.filter(h=>h._isMember(s)).forEach(h=>h._trigger(a,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ha.open||this.conn.readyState===Ha.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ds.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${s}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([Aj],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:mj};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(ds.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new O2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Td.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,a,l,u,d,p,h,g,b,T,S;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:vm,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Td.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Up,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:U1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:(j=>Nj[j-1]||Cj),this.vsn){case P2:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:((j,N)=>N(JSON.stringify(j))),this.decode=(b=e==null?void 0:e.decode)!==null&&b!==void 0?b:((j,N)=>N(JSON.parse(j)));break;case gj:this.encode=(T=e==null?void 0:e.encode)!==null&&T!==void 0?T:this.serializer.encode.bind(this.serializer),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class A0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function bn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ij extends A0{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _m extends A0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const R0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),jj=()=>Response,Tm=t=>{if(Array.isArray(t))return t.map(n=>Tm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Tm(s)}),e},Mj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},kj=(t,e,n)=>nt(void 0,void 0,void 0,function*(){const s=yield jj();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{const l=t.status||500,u=(a==null?void 0:a.statusCode)||l+"";e(new Ij(Vp(a),l,u))}).catch(a=>{e(new _m(Vp(a),a))}):e(new _m(Vp(t),t))}),Dj=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?a:(Mj(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function su(t,e,n,s,a,l){return nt(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,Dj(e,s,a,l)).then(p=>{if(!p.ok)throw p;return s!=null&&s.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>kj(p,d,s))})})}function Jc(t,e,n,s){return nt(this,void 0,void 0,function*(){return su(t,"GET",e,n,s)})}function us(t,e,n,s,a){return nt(this,void 0,void 0,function*(){return su(t,"POST",e,s,a,n)})}function Em(t,e,n,s,a){return nt(this,void 0,void 0,function*(){return su(t,"PUT",e,s,a,n)})}function Pj(t,e,n,s){return nt(this,void 0,void 0,function*(){return su(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function I0(t,e,n,s,a){return nt(this,void 0,void 0,function*(){return su(t,"DELETE",e,s,a,n)})}class Oj{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return nt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bn(e))return{data:null,error:e};throw e}})}}var V2;class Lj{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[V2]="BlobDownloadBuilder",this.promise=null}asStream(){return new Oj(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return nt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(bn(e))return{data:null,error:e};throw e}})}}V2=Symbol.toStringTag;const Uj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},H1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Vj{constructor(e,n={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=R0(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,a){return nt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},H1),a);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),p&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(p))):(l=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,p&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a!=null&&a.headers&&(d=Object.assign(Object.assign({},d),a.headers));const h=this._removeEmptyFolders(n),g=this._getFinalPath(h),b=yield(e=="PUT"?Em:us)(this.fetch,`${this.url}/object/${g}`,l,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:h,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(bn(l))return{data:null,error:l};throw l}})}upload(e,n,s){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,a){return nt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let p;const h=Object.assign({upsert:H1.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",h.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",h.cacheControl)):(p=s,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const b=yield Em(this.fetch,d.toString(),p,{headers:g});return{data:{path:l,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(bn(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return nt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const l=yield us(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new A0("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bn(s))return{data:null,error:s};throw s}})}update(e,n,s){return nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return nt(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}})}copy(e,n,s){return nt(this,void 0,void 0,function*(){try{return{data:{path:(yield us(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,s){return nt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield us(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,s){return nt(this,void 0,void 0,function*(){try{const a=yield us(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}})}download(e,n){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),p=()=>Jc(this.fetch,`${this.url}/${a}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new Lj(p,this.shouldThrowOnError)}info(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Jc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Tm(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bn(s))return{data:null,error:s};throw s}})}exists(e){return nt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Pj(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bn(s)&&s instanceof _m){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),a=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&a.push(p);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${h}`)}}}remove(e){return nt(this,void 0,void 0,function*(){try{return{data:yield I0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}list(e,n,s){return nt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Uj),n),{prefix:e||""});return{data:yield us(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}})}listV2(e,n){return nt(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield us(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const z2="2.84.0",F2={"X-Client-Info":`storage-js/${z2}`};class zj{constructor(e,n={},s,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F2),n),this.fetch=R0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return nt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Jc(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}getBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Jc(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}createBucket(e){return nt(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(bn(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return nt(this,void 0,void 0,function*(){try{return{data:yield Em(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(bn(s))return{data:null,error:s};throw s}})}emptyBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield I0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class Fj{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},F2),n),this.fetch=R0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}listBuckets(e){return nt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const s=n.toString(),a=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Jc(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield I0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}})}}const j0={"X-Client-Info":`storage-js/${z2}`,"Content-Type":"application/json"};class H2 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Pi(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class zp extends H2{constructor(e,n,s){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Hj extends H2{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var B1;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(B1||(B1={}));const M0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Bj=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},G1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gj=(t,e,n)=>nt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const a=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||a+"";e(new zp(G1(u),a,d))}).catch(()=>{const u=a+"",d=l.statusText||`HTTP ${a} error`;e(new zp(d,a,u))});else{const u=a+"",d=l.statusText||`HTTP ${a} error`;e(new zp(d,a,u))}}else e(new Hj(G1(t),t))}),qj=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(Bj(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,Object.assign(Object.assign({},a),n)):a};function $j(t,e,n,s,a,l){return nt(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,qj(e,s,a,l)).then(p=>{if(!p.ok)throw p;if(s!=null&&s.noResolveJson)return p;const h=p.headers.get("content-type");return!h||!h.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>Gj(p,d,s))})})}function Oi(t,e,n,s,a){return nt(this,void 0,void 0,function*(){return $j(t,"POST",e,s,a,n)})}class Yj{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j0),n),this.fetch=M0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return nt(this,void 0,void 0,function*(){try{return{data:(yield Oi(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}getIndex(e,n){return nt(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pi(s))return{data:null,error:s};throw s}})}listIndexes(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return nt(this,void 0,void 0,function*(){try{return{data:(yield Oi(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Pi(s))return{data:null,error:s};throw s}})}}class Wj{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j0),n),this.fetch=M0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return nt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Oi(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}getVectors(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}listVectors(e){return nt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Oi(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}queryVectors(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}deleteVectors(e){return nt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Oi(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}}class Kj{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},j0),n),this.fetch=M0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:(yield Oi(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}getBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:yield Oi(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}listBuckets(){return nt(this,arguments,void 0,function*(e={}){try{return{data:yield Oi(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}deleteBucket(e){return nt(this,void 0,void 0,function*(){try{return{data:(yield Oi(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pi(n))return{data:null,error:n};throw n}})}}class Jj extends Kj{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new Xj(this.url,this.headers,e,this.fetch)}}class Xj extends Yj{constructor(e,n,s,a){super(e,n,a),this.vectorBucketName=s}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return nt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return nt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return nt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return nt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Qj(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Qj extends Wj{constructor(e,n,s,a,l){super(e,n,l),this.vectorBucketName=s,this.indexName=a}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return nt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return nt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return nt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return nt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return nt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Zj extends zj{constructor(e,n={},s,a){super(e,n,s,a)}from(e){return new Vj(this.url,this.headers,e,this.fetch)}get vectors(){return new Jj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fj(this.url+"/iceberg",this.headers,this.fetch)}}const e3="2.39.3";let kc="";typeof Deno<"u"?kc="deno":typeof document<"u"?kc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kc="react-native":kc="node";const t3={"X-Client-Info":`supabase-js-${kc}/${e3}`};var n3=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{h(s.next(g))}catch(b){u(b)}}function p(g){try{h(s.throw(g))}catch(b){u(b)}}function h(g){g.done?l(g.value):a(g.value).then(d,p)}h((s=s.apply(t,e||[])).next())})};const i3=t=>{let e;return t?e=t:typeof fetch>"u"?e=R2:e=fetch,(...n)=>e(...n)},s3=()=>typeof Headers>"u"?I2:Headers,r3=(t,e,n)=>{const s=i3(n),a=s3();return(l,u)=>n3(void 0,void 0,void 0,function*(){var d;const p=(d=yield e())!==null&&d!==void 0?d:t;let h=new a(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),s(l,Object.assign(Object.assign({},u),{headers:h}))})};function a3(t){return t.replace(/\/$/,"")}function o3(t,e){const{db:n,auth:s,realtime:a,global:l}=t,{db:u,auth:d,realtime:p,global:h}=e;return{db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},p),a),global:Object.assign(Object.assign({},h),l)}}const B2="2.84.0",al=30*1e3,Sm=3,Fp=Sm*al,l3="http://localhost:9999",c3="supabase.auth.token",u3={"X-Client-Info":`gotrue-js/${B2}`},Nm="X-Supabase-Api-Version",G2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,f3=600*1e3;class Xc extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function tt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class h3 extends Xc{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function p3(t){return tt(t)&&t.name==="AuthApiError"}class Ga extends Xc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class oa extends Xc{constructor(e,n,s,a){super(e,s,a),this.name=n,this.status=s}}class ki extends oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function m3(t){return tt(t)&&t.name==="AuthSessionMissingError"}class tl extends oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ed extends oa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sd extends oa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function g3(t){return tt(t)&&t.name==="AuthImplicitGrantRedirectError"}class q1 extends oa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cm extends oa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hp(t){return tt(t)&&t.name==="AuthRetryableFetchError"}class $1 extends oa{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Am extends oa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Y1=` 	
\r=`.split(""),y3=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Y1.length;e+=1)t[Y1[e].charCodeAt(0)]=-2;for(let e=0;e<Gd.length;e+=1)t[Gd[e].charCodeAt(0)]=e;return t})();function W1(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Gd[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(Gd[s]),e.queuedBits-=6}}function q2(t,e,n){const s=y3[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function K1(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{b3(u,s,n)};for(let u=0;u<t.length;u+=1)q2(t.charCodeAt(u),a,l);return e.join("")}function x3(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function v3(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}x3(s,e)}}function b3(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function yl(t){const e=[],n={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)q2(t.charCodeAt(a),n,s);return new Uint8Array(e)}function w3(t){const e=[];return v3(t,n=>e.push(n)),new Uint8Array(e)}function Ya(t){const e=[],n={queue:0,queuedBits:0},s=a=>{e.push(a)};return t.forEach(a=>W1(a,n,s)),W1(null,n,s),e.join("")}function _3(t){return Math.round(Date.now()/1e3)+t}function T3(){return Symbol("auth-callback")}const ei=()=>typeof window<"u"&&typeof document<"u",Ua={tested:!1,writable:!1},$2=()=>{if(!ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ua.tested)return Ua.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ua.tested=!0,Ua.writable=!0}catch{Ua.tested=!0,Ua.writable=!1}return Ua.writable};function E3(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((s,a)=>{e[a]=s}),e}const Y2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),S3=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ol=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Va=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Jr=async(t,e)=>{await t.removeItem(e)};class lf{constructor(){this.promise=new lf.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}lf.promiseConstructor=Promise;function Bp(t){const e=t.split(".");if(e.length!==3)throw new Am("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!d3.test(e[s]))throw new Am("JWT not in base64url format");return{header:JSON.parse(K1(e[0])),payload:JSON.parse(K1(e[1])),signature:yl(e[2]),raw:{header:e[0],payload:e[1]}}}async function N3(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function C3(t,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function A3(t){return("0"+t.toString(16)).substr(-2)}function R3(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,A3).join("")}async function I3(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function j3(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await I3(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nl(t,e,n=!1){const s=R3();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await ol(t,`${e}-code-verifier`,a);const l=await j3(s);return[l,s===l?"plain":"s256"]}const M3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k3(t){const e=t.headers.get(Nm);if(!e||!e.match(M3))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function D3(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function P3(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const O3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function il(t){if(!O3.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function L3(t,e){return new Proxy(t,{get:(n,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,a)}})}function J1(t){return JSON.parse(JSON.stringify(t))}const Fa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),U3=[502,503,504];async function X1(t){var e;if(!S3(t))throw new Cm(Fa(t),0);if(U3.includes(t.status))throw new Cm(Fa(t),t.status);let n;try{n=await t.json()}catch(l){throw new Ga(Fa(l),l)}let s;const a=k3(t);if(a&&a.getTime()>=G2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new $1(Fa(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ki}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new $1(Fa(n),t.status,n.weak_password.reasons);throw new h3(Fa(n),t.status||500,s)}const V3=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function dt(t,e,n,s){var a;const l=Object.assign({},s==null?void 0:s.headers);l[Nm]||(l[Nm]=G2["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await z3(t,e,n+d,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(p):{data:Object.assign({},p),error:null}}async function z3(t,e,n,s,a,l){const u=V3(e,s,a,l);let d;try{d=await t(n,Object.assign({},u))}catch(p){throw console.error(p),new Cm(Fa(p),0)}if(d.ok||await X1(d),s!=null&&s.noResolveJson)return d;try{return await d.json()}catch(p){await X1(p)}}function ls(t){var e;let n=null;B3(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=_3(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Q1(t){const e=ls(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ea(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function F3(t){return{data:t,error:null}}function H3(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l}=t,u=of(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:a,verification_type:l},p=Object.assign({},u);return{data:{properties:d,user:p},error:null}}function Z1(t){return t}function B3(t){return t.access_token&&t.refresh_token&&t.expires_in}const qp=["global","local","others"];class G3{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Y2(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=qp[0]){if(qp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qp.join(", ")}`);try{return await dt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ea})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=of(e,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:H3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(tt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ea})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,a,l,u,d,p;try{const h={nextPage:null,lastPage:0,total:0},g=await dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Z1});if(g.error)throw g.error;const b=await g.json(),T=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(p=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(j.split(";")[1].split("=")[1]);h[`${P}Page`]=N}),h.total=parseInt(T)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(tt(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){il(e);try{return await dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ea})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){il(e);try{return await dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ea})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){il(e);try{return await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ea})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){il(e.userId);try{const{data:n,error:s}=await dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){il(e.userId),il(e.id);try{return{data:await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,a,l,u,d,p;try{const h={nextPage:null,lastPage:0,total:0},g=await dt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Z1});if(g.error)throw g.error;const b=await g.json(),T=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(p=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(j.split(";")[1].split("=")[1]);h[`${P}Page`]=N}),h.total=parseInt(T)),{data:Object.assign(Object.assign({},b),h),error:null}}catch(h){if(tt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await dt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await dt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(tt(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await dt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(tt(n))return{data:null,error:n};throw n}}}function eb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const sl={debug:!!(globalThis&&$2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W2 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class q3 extends W2{}async function $3(t,e,n){sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),sl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw sl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new q3(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(sl.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Y3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function K2(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function W3(t){return parseInt(t,16)}function K3(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function J3(t){var e;const{chainId:n,domain:s,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:p,resources:h,scheme:g,uri:b,version:T}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const S=K2(t.address),j=g?`${g}://${s}`:s,N=t.statement?`${t.statement}
`:"",P=`${j} wants you to sign in with your Ethereum account:
${S}

${N}`;let V=`URI: ${b}
Version: ${T}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(V+=`
Expiration Time: ${a.toISOString()}`),d&&(V+=`
Not Before: ${d.toISOString()}`),p&&(V+=`
Request ID: ${p}`),h){let D=`
Resources:`;for(const k of h){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);D+=`
- ${k}`}V+=D}return`${P}
${V}`}class zn extends Error{constructor({message:e,code:n,cause:s,name:a}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=a??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class qd extends zn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function X3({error:t,options:e}){var n,s,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new zn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new zn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new zn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new zn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new zn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new zn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new zn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(J2(u)){if(l.rp.id!==u)return new zn({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new zn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new zn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Q3({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new zn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(J2(s)){if(n.rpId!==s)return new zn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new zn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new zn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new zn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Z3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const eM=new Z3;function tM(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,a=of(t,["challenge","user","excludeCredentials"]),l=yl(e).buffer,u=Object.assign(Object.assign({},n),{id:yl(n.id).buffer}),d=Object.assign(Object.assign({},a),{challenge:l,user:u});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const h=s[p];d.excludeCredentials[p]=Object.assign(Object.assign({},h),{id:yl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return d}function nM(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=of(t,["challenge","allowCredentials"]),a=yl(e).buffer,l=Object.assign(Object.assign({},s),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const d=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:yl(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function iM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ya(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ya(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sM(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ya(new Uint8Array(a.authenticatorData)),clientDataJSON:Ya(new Uint8Array(a.clientDataJSON)),signature:Ya(new Uint8Array(a.signature)),userHandle:a.userHandle?Ya(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function J2(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function tb(){var t,e;return!!(ei()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rM(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new qd("Browser returned unexpected credential type",e)}:{data:null,error:new qd("Empty credential response",e)}}catch(e){return{data:null,error:X3({error:e,options:t})}}}async function aM(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new qd("Browser returned unexpected credential type",e)}:{data:null,error:new qd("Empty credential response",e)}}catch(e){return{data:null,error:Q3({error:e,options:t})}}}const oM={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lM={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $d(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(n(u))s[l]=u;else if(e(u)){const d=s[l];e(d)?s[l]=$d(d,u):s[l]=$d(u)}else s[l]=u}return s}function cM(t,e){return $d(oM,t,e||{})}function uM(t,e){return $d(lM,t,e||{})}class dM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:a},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:d};const p=a??eM.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${s}`),h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=cM(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:g,error:b}=await rM({publicKey:h,signal:p});return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}case"request":{const h=uM(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:g,error:b}=await aM(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:p}));return g?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}}}catch(u){return tt(u)?{data:null,error:u}:{data:null,error:new Ga("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Xc("rpId is required for WebAuthn authentication")};try{if(!tb())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:a},{request:l});if(!u)return{data:null,error:d};const{webauthn:p}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:s,credential_response:p.credential_response}})}catch(u){return tt(u)?{data:null,error:u}:{data:null,error:new Ga("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Xc("rpId is required for WebAuthn registration")};try{if(!tb())return{data:null,error:new Ga("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var b;return(b=g.data)===null||b===void 0?void 0:b.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===e&&T.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:d};const{data:p,error:h}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:a},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:h}}catch(u){return tt(u)?{data:null,error:u}:{data:null,error:new Ga("Unexpected error in register",u)}}}}Y3();const fM={url:l3,storageKey:c3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function nb(t,e,n){return await n()}const rl={};class Qc{get jwks(){var e,n;return(n=(e=rl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){rl[this.storageKey]=Object.assign(Object.assign({},rl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=rl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){rl[this.storageKey]=Object.assign(Object.assign({},rl[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},fM),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Qc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Qc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ei()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new G3({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Y2(l.fetch),this.lock=l.lock||nb,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:ei()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=$3:this.lock=nb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:$2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eb(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=eb(this.memoryStorage)),ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${B2}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(ei()&&(n=E3(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),ei()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),g3(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return tt(n)?this._returnResult({error:n}):this._returnResult({error:new Ga("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,a;try{const l=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:ls}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const p=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(l){if(tt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,s,a;try{let l;if("email"in e){const{email:g,password:b,options:T}=e;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await nl(this.storage,this.storageKey)),l=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:g,password:b,data:(n=T==null?void 0:T.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:S,code_challenge_method:j},xform:ls})}else if("phone"in e){const{phone:g,password:b,options:T}=e;l=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(s=T==null?void 0:T.data)!==null&&s!==void 0?s:{},channel:(a=T==null?void 0:T.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:ls})}else throw new Ed("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const p=u.session,h=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(l){if(tt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:u,options:d}=e;n=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Q1})}else if("phone"in e){const{phone:l,password:u,options:d}=e;n=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Q1})}else throw new Ed("You must provide either an email or phone number and a password");const{data:s,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const l=new tl;return this._returnResult({data:{user:null,session:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(tt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,a,l,u,d,p,h,g,b,T;let S,j;if("message"in e)S=e.message,j=e.signature;else{const{chain:N,wallet:P,statement:V,options:D}=e;let k;if(ei())if(typeof P=="object")k=P;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")k=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=P}const G=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href),J=await k.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=K2(J[0]);let te=(s=D==null?void 0:D.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!te){const B=await k.request({method:"eth_chainId"});te=W3(B)}const re={domain:G.host,address:K,statement:V,uri:G.href,version:"1",chainId:te,nonce:(a=D==null?void 0:D.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=D==null?void 0:D.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=D==null?void 0:D.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(p=D==null?void 0:D.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(h=D==null?void 0:D.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=D==null?void 0:D.signInWithEthereum)===null||g===void 0?void 0:g.resources};S=J3(re),j=await k.request({method:"personal_sign",params:[K3(S),K]})}try{const{data:N,error:P}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:ls});if(P)throw P;if(!N||!N.session||!N.user){const V=new tl;return this._returnResult({data:{user:null,session:null},error:V})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:P})}catch(N){if(tt(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var n,s,a,l,u,d,p,h,g,b,T,S;let j,N;if("message"in e)j=e.message,N=e.signature;else{const{chain:P,wallet:V,statement:D,options:k}=e;let G;if(ei())if(typeof V=="object")G=V;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))G=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=V}const J=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in G&&G.signIn){const K=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),D?{statement:D}:null));let te;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")te=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)te=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)j=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),N=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${J.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(a=(s=k==null?void 0:k.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((b=(g=k==null?void 0:k.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...k.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const K=await G.signMessage(new TextEncoder().encode(j),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=K}}try{const{data:P,error:V}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Ya(N)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ls});if(V)throw V;if(!P||!P.session||!P.user){const D=new tl;return this._returnResult({data:{user:null,session:null},error:D})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:V})}catch(P){if(tt(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(e){const n=await Va(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:l,error:u}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:ls});if(await Jr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new tl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(tt(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:a,access_token:l,nonce:u}=e,d=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ls}),{data:p,error:h}=d;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!p||!p.session||!p.user){const g=new tl;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:h})}catch(n){if(tt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,a,l,u;try{if("email"in e){const{email:d,options:p}=e;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await nl(this.storage,this.storageKey));const{error:b}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(s=p==null?void 0:p.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:d,options:p}=e,{data:h,error:g}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g})}throw new Ed("You must provide either an email or phone number.")}catch(d){if(tt(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var n,s;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:d}=await dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:ls});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,h=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:h,session:p},error:null})}catch(a){if(tt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,s,a,l,u;try{let d=null,p=null;this.flowType==="pkce"&&([d,p]=await nl(this.storage,this.storageKey));const h=await dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:p}),headers:this.headers,xform:F3});return!((l=h.data)===null||l===void 0)&&l.url&&ei()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(d){if(tt(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new ki;const{error:a}=await dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:u}=await dt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:u,error:d}=await dt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ed("You must provide either an email or phone number and a type")}catch(n){if(tt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Va(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Fp:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await Va(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Gp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=L3(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ea}):await this._useSession(async n=>{var s,a,l;const{data:u,error:d}=n;if(d)throw d;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ki}:await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:ea})})}catch(n){if(tt(n))return m3(n)&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new ki;const u=a.session;let d=null,p=null;this.flowType==="pkce"&&e.email!=null&&([d,p]=await nl(this.storage,this.storageKey));const{data:h,error:g}=await dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:p}),jwt:u.access_token,xform:ea});if(g)throw g;return u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(tt(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ki;const n=Date.now()/1e3;let s=n,a=!0,l=null;const{payload:u}=Bp(e.access_token);if(u.exp&&(s=u.exp,a=s<=n),a){const{data:d,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(tt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new ki;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(tt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ei())throw new Sd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new q1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new q1("No code detected.");const{data:D,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:d,expires_at:p,token_type:h}=e;if(!l||!d||!u||!h)throw new Sd("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(d);let T=g+b;p&&(T=parseInt(p));const S=T-g;S*1e3<=al&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const j=T-b;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,T,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,T,g);const{data:N,error:P}=await this._getUser(l);if(P)throw P;const V={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:b,expires_at:T,refresh_token:u,token_type:h,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:e.type},error:null})}catch(s){if(tt(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Va(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const u=(s=a.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(p3(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=T3(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,a;try{const{data:{session:l},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await nl(this.storage,this.storageKey,!0));try{return await dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(tt(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:a}=await this._useSession(async l=>{var u,d,p,h,g;const{data:b,error:T}=l;if(T)throw T;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await dt(this.fetch,"GET",S,{headers:this.headers,jwt:(g=(h=b.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return ei()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(tt(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:u,provider:d,token:p,access_token:h,nonce:g}=e,b=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:p,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:ls}),{data:T,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!T||!T.session||!T.user?this._returnResult({data:{user:null,session:null},error:new tl}):(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),this._returnResult({data:T,error:S}))}catch(a){if(tt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,a;const{data:l,error:u}=n;if(u)throw u;return await dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await C3(async a=>(a>0&&await N3(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ls})),(a,l)=>{const u=200*Math.pow(2,a);return l&&Hp(l)&&Date.now()+u-s<al})}catch(s){if(this._debug(n,"error",s),tt(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),ei()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Va(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Va(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await ol(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Gp()}else if(a&&!a.user&&!a.user){const u=await Va(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await Jr(this.storage,this.storageKey+"-user"),await ol(this.storage,this.storageKey,a)):a.user=Gp()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fp;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${Fp}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),Hp(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(a.access_token);!d&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new ki;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new lf;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new ki;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(a,"error",l),tt(l)){const u={data:null,error:l};return Hp(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await ol(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=J1(a);await ol(this.storage,this.storageKey,l)}else{const a=J1(n);await ol(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Jr(this.storage,this.storageKey),await Jr(this.storage,this.storageKey+"-code-verifier"),await Jr(this.storage,this.storageKey+"-user"),this.userStorage&&await Jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ei()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),al);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/al);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${al}ms, refresh threshold is ${Sm} ticks`),a<=Sm&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof W2)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ei()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await nl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(d.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,a;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:h}=await dt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&p.type==="totp"&&(!((a=p==null?void 0:p.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?iM(e.webauthn.credential_response):sM(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:p}=await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:p}))})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:tM(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:nM(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Bp(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?await dt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new ki})})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new ki});const u=await dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&ei()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(tt(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new ki});const u=await dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&ei()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(tt(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;return s?this._returnResult({data:null,error:s}):n?await dt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ki})})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?await dt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new ki})})}catch(n){if(tt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(d=>d.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+f3>a)return s;const{data:l,error:u}=await dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:S,error:j}=await this.getSession();if(j||!S.session)return this._returnResult({data:null,error:j});s=S.session.access_token}const{header:a,payload:l,signature:u,raw:{header:d,payload:p}}=Bp(s);n!=null&&n.allowExpired||D3(l.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:l,header:a,signature:u},error:null}}const g=P3(a.alg),b=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,u,w3(`${d}.${p}`)))throw new Am("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(s){if(tt(s))return this._returnResult({data:null,error:s});throw s}}}Qc.nextInstanceID={};class hM extends Qc{constructor(e){super(e)}}var pM=function(t,e,n,s){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function d(g){try{h(s.next(g))}catch(b){u(b)}}function p(g){try{h(s.throw(g))}catch(b){u(b)}}function h(g){g.done?l(g.value):a(g.value).then(d,p)}h((s=s.apply(t,e||[])).next())})};const mM={headers:t3},gM={schema:"public"},yM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xM={};class vM{constructor(e,n,s){var a,l,u,d,p,h,g,b;if(this.supabaseUrl=e,this.supabaseKey=n,this.from=P=>this.rest.from(P),this.schema=P=>this.rest.schema(P),this.rpc=(P,V={},D)=>this.rest.rpc(P,V,D),!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const T=a3(e);this.realtimeUrl=`${T}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${T}/auth/v1`,this.storageUrl=`${T}/storage/v1`,this.functionsUrl=`${T}/functions/v1`;const S=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,j={db:gM,realtime:xM,auth:Object.assign(Object.assign({},yM),{storageKey:S}),global:mM},N=o3(s??{},j);this.storageKey=(l=(a=N.auth)===null||a===void 0?void 0:a.storageKey)!==null&&l!==void 0?l:"",this.headers=(d=(u=N.global)===null||u===void 0?void 0:u.headers)!==null&&d!==void 0?d:{},this.auth=this._initSupabaseAuthClient((p=N.auth)!==null&&p!==void 0?p:{},this.headers,(h=N.global)===null||h===void 0?void 0:h.fetch),this.fetch=r3(n,this._getAccessToken.bind(this),(g=N.global)===null||g===void 0?void 0:g.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},N.realtime)),this.rest=new fj(`${T}/rest/v1`,{headers:this.headers,schema:(b=N.db)===null||b===void 0?void 0:b.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new tj(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zj(this.storageUrl,this.headers,this.fetch)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return pM(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:l,flowType:u,debug:d},p,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hM({url:this.authUrl,headers:Object.assign(Object.assign({},g),p),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:a,flowType:u,debug:d,fetch:h})}_initRealtimeClient(e){return new Rj(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.realtime.setAuth(s??null),this.changedAccessToken=s):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bM=(t,e,n)=>new vM(t,e,n),X2="https://rnxqyltjbcwqwblnhuhm.supabase.co",wM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJueHF5bHRqYmN3cXdibG5odWhtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5Njc2OTQsImV4cCI6MjA3OTU0MzY5NH0.fmyt1OPdu15FUMxr3FrlWEstGMTMXlWcE9clqDOov5o",_n=bM(X2,wM),Li=!!_n;Li?console.log(" Supabase  :",X2):console.log(" Supabase   ( )");const dr={USERS:"ai_teenager_users_v6",CURRENT_USER_ID:"ai_teenager_current_id_v6"};function ib(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t=="x"?e:e&3|8;return n.toString(16)})}const _M=async t=>{let e,n=!1;if(console.log("DB: Identifying User...",t),t!=null&&t.id)e=t.id.toString();else{n=!0;const d=localStorage.getItem(dr.CURRENT_USER_ID);if(d)if(d.startsWith("guest_")){console.log("DB: Found Legacy Guest ID (Non-UUID):",d),console.log("DB:  MIGRATING to new UUID format...");const h=sa().find(b=>b.id===d),g=ib();e=g,localStorage.setItem(dr.CURRENT_USER_ID,g),h&&(console.log("DB: Migrating user data:",h.coins,"coins,",h.xp,"XP"),h.id=g,Qa(h)),console.log("DB:  Migration complete! New UUID:",g)}else e=d,console.log("DB: Recovered Guest UUID:",e);else e=ib(),localStorage.setItem(dr.CURRENT_USER_ID,e),console.log("DB: Generated New Guest UUID:",e)}const s=(t==null?void 0:t.photo_url)||`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}&backgroundColor=b6e3f4`,a={id:e,telegramId:t==null?void 0:t.id,username:t==null?void 0:t.username,name:(t==null?void 0:t.first_name)||"",role:Zr.TEEN,xp:0,coins:100,level:1,hp:5,maxHp:5,avatarUrl:s,streak:0,completedTaskIds:[],interest:"",inventory:[],league:"BRONZE"},u=sa().find(d=>d.id===e||d.telegramId&&d.telegramId.toString()===e);if(Li)try{console.log(`DB: Checking Supabase for Telegram ID: ${e} (Guest: ${n})`);let d=_n.from("users").select("*"),p=null,h=null;if(!n&&(t!=null&&t.id)){const{data:g,error:b}=await _n.from("users").select("*").eq("telegram_id",t.id.toString()).maybeSingle();p=g,h=b}else{const{data:g,error:b}=await d.eq("id",e).maybeSingle();p=g,h=b}if(p){console.log(" Found User in Supabase:",p.name,"ID:",p.id);const{data:g,error:b}=await _n.from("progress").select("task_id").eq("user_id",p.id);b&&console.error("Error loading progress:",b);const T=(g==null?void 0:g.map(D=>D.task_id))||[];console.log(` Loaded ${T.length} completed tasks from Supabase`);const S=Number(p.xp)||0,j=Number(p.coins)||0,N=(u==null?void 0:u.xp)||0,P=(u==null?void 0:u.coins)||0,V={...a,id:p.id,telegramId:p.telegram_id||(t==null?void 0:t.id),username:p.username||(t==null?void 0:t.username),name:p.name||(t==null?void 0:t.first_name)||"",xp:Math.max(S,N),coins:Math.max(j,P),level:p.level||1,hp:p.hp??5,maxHp:p.max_hp??5,streak:p.streak||0,interest:p.interest||"",inventory:p.inventory||[],completedTaskIds:T,avatarUrl:(t==null?void 0:t.photo_url)||p.avatar_url||s,league:p.league||"BRONZE"};return Qa(V),console.log(" User synced to local storage with UUID:",V.id),V}else{console.log(" User not found in DB. Uploading Local Data...");const g=u||a,b={id:n?e:void 0,telegram_id:n?null:e,username:g.username||(t==null?void 0:t.username),name:g.name||(t==null?void 0:t.first_name),role:g.role,xp:g.xp,coins:g.coins,level:g.level,hp:g.hp,max_hp:g.maxHp,avatar_url:g.avatarUrl,streak:g.streak,interest:g.interest,inventory:g.inventory};let{data:T,error:S}=await _n.from("users").insert(b).select().single();if(S)return console.error(" DB Create Failed:",S),g;const j={...g,id:T.id};if(Qa(j),g.completedTaskIds.length>0)for(const N of g.completedTaskIds)await _n.from("progress").insert({user_id:T.id,task_id:N,xp_earned:0,completed_at:new Date().toISOString()});return j}}catch(d){console.error("Supabase Connection Error:",d)}return u||a},TM=t=>t>=10?.5:t>=7?.3:t>=5?.2:t>=3?.1:0,EM=t=>t>=5?.3:t>=3?.2:t>=2?.1:0,SM=()=>{if(Math.random()>.2)return null;const t=[{xp:50,coins:0,message:" ! +50 XP!"},{xp:0,coins:25,message:" ! +25 !"},{xp:100,coins:0,message:" ! +100 XP!"},{xp:0,coins:50,message:" ! +50 !"},{xp:75,coins:25,message:" ! +75 XP  +25 !"}];return t[Math.floor(Math.random()*t.length)]},Q2=t=>{const n=`tasks_completed_${new Date().toDateString()}`,s=localStorage.getItem(n);return s?parseInt(s,10):0},NM=()=>{const e=`tasks_completed_${new Date().toDateString()}`,n=Q2();localStorage.setItem(e,(n+1).toString())},CM=(t,e,n,s)=>{let a=0,l=0;const u=[],d=TM(n);if(d>0){const b=Math.floor(t*d);a+=b,u.push(`  ${n}: +${Math.round(d*100)}% XP`)}const p=Q2(),h=EM(p);if(h>0){const b=Math.floor(t*h);a+=b,u.push(` ${p}  : +${Math.round(h*100)}% XP`)}{const b=xp.MYSTERY_MULTIPLIER_CHANCE;if(Math.random()<b){const T=xp.MYSTERY_MULTIPLIER_MAX,S=Math.floor(Math.random()*T)+1;if(S>1){const N=Math.floor(t*(S-1));a+=N,u.push(` Mystery x${S}! +${N} XP`)}else u.push(" Mystery x1!   .");const j=Math.floor(e*(Math.random()<.5?Math.floor(Math.random()*xp.MYSTERY_MULTIPLIER_MAX):0));j>0&&(l+=j,u.push(` Mystery coins +${j}`))}}const g=SM();return g&&(a+=g.xp,l+=g.coins,u.push(g.message),localStorage.setItem("last_surprise_bonus",JSON.stringify(g))),{finalXP:t+a,finalCoins:e+l,bonusXP:a,bonusCoins:l,bonusMessages:u}},AM=async(t,e)=>{const n=sa(),s=n.findIndex(u=>u.id===t);let a=null;if(s!==-1){const u=n[s];if(u.completedTaskIds.includes(e.id))a=u;else{const d=CM(e.xpReward,e.coinsReward||0,u.level,u.completedTaskIds);u.completedTaskIds.push(e.id),u.xp+=d.finalXP,u.coins=(u.coins||0)+d.finalCoins,u.level=Math.floor(u.xp/500)+1,d.bonusMessages.length>0&&(localStorage.setItem("last_bonus_messages",JSON.stringify(d.bonusMessages)),console.log(" :",d.bonusMessages)),NM(),n[s]=u,localStorage.setItem(dr.USERS,JSON.stringify(n)),a=u}}const l=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t);if(Li&&l)try{if(!a){const{data:u}=await _n.from("users").select("*").eq("id",t).single();if(u){const{data:d}=await _n.from("progress").select("task_id").eq("user_id",t),p=(d==null?void 0:d.map(h=>h.task_id))||[];p.includes(e.id)||(a={id:u.id,telegramId:u.telegram_id,username:u.username,name:u.name,role:u.role,xp:Number(u.xp)||0,coins:Number(u.coins)||0,level:u.level||1,hp:u.hp??5,maxHp:u.max_hp??5,avatarUrl:u.avatar_url||"",streak:u.streak||0,completedTaskIds:p,interest:u.interest||"",inventory:u.inventory||[],league:u.league||"BRONZE"},a.completedTaskIds.push(e.id),a.xp+=e.xpReward,a.coins=(a.coins||0)+(e.coinsReward||0),a.level=Math.floor(a.xp/500)+1,Qa(a))}}if(a){const{data:u}=await _n.from("progress").select("*").eq("user_id",t).eq("task_id",e.id).maybeSingle();if(u)console.log("Task already completed in Supabase:",e.id);else{const{error:d}=await _n.from("progress").insert({user_id:t,task_id:e.id,xp_earned:e.xpReward,completed_at:new Date().toISOString()});d&&console.error("Supabase Progress Insert Error:",d);const{error:p}=await _n.from("users").update({xp:a.xp,coins:a.coins,level:a.level}).eq("id",t);p?console.error("Supabase User Update Error:",p):console.log(" Task completed and synced to Supabase:",e.id)}}}catch(u){console.error("Supabase Sync Error",u)}},RM=async(t,e)=>{const n=sa(),s=n.findIndex(p=>p.id===t);let a=null;if(s!==-1)a=n[s];else if(Li&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))try{const{data:h}=await _n.from("users").select("*").eq("id",t).single();h&&(a={id:h.id,telegramId:h.telegram_id,username:h.username,name:h.name,role:h.role,xp:Number(h.xp)||0,coins:Number(h.coins)||0,level:h.level||1,hp:h.hp??5,maxHp:h.max_hp??5,avatarUrl:h.avatar_url||"",streak:h.streak||0,completedTaskIds:[],interest:h.interest||"",inventory:h.inventory||[],league:h.league||"BRONZE"},Qa(a))}catch(h){console.error("Failed to fetch user from Supabase:",h)}if(!a)return console.error("User not found for purchase:",t),!1;if(Li&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))try{const{data:h}=await _n.from("users").select("coins, inventory").eq("id",t).single(),g=Number(h==null?void 0:h.coins)||0,b=a.coins||0;if(b>g){console.log(` Syncing coins to DB: Local(${b}) > DB(${g})`);const{error:T}=await _n.from("users").update({coins:b}).eq("id",t);T?console.error("Failed to sync coins to DB:",T):console.log(" Coins synced successfully.")}else if(g>b){if(console.log(` Updating local coins from DB: DB(${g}) > Local(${b})`),a.coins=g,h!=null&&h.inventory&&Array.isArray(h.inventory)){const T=[...new Set([...a.inventory,...h.inventory])];a.inventory=T}Qa(a)}}catch(h){console.error("Error during pre-purchase sync:",h)}if(e.type==="COSMETIC"&&a.inventory.includes(e.id))return console.log("Item already owned (checked after sync):",e.id),!1;if(a.coins<e.price)return console.log("Insufficient coins:",a.coins,"<",e.price),!1;if(e.id==="hp_potion"&&a.hp>=a.maxHp)return console.log("HP already full:",a.hp,">=",a.maxHp),!1;if(a.coins-=e.price,e.type==="COSMETIC")a.inventory.push(e.id);else if(e.id==="hp_potion")a.hp=Math.min(a.hp+1,a.maxHp);else if(e.id==="mystery_box"){const p=[{type:"coins",amount:50,message:" +50 !"},{type:"coins",amount:100,message:" +100 ! !"},{type:"coins",amount:150,message:" +150 ! !"},{type:"xp",amount:100,message:" +100 XP!"},{type:"xp",amount:200,message:" +200 XP! !"},{type:"hp",amount:1,message:" +1 HP !"},{type:"hp",amount:2,message:" +2 HP! !"}],h=p[Math.floor(Math.random()*p.length)];h.type==="coins"?a.coins+=h.amount:h.type==="xp"?(a.xp+=h.amount,a.level=Math.floor(a.xp/500)+1):h.type==="hp"&&(a.hp=Math.min(a.hp+h.amount,a.maxHp)),console.log(" Mystery Box Reward:",h.message),localStorage.setItem("mystery_box_reward",JSON.stringify(h))}else e.id==="streak_freeze"&&a.inventory.push(e.id);const l=sa(),u=l.findIndex(p=>p.id===t);u!==-1?l[u]=a:l.push(a),localStorage.setItem(dr.USERS,JSON.stringify(l));const d=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t);if(Li&&d)try{const{error:p}=await _n.from("users").update({coins:a.coins,inventory:a.inventory,hp:a.hp,xp:a.xp,level:a.level}).eq("id",t);p?console.error("Supabase Purchase Error:",p):console.log(" Purchase synced to Supabase:",e.id)}catch(p){console.error("Purchase Sync Failed",p)}return!0},sb="ai_teenager_last_activity",IM=async t=>{const e=sa(),n=e.find(b=>b.id===t);if(!n)return null;const s=localStorage.getItem(sb),a=new Date().toDateString(),l=new Date(Date.now()-864e5).toDateString();if(s===a)return null;let u=n.streak||0,d=0,p="";s===l?(u+=1,d=Math.min(u*10,100),p=` ${u}  ! +${d} `):s?(u=1,d=5,p="  ! +5 "):(u=1,d=10,p="  ! +10 "),n.streak=u,n.coins=(n.coins||0)+d,localStorage.setItem(sb,a);const h=e.findIndex(b=>b.id===t);h!==-1&&(e[h]=n,localStorage.setItem(dr.USERS,JSON.stringify(e)));const g=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t);if(Li&&g)try{await _n.from("users").update({streak:u,coins:n.coins,last_activity:a}).eq("id",t),console.log(` Streak synced: ${u} days`)}catch(b){console.error("Streak sync failed:",b)}return{newStreak:u,bonus:d,message:p}},jM=async t=>{var u;const e=sa(),n=e.find(d=>d.id===t);if(!n)return null;const s=((u=n.completedTaskIds)==null?void 0:u.length)||0,a=[{count:5,xp:200,coins:100,key:"milestone_5"},{count:10,xp:500,coins:250,key:"milestone_10"},{count:15,xp:800,coins:400,key:"milestone_15"},{count:20,xp:1e3,coins:500,key:"milestone_20"},{count:25,xp:1500,coins:750,key:"milestone_25"},{count:30,xp:2e3,coins:1e3,key:"milestone_30"}],l=JSON.parse(localStorage.getItem("claimed_milestones")||"[]");for(const d of a)if(s>=d.count&&!l.includes(d.key)){n.xp+=d.xp,n.coins+=d.coins,n.level=Math.floor(n.xp/500)+1,l.push(d.key),localStorage.setItem("claimed_milestones",JSON.stringify(l));const p=e.findIndex(g=>g.id===t);p!==-1&&(e[p]=n,localStorage.setItem(dr.USERS,JSON.stringify(e)));const h=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t);if(Li&&h)try{await _n.from("users").update({xp:n.xp,coins:n.coins,level:n.level}).eq("id",t)}catch(g){console.error("Milestone sync failed:",g)}return{milestone:d.count,xpBonus:d.xp,coinsBonus:d.coins}}return null},MM=async()=>{if(Li)try{const{data:t}=await _n.from("users").select("*").eq("role","TEEN");if(t){const{data:e}=await _n.from("progress").select("*");return t.map(n=>{const s=(e==null?void 0:e.filter(l=>l.user_id===n.id))||[],a=s.length>0?50:0;return{id:n.id,name:n.name,avatar:n.avatar_url||"",week1Progress:a,week2Progress:0,week3Progress:0,status:"active",lastLogin:"Web",totalXp:Number(n.xp)||0,tasksCompletedCount:s.length}})}}catch(t){console.error(t)}return[]},kM=async t=>{if(!Li||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))return null;try{const{data:n,error:s}=await _n.from("users").select("*").eq("id",t).single();if(s||!n)return console.error("Failed to refresh user from Supabase:",s),null;const{data:a}=await _n.from("progress").select("task_id").eq("user_id",t),l={id:n.id,telegramId:n.telegram_id,username:n.username,name:n.name,role:n.role,xp:Number(n.xp)||0,coins:Number(n.coins)||0,level:n.level||1,hp:n.hp??5,maxHp:n.max_hp??5,avatarUrl:n.avatar_url||"",streak:n.streak||0,completedTaskIds:(a==null?void 0:a.map(u=>u.task_id))||[],interest:n.interest||"",inventory:n.inventory||[],league:n.league||"BRONZE"};return Qa(l),l}catch(n){return console.error("Error refreshing user from Supabase:",n),null}};function sa(){try{const t=localStorage.getItem(dr.USERS);return t?JSON.parse(t):[]}catch{return[]}}function Qa(t){const e=sa(),n=e.findIndex(s=>s.id===t.id);n!==-1?e[n]=t:e.push(t),localStorage.setItem(dr.USERS,JSON.stringify(e))}const DM=["habit_tracker_data","goals_tracker","notes_journal","balance_wheel_history","emotion_diary_entries","gratitude_entries","reflection_entries","planner_tasks","focus_sessions","challenges_data","life_skills_progress"],Z2=()=>{const t={};return DM.forEach(e=>{const n=localStorage.getItem(e);if(n)try{t[e]=JSON.parse(n)}catch{t[e]=n}}),t},PM=t=>{Object.entries(t).forEach(([e,n])=>{n!=null&&localStorage.setItem(e,JSON.stringify(n))})},OM=async t=>{var n;if(!Li||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))return!1;try{const s=Z2(),{error:a}=await _n.from("users").update({tools_data:s}).eq("id",t);return a?((n=a.message)!=null&&n.includes("column")||a.code==="42703"||console.error(" Tools sync failed:",a.message),!1):(console.log(" Tools data synced to Supabase"),!0)}catch{return!1}},LM=async t=>{var n;if(!Li||!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))return!1;try{const{data:s,error:a}=await _n.from("users").select("tools_data").eq("id",t).single();if((n=a==null?void 0:a.message)!=null&&n.includes("column")||(a==null?void 0:a.code)==="42703"||a||!(s!=null&&s.tools_data))return!1;const l=s.tools_data,u=Z2(),d={...l};return Object.entries(u).forEach(([p,h])=>{if(Array.isArray(h)&&Array.isArray(l[p])){const g=l[p],b=h,T=[...g];b.forEach(S=>{T.some(N=>N.id===S.id)||T.push(S)}),d[p]=T}else h&&(!l[p]||JSON.stringify(h).length>JSON.stringify(l[p]).length)&&(d[p]=h)}),PM(d),console.log(" Tools data loaded from Supabase"),!0}catch(s){return console.error(" Load tools error:",s),!1}},UM=O.lazy(()=>ps(()=>import("./PomodoroTimer-BidKysp2.js"),__vite__mapDeps([0,1])).then(t=>({default:t.PomodoroTimer}))),VM=O.lazy(()=>ps(()=>import("./BalanceWheel-JB6Uo6XT.js"),__vite__mapDeps([2,1])).then(t=>({default:t.BalanceWheel}))),zM=O.lazy(()=>ps(()=>import("./EmotionDiary-CeS-gj0V.js"),__vite__mapDeps([3,4])).then(t=>({default:t.EmotionDiary}))),FM=O.lazy(()=>ps(()=>import("./PlannerTool-DvxAt7Vt.js"),[]).then(t=>({default:t.PlannerTool}))),HM=O.lazy(()=>ps(()=>import("./GoalsTool-zMU_HfCd.js"),__vite__mapDeps([5,4,6])).then(t=>({default:t.GoalsTool}))),BM=O.lazy(()=>ps(()=>import("./NotesTool-BrzLg17U.js"),__vite__mapDeps([7,4])).then(t=>({default:t.NotesTool}))),GM=O.lazy(()=>ps(()=>import("./HabitTracker-uCwfucum.js"),__vite__mapDeps([8,4,6])).then(t=>({default:t.HabitTracker}))),qM=O.lazy(()=>ps(()=>import("./ChallengeSystem-sM_iFv1h.js"),[]).then(t=>({default:t.ChallengeSystem}))),$M=O.lazy(()=>ps(()=>import("./FocusMode-CZ-UrPlE.js"),[]).then(t=>({default:t.FocusMode}))),YM=O.lazy(()=>ps(()=>import("./ReflectionJournal-DqA3N8i7.js"),[]).then(t=>({default:t.ReflectionJournal}))),WM=O.lazy(()=>ps(()=>import("./LifeSkillsModule-x05MtpN-.js"),[]).then(t=>({default:t.LifeSkillsModule}))),KM=()=>o.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",style:{background:"rgba(0,0,0,0.8)",backdropFilter:"blur(10px)"},children:o.jsx(H.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:o.jsx(f5,{size:32,className:"text-purple-400"})})}),JM={focus:"https://images.unsplash.com/photo-1502082553048-f009c37129b9?w=400&h=400&fit=crop",challenges:"https://images.unsplash.com/photo-1533227268428-f9ed0900fb3b?w=400&h=400&fit=crop",habits:"https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?w=400&h=400&fit=crop",lifeskills:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=400&h=400&fit=crop",reflection:"https://images.unsplash.com/photo-1544027993-37dbfe43562a?w=400&h=400&fit=crop",pomodoro:"https://images.unsplash.com/photo-1495364141860-b0d03eccd065?w=400&h=400&fit=crop",planner:"https://images.unsplash.com/photo-1506784983877-45594efa4cbe?w=400&h=400&fit=crop",goals:"https://images.unsplash.com/photo-1533073526757-2c8ca1df9f1c?w=400&h=400&fit=crop",notes:"https://images.unsplash.com/photo-1517842645767-c639042777db?w=400&h=400&fit=crop",balance:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=400&h=400&fit=crop",emotions:"https://images.unsplash.com/photo-1499209974431-9dddcece7f88?w=400&h=400&fit=crop"},Ic=[{id:"focus",name:" ",description:"  ",icon:iN,color:"#22c55e",xpReward:30,isHot:!0,category:"featured"},{id:"challenges",name:"",description:"    ",icon:Ds,color:"#f59e0b",xpReward:50,isHot:!0,category:"featured"},{id:"habits",name:"",description:"  ",icon:fr,color:"#ef4444",xpReward:15,isNew:!0,category:"growth"},{id:"lifeskills",name:"Life Skills",description:"   ",icon:Zd,color:"#6366f1",xpReward:40,isNew:!0,category:"growth"},{id:"reflection",name:"",description:" ",icon:zw,color:"#8b5cf6",xpReward:25,isNew:!0,category:"wellness"},{id:"pomodoro",name:"",description:"  25/5",icon:Z5,color:"#ef4444",xpReward:20,category:"productivity"},{id:"planner",name:"",description:"  ",icon:Vm,color:"#22c55e",xpReward:15,category:"productivity"},{id:"goals",name:"",description:" ",icon:Ui,color:"#f59e0b",xpReward:25,category:"growth"},{id:"notes",name:"",description:"   ",icon:KS,color:"#8b5cf6",xpReward:10,category:"productivity"},{id:"balance",name:" ",description:"  ",icon:_S,color:"#6366f1",xpReward:30,category:"wellness"},{id:"emotions",name:" ",description:" ",icon:Ni,color:"#ec4899",xpReward:25,category:"wellness"}],XM=[{id:"all",name:"",emoji:""},{id:"featured",name:"",emoji:""},{id:"productivity",name:"",emoji:""},{id:"growth",name:"",emoji:""},{id:"wellness",name:"",emoji:""}],QM=()=>{const t={};try{const e=localStorage.getItem("pomodoro_stats");e&&(t.pomodoro=JSON.parse(e).totalTime||0);const n=localStorage.getItem("habit_tracker_data");n&&(t.habits=JSON.parse(n).length||0);const s=localStorage.getItem("reflection_journal");s&&(t.reflection=JSON.parse(s).length||0);const a=localStorage.getItem("focus_streak");a&&(t.focus=JSON.parse(a).streak||0);const l=localStorage.getItem("life_skills_progress");l&&(t.lifeskills=JSON.parse(l).length||0);const u=localStorage.getItem("goals_tracker");if(u){const g=JSON.parse(u),b=g.filter(T=>T.progress>=T.target).length;t.goals=g.length>0?`${b}/${g.length}`:0}const d=localStorage.getItem("notes_journal");d&&(t.notes=JSON.parse(d).length||0);const p=localStorage.getItem("balance_wheel_history");p&&(t.balance=JSON.parse(p).length||0);const h=localStorage.getItem("emotion_diary_entries");h&&(t.emotions=JSON.parse(h).length||0)}catch(e){console.error("Error loading stats:",e)}return t},ZM=({user:t,onXpEarned:e})=>{const[n,s]=O.useState(null),[a,l]=O.useState("all"),[u,d]=O.useState("idle"),p=QM();O.useEffect(()=>{t!=null&&t.id&&LM(t.id)},[t==null?void 0:t.id]),O.useEffect(()=>{!n&&(t!=null&&t.id)&&(d("syncing"),OM(t.id).then(()=>{d("synced"),setTimeout(()=>d("idle"),2e3)}))},[n,t==null?void 0:t.id]);const h=(S,j,N=0)=>{e==null||e(j,N);const P=new Date().toDateString();if(localStorage.getItem("tools_used_date")!==P)localStorage.setItem("tools_used_date",P),localStorage.setItem("tools_used_today","1");else{const D=parseInt(localStorage.getItem("tools_used_today")||"0",10);localStorage.setItem("tools_used_today",String(D+1))}localStorage.setItem("last_tool_used",S),console.log("[ChallengeTracker] Tool completed:",S,"Total today:",localStorage.getItem("tools_used_today"))},g=S=>{const j=p[S];return j&&{pomodoro:`${j} `,habits:`${j} `,reflection:`${j} `,focus:`${j} `,lifeskills:`${j} `,goals:typeof j=="string"?j:null,notes:`${j} `,balance:`${j} `,emotions:`${j} `}[S]||null},b=a==="all"?Ic:Ic.filter(S=>S.category===a),T=Ic.filter(S=>S.category==="featured");return o.jsxs("div",{className:"min-h-screen pb-40 relative overflow-hidden",style:{background:"linear-gradient(180deg, #0a0a1a 0%, #0f0f2a 50%, #0a0a1a 100%)"},children:[o.jsxs("div",{className:"fixed inset-0 -z-10 pointer-events-none",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-[400px] h-[300px] rounded-full opacity-30",style:{background:"radial-gradient(ellipse, rgba(99,102,241,0.3) 0%, transparent 70%)",filter:"blur(60px)"}}),o.jsx("div",{className:"absolute top-20 right-0 w-[350px] h-[250px] rounded-full opacity-25",style:{background:"radial-gradient(ellipse, rgba(139,92,246,0.25) 0%, transparent 70%)",filter:"blur(50px)"}})]}),o.jsx("div",{className:"sticky top-0 z-20 px-4 pt-4 pb-3",children:o.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-5 rounded-[2rem]",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.03) 100%)",backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255,255,255,0.12)",boxShadow:"0 8px 32px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.1)"},children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsxs("div",{className:"w-14 h-14 rounded-2xl overflow-hidden relative",style:{boxShadow:"0 4px 20px rgba(99,102,241,0.3)"},children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=100&h=100&fit=crop",alt:"Tools",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-indigo-600/60 to-transparent"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(Hn,{size:24,className:"text-white drop-shadow-lg"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-2xl font-black text-white tracking-tight",children:""}),o.jsxs("p",{className:"text-white/50 text-sm",children:[Ic.length,"   "]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Et,{children:u!=="idle"&&o.jsx(H.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"p-2 rounded-xl",style:{background:u==="synced"?"rgba(34,197,94,0.2)":"rgba(99,102,241,0.2)"},children:u==="syncing"?o.jsx(Hw,{size:16,className:"text-indigo-400 animate-pulse"}):o.jsx(Ka,{size:16,className:"text-green-400"})})}),o.jsxs(H.div,{className:"px-3 py-1.5 rounded-xl flex items-center gap-1.5",style:{background:"linear-gradient(135deg, rgba(245,158,11,0.25) 0%, rgba(234,88,12,0.15) 100%)",border:"1px solid rgba(245,158,11,0.3)",boxShadow:"0 4px 15px rgba(245,158,11,0.2)"},whileHover:{scale:1.05},children:[o.jsx(ni,{size:14,className:"text-amber-400"}),o.jsx("span",{className:"text-amber-400 font-bold text-sm",children:t.xp})]})]})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1 scrollbar-hide",children:XM.map((S,j)=>o.jsxs(H.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:j*.05},onClick:()=>l(S.id),className:"px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all flex items-center gap-1.5",style:{background:a===S.id?"linear-gradient(135deg, rgba(99,102,241,0.5) 0%, rgba(139,92,246,0.4) 100%)":"rgba(255,255,255,0.05)",border:`1px solid ${a===S.id?"rgba(99,102,241,0.4)":"rgba(255,255,255,0.08)"}`,color:a===S.id?"white":"rgba(255,255,255,0.5)",boxShadow:a===S.id?"0 4px 15px rgba(99,102,241,0.25)":"none"},whileHover:{scale:1.02},whileTap:{scale:.98},children:[o.jsx("span",{children:S.emoji}),S.name]},S.id))})]})}),a==="all"&&o.jsxs("div",{className:"px-4 pt-2 pb-4",children:[o.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 mb-3",children:[o.jsx(Qi,{size:16,className:"text-amber-400"}),o.jsx("span",{className:"text-white/70 text-sm font-medium",children:""})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:T.map((S,j)=>{const N=g(S.id),P=S.icon;return o.jsxs(H.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:j*.03},onClick:()=>s(S.id),className:"relative rounded-2xl overflow-hidden aspect-[4/3]",style:{background:"rgba(255,255,255,0.08)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255,255,255,0.12)",boxShadow:"0 8px 32px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.1)"},whileTap:{scale:.98},children:[o.jsx("img",{src:JM[S.id],alt:S.name,className:"absolute inset-0 w-full h-full object-cover opacity-40"}),o.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(180deg, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.5) 100%)"}}),o.jsxs("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded-full text-[10px] font-bold flex items-center gap-1",style:{background:"rgba(239,68,68,0.9)",backdropFilter:"blur(10px)"},children:[o.jsx("span",{children:""}),o.jsx("span",{className:"text-white",children:"HOT"})]}),o.jsxs("div",{className:"absolute inset-0 p-3 flex flex-col justify-end",children:[o.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center mb-2",style:{background:"rgba(255,255,255,0.15)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)"},children:o.jsx(P,{size:18,className:"text-white"})}),o.jsx("h3",{className:"text-white font-bold text-sm mb-0.5",children:S.name}),o.jsx("p",{className:"text-white/60 text-[10px] mb-1.5 line-clamp-1",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[N?o.jsx("span",{className:"text-[10px] font-medium px-1.5 py-0.5 rounded",style:{background:"rgba(255,255,255,0.15)",backdropFilter:"blur(10px)"},children:N}):o.jsx("span",{className:"text-white/40 text-[10px]",children:"!"}),o.jsxs("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded",style:{background:"rgba(245,158,11,0.25)",color:"#fbbf24"},children:["+",S.xpReward]})]})]})]},S.id)})})]}),o.jsxs("div",{className:"px-4 py-2",children:[a==="all"&&o.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 mb-3",children:[o.jsx(Hn,{size:16,className:"text-indigo-400"}),o.jsx("span",{className:"text-white/70 text-sm font-medium",children:" "})]}),o.jsx("div",{className:"space-y-2",children:(a==="all"?Ic.filter(S=>S.category!=="featured"):b).map((S,j)=>{g(S.id);const N=S.icon;return o.jsx(H.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:j*.02},onClick:()=>s(S.id),className:"w-full text-left rounded-xl overflow-hidden relative",style:{background:"rgba(255,255,255,0.06)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:"1px solid rgba(255,255,255,0.08)",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.05)"},whileTap:{scale:.99},children:o.jsxs("div",{className:"flex items-center gap-3 p-3",children:[o.jsx("div",{className:"w-11 h-11 rounded-xl overflow-hidden shrink-0 relative",style:{background:`linear-gradient(135deg, ${S.color}30 0%, ${S.color}10 100%)`,border:`1px solid ${S.color}30`},children:o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx(N,{size:20,style:{color:S.color}})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("h3",{className:"text-sm font-bold text-white",children:S.name}),S.isNew&&o.jsx("span",{className:"px-1 py-0.5 rounded text-[8px] font-bold",style:{background:"#22c55e",color:"white"},children:"NEW"})]}),o.jsx("p",{className:"text-white/40 text-xs truncate",children:S.description})]}),o.jsxs("div",{className:"px-2 py-1 rounded-lg text-[10px] font-bold flex items-center gap-1",style:{background:"rgba(245,158,11,0.15)",color:"#fbbf24"},children:[o.jsx(ni,{size:10}),"+",S.xpReward]})]})},S.id)})}),o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-6 rounded-[1.5rem] overflow-hidden relative",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.15) 0%, rgba(139,92,246,0.08) 100%)",backdropFilter:"blur(40px)",border:"1px solid rgba(99,102,241,0.2)",boxShadow:"0 8px 32px rgba(99,102,241,0.15)"},children:[o.jsx("div",{className:"absolute inset-0 opacity-20",children:o.jsx("img",{src:"https://images.unsplash.com/photo-1502082553048-f009c37129b9?w=600&h=200&fit=crop",alt:"",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"relative p-5 flex items-start gap-3",children:[o.jsx(H.div,{className:"text-2xl",animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:""}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-1",children:"  "}),o.jsx("p",{className:"text-white/60 text-sm leading-relaxed",children:' " "     !   ,     '})]})]})]})]}),o.jsx(O.Suspense,{fallback:o.jsx(KM,{}),children:o.jsxs(Et,{children:[n==="focus"&&o.jsx($M,{isOpen:!0,onClose:()=>s(null),onComplete:(S,j)=>h("focus",S,j)}),n==="challenges"&&o.jsx(qM,{isOpen:!0,onClose:()=>s(null),onComplete:(S,j)=>h("challenges",S,j),userXp:t.xp,completedLessons:t.completedTaskIds.length,userStreak:t.streak||0}),n==="habits"&&o.jsx(GM,{isOpen:!0,onClose:()=>s(null),onComplete:S=>h("habits",S)}),n==="lifeskills"&&o.jsx(WM,{isOpen:!0,onClose:()=>s(null),onComplete:(S,j)=>h("lifeskills",S,j)}),n==="reflection"&&o.jsx(YM,{isOpen:!0,onClose:()=>s(null),onComplete:S=>h("reflection",S)}),n==="pomodoro"&&o.jsx(UM,{isOpen:!0,onClose:()=>s(null),onSessionComplete:S=>{S==="work"&&h("pomodoro",20)}}),n==="planner"&&o.jsx(FM,{isOpen:!0,onClose:()=>s(null),onComplete:S=>h("planner",S)}),n==="goals"&&o.jsx(HM,{isOpen:!0,onClose:()=>s(null),onComplete:S=>h("goals",S)}),n==="notes"&&o.jsx(BM,{isOpen:!0,onClose:()=>s(null),onComplete:S=>h("notes",S)}),n==="balance"&&o.jsx(VM,{isOpen:!0,onClose:()=>s(null),onComplete:()=>h("balance",30)}),n==="emotions"&&o.jsx(zM,{isOpen:!0,onClose:()=>s(null),onComplete:S=>h("emotions",S)})]})})]})},Nd=[{id:"welcome",icon:o.jsx(fs,{className:"w-16 h-16"}),title:"!  ?",description:`     
     

  ,   . ,     :    .  . `,color:"from-indigo-500 to-purple-600"},{id:"app",icon:o.jsx(Ld,{className:"w-16 h-16"}),title:"  ",description:`AI Pod     .

 ,       !`,color:"from-purple-500 to-pink-600",tips:["   RPG,    "]},{id:"xp",icon:o.jsx(Qi,{className:"w-16 h-16"}),title:" (XP)",description:`     XP   .

  XP     !`,color:"from-yellow-500 to-orange-500",tips:["   x5 XP","    "]},{id:"coins",icon:o.jsx(ll,{className:"w-16 h-16"}),title:"",description:`    .

    : , , !`,color:"from-yellow-400 to-amber-500",tips:["   =  ","    "]},{id:"hp",icon:o.jsx(Ni,{className:"w-16 h-16"}),title:" (HP)",description:`  5 .    = -1 HP.

 HP = 0,    .`,color:"from-red-500 to-pink-500",tips:[" HP   ","  HP  "]},{id:"streak",icon:o.jsx(fr,{className:"w-16 h-16"}),title:" ",description:`     !

      .`,color:"from-orange-500 to-red-500",tips:[" 7   =  ","   "]},{id:"shop",icon:o.jsx(Fm,{className:"w-16 h-16"}),title:"",description:`    :

    
    
  HP   `,color:"from-emerald-500 to-teal-500",tips:["     "]},{id:"boss",icon:o.jsx(Ds,{className:"w-16 h-16"}),title:"",description:`      !

  ,    .`,color:"from-purple-500 to-pink-600",tips:["    =  "," ,   "]},{id:"ready",icon:o.jsx(Ld,{className:"w-16 h-16"}),title:" ?",description:`  !

   . , ! `,color:"from-indigo-500 to-purple-600",tips:['    " v2.0"']}],ek=({isOpen:t,onClose:e})=>{const[n,s]=O.useState(0),a=()=>{n<Nd.length-1?s(n+1):e()},l=()=>{e()};if(!t)return null;const u=Nd[n];return o.jsx(Et,{children:o.jsx(H.div,{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-xl",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:o.jsxs(H.div,{className:"w-full max-w-md mx-4 bg-[#0A0F1C] rounded-[2rem] overflow-hidden shadow-2xl border border-white/10",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[o.jsx("div",{className:"flex justify-center gap-2 pt-6 pb-2",children:Nd.map((d,p)=>o.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${p===n?"bg-white w-6":p<n?"bg-white/50":"bg-white/20"}`},p))}),o.jsx("button",{onClick:l,className:"absolute top-6 right-6 w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white/70 hover:text-white hover:bg-white/20 transition-colors z-50",children:o.jsx(mi,{className:"w-5 h-5"})}),o.jsx(Et,{mode:"wait",children:o.jsxs(H.div,{className:"p-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[o.jsx(H.div,{className:`w-28 h-28 mx-auto mb-6 rounded-3xl bg-gradient-to-br ${u.color} flex items-center justify-center text-white shadow-2xl`,initial:{scale:.8,rotate:-10},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200},children:u.icon}),o.jsx("h2",{className:"text-2xl font-black text-white text-center mb-4",children:u.title}),o.jsx("p",{className:"text-slate-300 text-center leading-relaxed whitespace-pre-line mb-6",children:u.description}),u.tips&&o.jsx("div",{className:"space-y-2 mb-6",children:u.tips.map((d,p)=>o.jsxs(H.div,{className:"flex items-center gap-3 bg-white/5 px-4 py-3 rounded-xl border border-white/10",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2+p*.1},children:[o.jsx(Hn,{className:"w-4 h-4 text-yellow-400 flex-shrink-0"}),o.jsx("span",{className:"text-sm text-slate-200",children:d})]},p))})]},u.id)}),o.jsx("div",{className:"p-6 pt-0",children:o.jsx(H.button,{onClick:a,className:`w-full py-4 rounded-2xl font-black text-white uppercase tracking-wider flex items-center justify-center gap-2 bg-gradient-to-r ${u.color} shadow-lg`,whileHover:{scale:1.02},whileTap:{scale:.98},children:n<Nd.length-1?o.jsxs(o.Fragment,{children:["",o.jsx(js,{className:"w-5 h-5"})]}):o.jsxs(o.Fragment,{children:["!",o.jsx(Hn,{className:"w-5 h-5"})]})})})]})})})},rb=["#6366f1","#8b5cf6","#ec4899","#f59e0b","#22c55e","#3b82f6","#ef4444","#14b8a6"],tk=({isActive:t,duration:e=3e3})=>{const[n,s]=O.useState([]),[a,l]=O.useState(!1);return O.useEffect(()=>{if(t){const u=[];for(let p=0;p<60;p++)u.push({id:p,x:Math.random()*100,color:rb[Math.floor(Math.random()*rb.length)],size:Math.random()*8+4,rotation:Math.random()*360,delay:Math.random()*.5});s(u),l(!0);const d=setTimeout(()=>{l(!1)},e);return()=>clearTimeout(d)}},[t,e]),o.jsx(Et,{children:a&&o.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[200] overflow-hidden",children:[n.map(u=>o.jsx(H.div,{initial:{x:`${u.x}vw`,y:-20,rotate:0,opacity:1},animate:{y:"110vh",rotate:u.rotation+720,opacity:[1,1,0]},exit:{opacity:0},transition:{duration:2.5+Math.random(),delay:u.delay,ease:[.25,.46,.45,.94]},className:"absolute",style:{width:u.size,height:u.size,backgroundColor:u.color,borderRadius:Math.random()>.5?"50%":"2px"}},u.id)),o.jsx(H.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1.5,1],opacity:[0,1,0]},transition:{duration:.8},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:o.jsx("div",{className:"text-8xl",children:""})})]})})},nk=({xp:t,coins:e,isVisible:n,onComplete:s})=>(O.useEffect(()=>{if(n&&s){const a=setTimeout(s,2e3);return()=>clearTimeout(a)}},[n,s]),o.jsx(Et,{children:n&&o.jsx(H.div,{initial:{opacity:0,scale:.5,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:-20},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[150] pointer-events-none",children:o.jsxs("div",{className:"px-8 py-6 rounded-3xl text-center",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.95) 0%, rgba(139,92,246,0.95) 100%)",boxShadow:"0 20px 60px rgba(99,102,241,0.5)"},children:[o.jsx(H.div,{initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{delay:.1},className:"text-5xl mb-3",children:""}),o.jsx(H.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-white font-bold text-xl mb-3",children:"!"}),o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[t&&t>0&&o.jsxs(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white/20",children:[o.jsx("span",{className:"text-yellow-300 text-lg",children:""}),o.jsxs("span",{className:"text-white font-bold",children:["+",t," XP"]})]}),e&&e>0&&o.jsxs(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white/20",children:[o.jsx("span",{className:"text-yellow-300 text-lg",children:""}),o.jsxs("span",{className:"text-white font-bold",children:["+",e]})]})]})]})})})),ik=({message:t,type:e="success",isVisible:n,onClose:s})=>{O.useEffect(()=>{if(n&&s){const u=setTimeout(s,3e3);return()=>clearTimeout(u)}},[n,s]);const a={success:"",info:"",warning:""},l={success:"from-green-500 to-emerald-500",info:"from-indigo-500 to-purple-500",warning:"from-amber-500 to-orange-500"};return o.jsx(Et,{children:n&&o.jsx(H.div,{initial:{opacity:0,y:-50,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:-50,x:"-50%"},className:"fixed top-20 left-1/2 z-[100]",children:o.jsxs("div",{className:`px-5 py-3 rounded-2xl flex items-center gap-3 bg-gradient-to-r ${l[e]}`,style:{boxShadow:"0 10px 40px rgba(0,0,0,0.3)"},children:[o.jsx("span",{className:"text-xl",children:a[e]}),o.jsx("span",{className:"text-white font-medium text-sm",children:t})]})})})},sk=({newLevel:t,isVisible:e,onComplete:n})=>(O.useEffect(()=>{if(e&&n){const s=setTimeout(n,3e3);return()=>clearTimeout(s)}},[e,n]),o.jsx(Et,{children:e&&o.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/60 backdrop-blur-sm",children:[o.jsx("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:[...Array(12)].map((s,a)=>o.jsx(H.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,.5,0],scale:[.5,2],rotate:a*30},transition:{duration:1.5,delay:a*.05,repeat:1},className:"absolute w-2 h-40 bg-gradient-to-t from-transparent via-yellow-400 to-transparent",style:{transformOrigin:"center 200px"}},a))}),o.jsxs(H.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",duration:.8},className:"relative z-10 text-center",children:[o.jsx(H.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:.5,repeat:3},className:"text-8xl mb-4",children:""}),o.jsx(H.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-black text-white mb-2",children:"LEVEL UP!"}),o.jsxs(H.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5,type:"spring"},className:"inline-flex items-center gap-3 px-6 py-3 rounded-2xl",style:{background:"linear-gradient(135deg, #f59e0b 0%, #ea580c 100%)",boxShadow:"0 10px 40px rgba(245,158,11,0.5)"},children:[o.jsx("span",{className:"text-white text-xl font-bold",children:""}),o.jsx("span",{className:"text-4xl font-black text-white",children:t})]})]})]})})),rk=({amount:t,isVisible:e,position:n})=>o.jsx(Et,{children:e&&t>0&&o.jsx(H.div,{initial:{opacity:1,y:0,scale:1},animate:{opacity:[1,1,0],y:-100,scale:[1,1.3,1]},exit:{opacity:0},transition:{duration:1.5,ease:"easeOut"},className:"fixed z-[250] pointer-events-none",style:{left:(n==null?void 0:n.x)??"50%",top:(n==null?void 0:n.y)??"40%",transform:"translateX(-50%)"},children:o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-yellow-400 to-amber-500 shadow-lg shadow-yellow-500/50",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsxs("span",{className:"text-white font-black text-xl",children:["+",t," XP"]})]})})}),ak=({amount:t,isVisible:e})=>o.jsx(Et,{children:e&&t>0&&o.jsx(H.div,{initial:{opacity:1,y:0,scale:1},animate:{opacity:[1,1,0],y:-80,scale:[1,1.2,1]},exit:{opacity:0},transition:{duration:1.2,ease:"easeOut",delay:.2},className:"fixed top-[45%] left-1/2 -translate-x-1/2 z-[250] pointer-events-none",children:o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-amber-500 to-orange-500 shadow-lg shadow-orange-500/50",children:[o.jsx("span",{className:"text-xl",children:""}),o.jsxs("span",{className:"text-white font-black text-xl",children:["+",t]})]})})}),ok=({days:t,isVisible:e,onComplete:n})=>(O.useEffect(()=>{if(e&&n){const s=setTimeout(n,2500);return()=>clearTimeout(s)}},[e,n]),o.jsx(Et,{children:e&&o.jsx(H.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[200] pointer-events-none",children:o.jsxs("div",{className:"px-8 py-6 rounded-3xl text-center",style:{background:"linear-gradient(135deg, rgba(239,68,68,0.95) 0%, rgba(249,115,22,0.95) 100%)",boxShadow:"0 20px 60px rgba(239,68,68,0.5)"},children:[o.jsx(H.div,{animate:{scale:[1,1.3,1],rotate:[0,10,-10,0]},transition:{duration:.5,repeat:2},className:"text-6xl mb-3",children:""}),o.jsx("h3",{className:"text-white font-bold text-xl mb-2",children:" !"}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[o.jsx("span",{className:"text-4xl font-black",children:t}),o.jsx("span",{className:"text-lg opacity-80",children:" "})]})]})})})),Cd=[{day:1,xp:10,coins:5,emoji:""},{day:2,xp:15,coins:10,emoji:""},{day:3,xp:20,coins:15,emoji:""},{day:4,xp:25,coins:20,emoji:""},{day:5,xp:30,coins:25,emoji:""},{day:6,xp:40,coins:30,emoji:""},{day:7,xp:100,coins:50,emoji:"",isSpecial:!0}],lk=({isOpen:t,onClose:e,onClaim:n,currentStreak:s})=>{const[a,l]=O.useState(!1),[u,d]=O.useState(null),[p,h]=O.useState(null);O.useEffect(()=>{const S=localStorage.getItem("daily_reward_last_claim");if(S){const j=new Date().toDateString();h(S),l(S===j)}},[t]);const g=S=>{a||(d(S.day),setTimeout(()=>{const j=new Date().toDateString();localStorage.setItem("daily_reward_last_claim",j),l(!0),d(null),n(S.day,S.xp,S.coins)},1e3))},b=s===0?1:Math.min(s%7||7,7),T=a?-1:b;return t?o.jsx(Et,{children:o.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/70 backdrop-blur-sm flex items-center justify-center p-4",onClick:e,children:o.jsxs(H.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},className:"w-full max-w-sm rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, #1e1b4b 0%, #0f172a 100%)",border:"1px solid rgba(99,102,241,0.3)",boxShadow:"0 25px 80px rgba(99,102,241,0.3)"},onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"p-6 text-center relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.3) 0%, rgba(139,92,246,0.2) 100%)"},children:[o.jsx("div",{className:"absolute top-0 left-0 w-20 h-20 bg-indigo-500/20 rounded-full blur-2xl"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-24 h-24 bg-purple-500/20 rounded-full blur-2xl"}),o.jsx("button",{onClick:e,className:"absolute top-6 right-6 w-10 h-10 rounded-full bg-white/10 backdrop-blur-xl flex items-center justify-center hover:bg-white/20 transition-colors z-50",children:o.jsx(mi,{size:18,className:"text-white"})}),o.jsx(H.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0},className:"text-5xl mb-3",children:""}),o.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:" "}),o.jsx("p",{className:"text-white/60 text-sm",children:"    !"}),o.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[o.jsx(fr,{size:20,className:"text-orange-400"}),o.jsx("span",{className:"text-white font-bold",children:s>0?`${s}  `:" !"})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"grid grid-cols-7 gap-1.5",children:Cd.map(S=>{const j=S.day<b&&!a,N=S.day===T,P=S.day>b||a&&S.day>=b,V=u===S.day;return o.jsxs(H.button,{whileHover:N?{scale:1.1}:{},whileTap:N?{scale:.95}:{},onClick:()=>N&&g(S),disabled:!N,className:`
                      relative aspect-square rounded-xl flex flex-col items-center justify-center transition-all
                      ${N?"cursor-pointer":"cursor-default"}
                      ${S.isSpecial?"col-span-1":""}
                    `,style:{background:N?"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)":j?"rgba(34,197,94,0.2)":"rgba(255,255,255,0.05)",border:N?"2px solid rgba(255,255,255,0.3)":j?"1px solid rgba(34,197,94,0.3)":"1px solid rgba(255,255,255,0.1)",boxShadow:N?"0 4px 20px rgba(99,102,241,0.4)":"none"},children:[o.jsxs("span",{className:`text-[8px] font-bold ${N?"text-white":j?"text-green-400":"text-white/40"}`,children:[" ",S.day]}),o.jsx("span",{className:`text-lg ${P?"grayscale opacity-50":""}`,children:j?"":S.emoji}),V&&o.jsx(H.div,{initial:{scale:0},animate:{scale:[1,1.5,1]},className:"absolute inset-0 flex items-center justify-center bg-indigo-500 rounded-xl",children:o.jsx(Hn,{size:20,className:"text-white"})}),N&&!V&&o.jsx(H.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-yellow-400"})]},S.day)})}),!a&&o.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 rounded-2xl text-center",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.15) 0%, rgba(139,92,246,0.08) 100%)",border:"1px solid rgba(99,102,241,0.2)"},children:[o.jsxs("p",{className:"text-white/60 text-xs mb-2",children:["   ",b,":"]}),o.jsxs("div",{className:"flex items-center justify-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"text-yellow-400",children:""}),o.jsxs("span",{className:"text-white font-bold",children:["+",Cd[b-1].xp," XP"]})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"text-yellow-400",children:""}),o.jsxs("span",{className:"text-white font-bold",children:["+",Cd[b-1].coins]})]})]})]}),a&&o.jsxs(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-4 rounded-2xl text-center",style:{background:"rgba(34,197,94,0.15)",border:"1px solid rgba(34,197,94,0.3)"},children:[o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(Wa,{size:16,className:"text-green-400"}),o.jsx("span",{className:"text-green-400 font-medium text-sm",children:" !"})]}),o.jsxs("p",{className:"text-white/40 text-xs mt-1 flex items-center justify-center gap-1",children:[o.jsx(ra,{size:10}),"    "]})]})]}),!a&&o.jsx("div",{className:"p-4 pt-0",children:o.jsxs(H.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(Cd[b-1]),className:"w-full py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",boxShadow:"0 8px 32px rgba(99,102,241,0.4)"},children:[o.jsx(Bc,{size:20})," "]})})]})})}):null},$p=[{text:"   .  .  .",category:"",emoji:""},{text:"     .   !",category:"",emoji:""},{text:"    .       !",category:"",emoji:""},{text:"    .  !",category:"",emoji:""},{text:"  ,    .   .",category:"",emoji:""},{text:"      ,  ,  .",category:"",emoji:""},{text:"      .",category:"",emoji:""},{text:"    ,   .   !",category:"",emoji:""},{text:"      .     .",category:"",emoji:""},{text:"  ? 5      .",category:"",emoji:""},{text:"  .    .",category:"",emoji:""},{text:"   .   ,  .",category:"",emoji:""},{text:"     .",category:"",emoji:""},{text:"    .     .",category:"",emoji:""},{text:"   3 ,    !",category:"",emoji:""},{text:"   ,    .",category:"",emoji:""},{text:"   .      .",category:"",emoji:""},{text:"    .    .",category:"",emoji:""}],ck=()=>{const[t,e]=O.useState($p[0]);return O.useEffect(()=>{const n=new Date,a=Math.floor((n.getTime()-new Date(n.getFullYear(),0,0).getTime())/864e5)%$p.length;e($p[a])},[]),o.jsx(H.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.15) 0%, rgba(99,102,241,0.08) 100%)",border:"1px solid rgba(139,92,246,0.2)"},children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:t.emoji}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-white/80 text-sm leading-relaxed",children:['"',t.text,'"']}),o.jsxs("p",{className:"text-purple-400/60 text-xs mt-2 flex items-center gap-1",children:[o.jsx(Hn,{size:10}),"   "]})]})]})})},uk=({onOpenHabits:t,onXpReward:e})=>{const[n,s]=O.useState([]),[a,l]=O.useState(!1),u=new Date().toISOString().split("T")[0];O.useEffect(()=>{const T=localStorage.getItem("habit_tracker_data");if(T){const S=JSON.parse(T);s(S);const j=new Date;j.setDate(j.getDate()-1);const N=j.toISOString().split("T")[0],P=S.some(V=>V.streak>0&&!V.completedDays.includes(N)&&!V.completedDays.includes(u));l(P)}},[u]);const d=n.filter(T=>T.completedDays.includes(u)).length,p=n.reduce((T,S)=>T+S.streak,0),h=g();function g(){if(n.length===0)return 0;const T=b();let S=0;const j=n.length*7;return T.forEach(N=>{n.forEach(P=>{P.completedDays.includes(N)&&S++})}),Math.round(S/j*100)}function b(){const T=[];for(let S=6;S>=0;S--){const j=new Date;j.setDate(j.getDate()-S),T.push(j.toISOString().split("T")[0])}return T}return n.length===0?o.jsx(H.button,{onClick:t,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full p-4 rounded-2xl text-left",style:{background:"linear-gradient(135deg, rgba(34,197,94,0.1) 0%, rgba(34,197,94,0.05) 100%)",border:"1px solid rgba(34,197,94,0.2)"},whileHover:{scale:1.01},whileTap:{scale:.99},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(34,197,94,0.2)"},children:o.jsx(Jp,{size:20,className:"text-green-400"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold text-sm",children:"  "}),o.jsx("p",{className:"text-white/40 text-xs",children:"21     "})]})]})}):o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"rounded-2xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(34,197,94,0.1) 0%, rgba(34,197,94,0.05) 100%)",border:"1px solid rgba(34,197,94,0.2)"},children:[o.jsxs("button",{onClick:t,className:"w-full p-4 text-left",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vm,{size:16,className:"text-green-400"}),o.jsx("span",{className:"text-white font-bold text-sm",children:""})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-white/50 text-xs",children:[d,"/",n.length," "]}),p>0&&o.jsxs("span",{className:"flex items-center gap-1 text-orange-400 text-xs font-bold",children:[o.jsx(fr,{size:12})," ",p]})]})]}),o.jsx("div",{className:"relative h-2 rounded-full overflow-hidden mb-2",style:{background:"rgba(255,255,255,0.1)"},children:o.jsx(H.div,{className:"absolute inset-y-0 left-0 rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:1,ease:"easeOut",delay:.3},style:{background:"linear-gradient(90deg, #22c55e 0%, #16a34a 50%, #15803d 100%)",boxShadow:"0 0 10px rgba(34,197,94,0.5)"}})}),o.jsxs("div",{className:"flex justify-between text-xs",children:[o.jsx("span",{className:"text-white/40",children:" "}),o.jsxs("span",{className:"text-green-400 font-bold",children:[h,"%"]})]})]}),o.jsxs("div",{className:"px-4 pb-4 flex gap-2 overflow-x-auto scrollbar-hide",children:[n.slice(0,4).map((T,S)=>{const j=T.completedDays.includes(u);return o.jsxs(H.div,{className:"flex-shrink-0 w-16 text-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:S*.1},whileTap:{scale:.9},whileHover:{scale:1.05},children:[o.jsxs(H.div,{className:"w-12 h-12 mx-auto rounded-xl flex items-center justify-center mb-1 relative overflow-hidden",animate:j?{boxShadow:[`0 4px 15px ${T.color}30`,`0 4px 25px ${T.color}50`,`0 4px 15px ${T.color}30`]}:{},transition:{duration:2,repeat:1/0},style:{background:j?T.color:"rgba(255,255,255,0.05)"},children:[j&&o.jsx(H.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:2,repeat:1/0,repeatDelay:3}}),j?o.jsx(H.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15},children:o.jsx(Wa,{size:20,className:"text-white"})}):o.jsx(H.span,{className:"text-xl",animate:{rotate:[0,-5,5,0]},transition:{duration:2,repeat:1/0,repeatDelay:5},children:T.emoji})]}),o.jsx("span",{className:"text-white/50 text-[10px] truncate block",children:T.name})]},T.id)}),n.length>4&&o.jsx("div",{className:"flex-shrink-0 w-12 text-center",children:o.jsx("div",{className:"w-12 h-12 mx-auto rounded-xl flex items-center justify-center mb-1",style:{background:"rgba(255,255,255,0.05)"},children:o.jsxs("span",{className:"text-white/50 text-sm",children:["+",n.length-4]})})})]}),o.jsx(Et,{children:a&&o.jsx(H.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-4 pb-3",children:o.jsxs("div",{className:"p-3 rounded-xl flex items-center gap-2",style:{background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.3)"},children:[o.jsx(Bm,{size:16,className:"text-red-400"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-red-400 text-xs font-medium",children:"  !"}),o.jsx("p",{className:"text-white/40 text-[10px]",children:"  "})]}),o.jsx("button",{onClick:T=>{T.stopPropagation(),t()},className:"px-3 py-1 rounded-lg text-xs font-bold text-white",style:{background:"rgba(239,68,68,0.3)"},children:""})]})})})]})},Yd={welcome:{id:"EfLG_uMGqTo",duration:17},motivation:{id:"uw3BJghYc4o",duration:9}},eT=({videoId:t,isOpen:e,onClose:n,title:s,subtitle:a,type:l="welcome"})=>{const[u,d]=O.useState(!1),p=l==="welcome"?Yd.welcome.duration:Yd.motivation.duration;O.useEffect(()=>{if(e){d(!0),E0();const g=setTimeout(()=>{n()},(p-1)*1e3);return()=>clearTimeout(g)}else d(!1)},[e,p,n]);const h=()=>{Di(),n()};return o.jsx(Et,{children:e&&o.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] flex items-center justify-center bg-black/95 backdrop-blur-xl p-4",onClick:h,children:o.jsxs(H.div,{initial:{scale:.8,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-xs",onClick:g=>g.stopPropagation(),children:[s&&o.jsxs(H.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-4",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[l==="welcome"?o.jsx(Hn,{className:"text-purple-400",size:20}):o.jsx(Ni,{className:"text-pink-400",size:20,fill:"currentColor"}),o.jsx("h2",{className:"text-white font-bold text-xl",children:s})]}),a&&o.jsx("p",{className:"text-white/60 text-sm",children:a})]}),o.jsxs("div",{className:"relative rounded-3xl overflow-hidden",style:{aspectRatio:"9/16",maxHeight:"60vh",boxShadow:"0 25px 80px rgba(0,0,0,0.5), 0 0 60px rgba(139,92,246,0.3)"},children:[o.jsx("button",{onClick:h,className:"absolute top-3 right-3 z-50 w-8 h-8 rounded-full bg-black/60 backdrop-blur-md flex items-center justify-center text-white/80 hover:text-white hover:bg-black/80 transition-all",children:o.jsx(mi,{size:18})}),u&&o.jsx("div",{className:"relative w-full h-full overflow-hidden",children:o.jsx("iframe",{id:"katya-video-player",src:`https://www.youtube.com/embed/${t}?autoplay=1&mute=0&controls=0&playsinline=1&loop=0&modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&fs=0&disablekb=1&cc_load_policy=0&enablejsapi=1`,className:"absolute inset-0 w-[115%] h-[115%] top-0 -left-[7.5%]",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:"",style:{border:"none",pointerEvents:"none"}})}),o.jsx("div",{className:"absolute top-0 left-0 right-0 h-10 bg-gradient-to-b from-black/70 to-transparent pointer-events-none z-10"}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-black via-black/80 to-transparent pointer-events-none z-10"})]}),o.jsx(H.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},onClick:h,className:"mt-4 w-full py-3 rounded-2xl text-white/60 text-sm font-medium hover:text-white/80 transition-colors",children:""})]})})})},dk=({onComplete:t})=>{const[e,n]=O.useState(!1),[s,a]=O.useState(()=>localStorage.getItem("katya_welcome_seen")==="true");O.useEffect(()=>{if(!s){const u=setTimeout(()=>{n(!0)},500);return()=>clearTimeout(u)}},[s]);const l=()=>{n(!1),localStorage.setItem("katya_welcome_seen","true"),a(!0),ia(),t()};return s?null:o.jsx(eT,{videoId:Yd.welcome.id,isOpen:e,onClose:l,title:"!   ",subtitle:"  ",type:"welcome"})},fk=({isOpen:t,onClose:e,lessonTitle:n})=>{const s=()=>{ia(),e()};return o.jsx(eT,{videoId:Yd.motivation.id,isOpen:t,onClose:s,title:" ! ",subtitle:n?` "${n}" !`:" !",type:"motivation"})},hk=()=>{const[t,e]=O.useState(!1),[n,s]=O.useState("");return{showMotivation:t,lessonTitle:n,triggerMotivation:u=>{s(u||""),e(!0)},closeMotivation:()=>{e(!1),s("")}}},pk=({user:t,onTaskComplete:e,onUserUpdate:n})=>{var rt;const[s,a]=O.useState(t),[l,u]=O.useState("LEARN"),[d,p]=O.useState(null),[h,g]=O.useState(!1),[b,T]=O.useState(s.xp),[S,j]=O.useState(!1),[N,P]=O.useState(!1),[V,D]=O.useState(!1),[k,G]=O.useState(!1),[J,K]=O.useState(!1),[te,re]=O.useState(!1),[B,oe]=O.useState({xp:0,coins:0}),[$,ce]=O.useState(!1),[ee,W]=O.useState(""),[de,Y]=O.useState(!1),[Z,Q]=O.useState(!1),[he,Ee]=O.useState(0),[F,ne]=O.useState(!1),[xe,Ae]=O.useState(0),[Ne,Me]=O.useState(!1),[Qe,it]=O.useState(1),[ut,gt]=O.useState(!1),[Ft,st]=O.useState(!0),[mt,At]=O.useState(!1),{showMotivation:jt,lessonTitle:Ze,triggerMotivation:Xt,closeMotivation:et}=hk(),[De,nn]=O.useState(null);O.useEffect(()=>{const Pe=()=>{var Ht,Be,wt,vt;try{const Ct=(Ht=window.Telegram)==null?void 0:Ht.WebApp;if(Ct){(Be=Ct.expand)==null||Be.call(Ct),(wt=Ct.ready)==null||wt.call(Ct);const Ge=(vt=Ct.initDataUnsafe)==null?void 0:vt.user;if(Ge)console.log(" Telegram user found:",Ge),nn({id:Ge.id,first_name:Ge.first_name,last_name:Ge.last_name,username:Ge.username,photo_url:Ge.photo_url});else{console.log(" No user in initDataUnsafe");const $t=new URLSearchParams(window.location.search).get("user");if($t)try{const qe=JSON.parse($t);console.log(" User from URL params:",qe),nn(qe)}catch{console.log(" Failed to parse user from URL")}}}else console.log(" Telegram WebApp not available - running in browser mode")}catch(Ct){console.error(" Error initializing Telegram:",Ct)}};Pe();const Fe=setTimeout(Pe,300),ot=setTimeout(Pe,1e3);return()=>{clearTimeout(Fe),clearTimeout(ot)}},[]),O.useEffect(()=>{!localStorage.getItem("ai_pod_tutorial_seen")&&s.completedTaskIds.length===0&&P(!0)},[]);const sn=()=>{P(!1),localStorage.setItem("ai_pod_tutorial_seen","true")};O.useEffect(()=>{a(t)},[t]),O.useEffect(()=>{(async()=>{if(!(s!=null&&s.id))return;const Fe=await IM(s.id);Fe&&(gt(!0),RI(),Pp(),a(ot=>({...ot,streak:Fe.newStreak,coins:ot.coins+Fe.bonus})),W(Fe.message),setTimeout(()=>{W(""),gt(!1)},3e3),n&&n({...s,streak:Fe.newStreak,coins:s.coins+Fe.bonus}))})()},[s==null?void 0:s.id]),O.useEffect(()=>{(async()=>{if(!(s!=null&&s.id)||s.completedTaskIds.length===0)return;const Fe=await jM(s.id);Fe&&(K(!0),N1(),S1(),Pp(),a(ot=>({...ot,xp:ot.xp+Fe.xpBonus,coins:ot.coins+Fe.coinsBonus,level:Math.floor((ot.xp+Fe.xpBonus)/500)+1})),W(` ${Fe.milestone} ! +${Fe.xpBonus} XP, +${Fe.coinsBonus} !`),setTimeout(()=>{K(!1),W("")},4e3),n&&n({...s,xp:s.xp+Fe.xpBonus,coins:s.coins+Fe.coinsBonus,level:Math.floor((s.xp+Fe.xpBonus)/500)+1}))})()},[(rt=s==null?void 0:s.completedTaskIds)==null?void 0:rt.length]);const[gn,gi]=O.useState([{id:1,text:" 1 ",completed:s.completedTaskIds.length>0,reward:50},{id:2,text:" ",completed:!1,reward:30},{id:3,text:"  ",completed:!1,reward:20}]);O.useEffect(()=>{if(s.xp!==b){j(!0);const Pe=setTimeout(()=>j(!1),1e3);return T(s.xp),()=>clearTimeout(Pe)}},[s.xp,b]);const Nt=(Pe,Fe)=>{E0(),p(Pe),Ft&&At(!0)},lt=Pe=>{g(!1)},M=async Pe=>{ia();const Fe=s.xp,ot=s.coins||0;await e(Pe),E();const Be=JSON.parse(localStorage.getItem("ai_teenager_users_v6")||"[]").find(pt=>pt.id===s.id)||s,wt=Math.max(0,(Be.xp||0)-Fe),vt=Math.max(0,(Be.coins||0)-ot),Ct=wt||Pe.xpReward||100,Ge=vt||Pe.coinsReward||Math.floor(Ct*.5);Ee(Ct),Q(!0),S1(),setTimeout(()=>Q(!1),1500),Ae(Ge),ne(!0),setTimeout(()=>Pp(),200),setTimeout(()=>ne(!1),1700);const Rn=Math.floor(Fe/500)+1,$t=Math.floor((Be.xp||0)/500)+1;$t>Rn&&setTimeout(()=>{it($t),Me(!0),K(!0),N1(),setTimeout(()=>{Me(!1),K(!1)},3500)},800),oe({xp:Ct,coins:Ge}),setTimeout(()=>{re(!0),setTimeout(()=>re(!1),2500)},400);const qe=JSON.parse(localStorage.getItem("last_bonus_messages")||"null");qe&&Array.isArray(qe)&&qe.length>0&&setTimeout(()=>{W(qe.join("  ")),Y(!0),setTimeout(()=>Y(!1),4500),localStorage.removeItem("last_bonus_messages")},2600),Xt(Pe.title),At(!1),p(null)},E=()=>{const Fe=JSON.parse(localStorage.getItem("ai_teenager_users_v6")||"[]").find(ot=>ot.id===s.id);Fe&&(a(Fe),n&&n(Fe))};O.useMemo(()=>Ko.map((Pe,Fe)=>({task:Pe,index:Fe,isCompleted:s.completedTaskIds.includes(Pe.id),isLocked:!1,isActive:!s.completedTaskIds.includes(Pe.id),isNewWeek:Fe===0||Pe.week>Ko[Fe-1].week})),[s.completedTaskIds]),O.useEffect(()=>{const Pe=localStorage.getItem("daily_reward_last_claim"),Fe=new Date().toDateString();if(Pe!==Fe&&s.completedTaskIds.length>0){const ot=setTimeout(()=>ce(!0),2e3);return()=>clearTimeout(ot)}},[]);const C=(Pe,Fe,ot)=>{oe({xp:Fe,coins:ot}),re(!0);const Ht={...s,xp:s.xp+Fe,coins:s.coins+ot,streak:s.streak+1};a(Ht);const Be=JSON.parse(localStorage.getItem("ai_teenager_users_v6")||"[]"),wt=Be.findIndex(vt=>vt.id===s.id);wt!==-1&&(Be[wt]=Ht,localStorage.setItem("ai_teenager_users_v6",JSON.stringify(Be))),n&&n(Ht)},z=async Pe=>{await RM(s.id,Pe)?(await new Promise(ot=>setTimeout(ot,100)),E()):alert("     !")},ae=s.level*500,be=(s.level-1)*500,Re=Math.min(100,Math.max(0,(s.xp-be)/(ae-be)*100)),Ke=s.inventory.map(Pe=>Lw.find(Fe=>Fe.id===Pe)).filter(Boolean),Xe=(Pe,Fe,ot)=>{const Ht={...s,xp:s.xp+Pe,coins:s.coins+Fe,level:Math.floor((s.xp+Pe)/100)+1};ot&&!Ht.inventory.includes(ot)&&(Ht.inventory=[...Ht.inventory,ot]),a(Ht),localStorage.setItem("ai_pod_user",JSON.stringify(Ht)),n==null||n(Ht),j(!0),setTimeout(()=>j(!1),500)},Ue=()=>{if(l==="TOOLS")return o.jsx(ZM,{user:s,onXpEarned:Xe});if(l==="RELAX")return o.jsx(lI,{});if(l==="PROFILE"){const Be=(De==null?void 0:De.first_name)||(De==null?void 0:De.username)||s.name,wt=De==null?void 0:De.photo_url,vt=De==null?void 0:De.username,Ct=De==null?void 0:De.id;return o.jsxs("div",{className:"px-5 pt-4 pb-32 min-h-screen relative",style:{background:"linear-gradient(180deg, #0a0a1a 0%, #0f0f2a 50%, #0a0a1a 100%)"},children:[o.jsxs("div",{className:"relative w-full rounded-[2rem] overflow-hidden p-6 flex flex-col items-center text-center border border-white/10 mb-6",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.02) 100%)",backdropFilter:"blur(20px)"},children:[o.jsx("div",{className:"absolute inset-0 -z-10",children:o.jsx("div",{className:"absolute top-0 right-0 w-[200px] h-[200px] rounded-full opacity-30",style:{background:"radial-gradient(circle, rgba(99,102,241,0.3) 0%, transparent 70%)"}})}),o.jsx("div",{className:"relative z-10 mb-4",children:o.jsxs("div",{className:"relative w-24 h-24 rounded-full p-1 bg-gradient-to-br from-indigo-500/50 to-purple-500/50 shadow-lg",children:[o.jsx("img",{src:wt||s.avatarUrl,className:"w-full h-full rounded-full object-cover bg-[#0A0F1C]",alt:"Profile"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-5 h-5 bg-[#0A0F1C] rounded-full flex items-center justify-center",children:o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})})]})}),o.jsxs("div",{className:"relative z-10 mb-4",children:[o.jsx("h2",{className:"text-2xl font-black text-white tracking-tight mb-1",children:Be}),Ct?o.jsxs("p",{className:"text-white/40 text-xs font-mono",children:["@",vt||`id${Ct}`]}):o.jsx("p",{className:"text-white/40 text-xs",children:" AI Pod"}),o.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-white/5 border border-white/10 mt-2",children:[o.jsx(V5,{size:12,className:"text-indigo-400"}),o.jsxs("span",{className:"text-xs font-bold text-indigo-200 uppercase tracking-widest",children:[" ",s.level]})]})]}),o.jsxs("div",{className:"relative z-10 grid grid-cols-4 gap-2 w-full mb-4",children:[o.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl bg-white/5",children:[o.jsx("div",{className:"text-lg font-black text-white",children:s.level}),o.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"LVL"})]}),o.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl bg-white/5",children:[o.jsx("div",{className:"text-lg font-black text-white",children:s.xp}),o.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"XP"})]}),o.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl bg-white/5",children:[o.jsx("div",{className:"text-lg font-black text-yellow-400",children:s.coins||0}),o.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"COINS"})]}),o.jsxs("div",{className:"flex flex-col items-center p-2 rounded-xl bg-white/5",children:[o.jsx("div",{className:"text-lg font-black text-orange-400",children:s.streak}),o.jsx("div",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"DAYS"})]})]}),o.jsxs("div",{className:"relative z-10 w-full",children:[o.jsxs("div",{className:"flex justify-between text-[10px] font-bold text-slate-400 mb-1",children:[o.jsxs("span",{children:[" ",s.level]}),o.jsxs("span",{children:[s.xp-be,"/",ae-be," XP"]})]}),o.jsx("div",{className:"h-2 w-full bg-black/40 rounded-full overflow-hidden",children:o.jsx("div",{style:{width:`${Re}%`},className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-500"})})]})]}),o.jsxs("div",{className:"mb-6 p-4 rounded-2xl border border-white/10",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.1) 0%, rgba(139,92,246,0.05) 100%)"},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center",children:o.jsx(Bc,{size:16,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-sm",children:"  "}),o.jsxs("p",{className:"text-white/40 text-xs",children:["   ",s.level+1]})]})]}),o.jsxs("div",{className:"flex justify-between items-center relative",children:[o.jsx("div",{className:"absolute top-4 left-4 right-4 h-0.5 bg-white/10 rounded-full",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-500",style:{width:`${Math.min(100,s.level/10*100)}%`}})}),[{lvl:1,reward:" 100",icon:"",label:""},{lvl:3,reward:" 1",icon:"",label:""},{lvl:5,reward:" 500",icon:"",label:""},{lvl:7,reward:" x2",icon:"",label:"XP "},{lvl:10,reward:"",icon:"",label:""}].map((Ge,Rn)=>{const $t=s.level>=Ge.lvl,qe=s.level===Ge.lvl-1;return o.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-all ${$t?"bg-gradient-to-br from-indigo-500 to-purple-500 text-white shadow-lg shadow-indigo-500/30":qe?"bg-white/20 text-white border-2 border-indigo-500 animate-pulse":"bg-white/10 text-white/40"}`,children:$t?"":Ge.lvl}),o.jsx("span",{className:`text-[9px] mt-1 font-bold ${$t?"text-indigo-400":"text-white/30"}`,children:Ge.icon}),o.jsx("span",{className:"text-[8px] text-white/40",children:Ge.label})]},Rn)})]}),s.level<10&&o.jsx("div",{className:"mt-4 p-3 rounded-xl bg-white/5 border border-white/10",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:s.level<3?"":s.level<5?"":s.level<7?"":""}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white text-xs font-bold",children:s.level<3?" ":s.level<5?"500 ":s.level<7?"XP  x2":" "}),o.jsxs("p",{className:"text-white/40 text-[10px]",children:[" ",(s.level<3?3:s.level<5?5:s.level<7?7:10)*500-s.xp," XP  "]})]})]}),o.jsxs("div",{className:"text-xs font-bold text-indigo-400 bg-indigo-500/20 px-2 py-1 rounded-lg",children:["LVL ",s.level<3?3:s.level<5?5:s.level<7?7:10]})]})})]}),o.jsxs("button",{onClick:()=>G(!0),className:"w-full mb-6 p-4 rounded-2xl flex items-center gap-4 transition-all active:scale-[0.98]",style:{background:"linear-gradient(135deg, rgba(234,179,8,0.2) 0%, rgba(234,88,12,0.1) 100%)",border:"1px solid rgba(234,179,8,0.3)"},children:[o.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center shadow-lg",children:o.jsx(Fm,{size:24,className:"text-white"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-white font-bold",children:""}),o.jsxs("div",{className:"text-yellow-400/70 text-sm",children:["  ",s.coins||0," "]})]}),o.jsx(js,{size:20,className:"text-yellow-400/50"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between px-2 mb-4",children:[o.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[o.jsx(Ds,{size:18,className:"text-yellow-400"})," "]}),o.jsxs("span",{className:"text-xs font-bold text-yellow-500 bg-yellow-500/10 px-2 py-1 rounded-lg",children:[Rd.filter(Ge=>Ge.requirement.type==="TASKS_COMPLETED"?s.completedTaskIds.length>=Ge.requirement.value:Ge.requirement.type==="STREAK_DAYS"?s.streak>=Ge.requirement.value:Ge.requirement.type==="XP_EARNED"?s.xp>=Ge.requirement.value:!1).length," / ",Rd.length]})]}),o.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-4 -mx-5 px-5 scrollbar-hide",children:[Rd.slice(0,5).map((Ge,Rn)=>{const $t=Ge.requirement.type==="TASKS_COMPLETED"&&s.completedTaskIds.length>=Ge.requirement.value||Ge.requirement.type==="STREAK_DAYS"&&s.streak>=Ge.requirement.value||Ge.requirement.type==="XP_EARNED"&&s.xp>=Ge.requirement.value;return o.jsxs("div",{className:`w-20 h-20 shrink-0 rounded-[1.2rem] flex flex-col items-center justify-center relative overflow-hidden ${$t?"bg-gradient-to-br from-yellow-500/20 to-orange-500/20 border border-yellow-500/30":"bg-slate-800/50 border border-white/5"}`,children:[o.jsx("span",{className:`text-2xl ${$t?"":"grayscale opacity-30"}`,children:Ge.icon}),$t&&o.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:o.jsx(Wa,{size:10,className:"text-white"})})]},Ge.id)}),o.jsxs("button",{onClick:()=>D(!0),className:"w-20 h-20 shrink-0 rounded-[1.2rem] bg-white/5 border border-white/10 border-dashed flex flex-col items-center justify-center gap-1 text-slate-500 hover:text-white hover:bg-white/10 transition-all active:scale-95",children:[o.jsx(hS,{size:20}),o.jsx("span",{className:"text-[9px] font-bold uppercase",children:""})]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between px-1 mb-3",children:[o.jsxs("h3",{className:"text-white font-bold text-base flex items-center gap-2",children:[o.jsx(Hn,{size:16,className:"text-amber-400"})," "]}),o.jsxs("span",{className:"text-xs font-bold text-slate-500",children:[Ke.length," "]})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-5 px-5 scrollbar-hide",children:Ke.length===0?o.jsx("div",{className:"w-full py-4 text-center text-white/30 text-sm",children:".   !"}):Ke.map((Ge,Rn)=>{const $t=pt=>{switch(pt){case"hp_potion":return"";case"streak_freeze":return"";case"mystery_box":return"";case"frame_gold":return"";default:return""}},qe=pt=>{switch(pt){case"hp_potion":return"HP";case"streak_freeze":return"";case"mystery_box":return"";case"frame_gold":return"";default:return""}};return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-14 h-14 shrink-0 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center",children:o.jsx("span",{className:"text-2xl",children:$t(Ge==null?void 0:Ge.id)})}),o.jsx("span",{className:"text-[9px] text-white/40 mt-1",children:qe(Ge==null?void 0:Ge.id)})]},Rn)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>P(!0),className:"w-full p-3 rounded-xl flex items-center gap-3 transition-all active:scale-[0.98]",style:{background:"rgba(99,102,241,0.15)",border:"1px solid rgba(99,102,241,0.2)"},children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-500/30 flex items-center justify-center",children:o.jsx(a5,{size:18,className:"text-indigo-400"})}),o.jsx("div",{className:"flex-1 text-left",children:o.jsx("div",{className:"text-sm font-bold text-white",children:" ?"})}),o.jsx(js,{size:18,className:"text-indigo-400/50"})]}),o.jsxs("button",{className:"w-full p-3 rounded-xl flex items-center gap-3 transition-all active:scale-[0.98]",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/5 flex items-center justify-center",children:o.jsx(OS,{size:18,className:"text-white/50"})}),o.jsx("div",{className:"flex-1 text-left",children:o.jsx("div",{className:"text-sm font-bold text-white/80",children:""})}),o.jsx(js,{size:18,className:"text-white/30"})]}),o.jsxs("button",{className:"w-full mt-6 p-4 rounded-[1.5rem] border border-red-500/20 text-red-400 font-bold text-sm flex items-center justify-center gap-2 hover:bg-red-500/10 transition-all active:scale-95",children:[o.jsx(m5,{size:18}),"  "]})]})]})}const Pe=140,Fe=150,Ht=Ko.length*Pe+Fe+250;return o.jsxs("div",{className:"relative pt-2 pb-40 px-4 min-h-screen overflow-x-hidden",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-40 pt-6 sticky top-0 pb-3 -mx-4 px-4 transition-all duration-300",children:[o.jsx("div",{className:"absolute inset-0 -top-16",style:{background:"linear-gradient(to bottom, rgba(10,15,28,1) 0%, rgba(10,15,28,0.95) 60%, transparent 100%)"}}),o.jsxs("div",{className:"flex items-center gap-1.5 relative z-10",children:[o.jsxs("div",{className:"px-2.5 py-1.5 rounded-xl flex items-center gap-1.5",style:{background:"rgba(244,63,94,0.12)",backdropFilter:"blur(20px)",border:"1px solid rgba(244,63,94,0.15)"},children:[o.jsx(Ni,{size:12,fill:"currentColor",className:"text-rose-400"}),o.jsx("span",{className:"text-xs font-bold text-rose-300",children:s.hp||5})]}),s.streak>0&&o.jsxs("div",{className:"px-2.5 py-1.5 rounded-xl flex items-center gap-1",style:{background:"rgba(249,115,22,0.12)",backdropFilter:"blur(20px)",border:"1px solid rgba(249,115,22,0.15)"},children:[o.jsx(fr,{size:12,className:"text-orange-400"}),o.jsx("span",{className:"text-xs font-bold text-orange-300",children:s.streak})]})]}),o.jsxs("div",{className:"flex gap-1.5 items-center relative z-10",children:[o.jsxs("div",{className:"px-2.5 py-1.5 rounded-xl flex items-center gap-1.5",style:{background:"rgba(168,85,247,0.12)",backdropFilter:"blur(20px)",border:"1px solid rgba(168,85,247,0.15)"},children:[o.jsx(ni,{size:12,className:"text-purple-400"}),o.jsx("span",{className:`text-xs font-bold text-purple-300 ${S?"animate-pulse":""}`,children:s.xp})]}),o.jsxs("button",{onClick:()=>u("SHOP"),className:"px-2.5 py-1.5 rounded-xl flex items-center gap-1.5 transition-all active:scale-95",style:{background:"rgba(234,179,8,0.15)",backdropFilter:"blur(20px)",border:"1px solid rgba(234,179,8,0.2)"},children:[o.jsx(ll,{size:12,className:"text-yellow-400"}),o.jsx("span",{className:"text-xs font-bold text-yellow-300",children:s.coins||0})]})]})]}),o.jsx("div",{className:"mb-4 mx-auto max-w-sm animate-in fade-in slide-in-from-top-4 duration-500",children:o.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-4",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.12) 0%, rgba(139,92,246,0.06) 100%)",backdropFilter:"blur(30px)",border:"1px solid rgba(99,102,241,0.15)"},children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx("div",{className:"text-3xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"text-white font-bold text-sm",children:[", ",(De==null?void 0:De.first_name)||(De==null?void 0:De.username)||s.name,"!"]}),o.jsx("p",{className:"text-white/50 text-xs",children:s.completedTaskIds.length===0?"  ! ":s.streak>0?` ${s.streak} ${s.streak===1?"":s.streak<5?"":""} !`:"    "})]}),o.jsx("button",{onClick:()=>P(!0),className:"px-3 py-1.5 rounded-lg text-xs font-bold text-indigo-300 transition-all active:scale-95",style:{background:"rgba(99,102,241,0.2)",border:"1px solid rgba(99,102,241,0.3)"},children:" ?"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsxs("span",{className:"text-white/60 text-[10px] font-medium",children:[" ",s.level]}),o.jsxs("span",{className:"text-white/40 text-[10px]",children:[s.xp%500,"/500 XP"]})]}),o.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${s.xp%500/5}%`,background:"linear-gradient(90deg, #6366f1 0%, #a855f7 100%)"}})})]})]})}),o.jsx("div",{className:"mb-4 relative z-10 mx-auto max-w-sm animate-in fade-in slide-in-from-bottom-4 duration-500 delay-75",children:o.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{icon:"",label:"",value:s.completedTaskIds.length,color:"from-indigo-500/20 to-purple-500/20"},{icon:"",label:"XP",value:s.xp,color:"from-yellow-500/20 to-orange-500/20"},{icon:"",label:"",value:s.streak,color:"from-red-500/20 to-pink-500/20"},{icon:"",label:"",value:s.coins,color:"from-cyan-500/20 to-blue-500/20"}].map((Be,wt)=>o.jsxs("div",{className:"relative overflow-hidden rounded-xl p-2.5 text-center",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)"},children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${Be.color} opacity-50`}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"text-lg mb-0.5",children:Be.icon}),o.jsx("div",{className:"text-white font-bold text-sm",children:Be.value}),o.jsx("div",{className:"text-white/40 text-[8px] uppercase tracking-wider",children:Be.label})]})]},wt))})}),o.jsx("div",{className:"mb-4 relative z-10 mx-auto max-w-sm animate-in fade-in slide-in-from-bottom-4 duration-500 delay-100",children:o.jsx(ck,{})}),o.jsx("div",{className:"mb-4 relative z-10 mx-auto max-w-sm animate-in fade-in slide-in-from-bottom-4 duration-500 delay-125",children:o.jsx(uk,{onOpenHabits:()=>u("TOOLS"),onXpReward:Be=>{a(wt=>({...wt,xp:wt.xp+Be})),Ee(Be),Q(!0)}})}),o.jsx("div",{className:"mb-4 relative z-10 mx-auto max-w-sm animate-in fade-in slide-in-from-bottom-4 duration-500 delay-150",children:o.jsxs("div",{className:"relative overflow-hidden rounded-2xl p-4",style:{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(30px)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ui,{className:"text-indigo-400",size:14}),o.jsx("span",{className:"text-white/80 font-semibold text-xs",children:" "})]}),o.jsxs("span",{className:"text-white/40 text-[10px] font-medium",children:[gn.filter(Be=>Be.completed).length,"/",gn.length]})]}),o.jsx("div",{className:"space-y-2 relative z-10",children:gn.map(Be=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-4 h-4 rounded-md flex items-center justify-center ${Be.completed?"bg-green-500":"bg-white/10 border border-white/20"}`,children:Be.completed&&o.jsx(Wa,{size:10,className:"text-white",strokeWidth:3})}),o.jsx("span",{className:`text-xs ${Be.completed?"text-green-400":"text-white/60"}`,children:Be.text})]}),o.jsxs("span",{className:"text-yellow-400 text-[10px] font-bold",children:["+",Be.reward]})]},Be.id))}),o.jsx("div",{className:"mt-3 h-1 bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all duration-500",style:{width:`${gn.filter(Be=>Be.completed).length/gn.length*100}%`}})})]})}),o.jsxs("div",{className:"relative mx-auto max-w-sm pb-8",style:{minHeight:Ht},children:[o.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-0",overflow:"visible",children:[o.jsx("path",{d:`M 192 40 
                           ${Ko.map((Be,wt)=>{const vt=Fe+wt*Pe-50;return`L ${wt%2===0?280:100} ${vt}`}).join(" ")}
                        `,fill:"none",stroke:"url(#pathGradient)",strokeWidth:"2",strokeDasharray:"6 6",strokeLinecap:"round",strokeLinejoin:"round",className:"opacity-20"}),o.jsx("defs",{children:o.jsxs("linearGradient",{id:"pathGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#6366f1"}),o.jsx("stop",{offset:"100%",stopColor:"#a855f7"})]})})]}),Ko.map((Be,wt)=>{const vt=s.completedTaskIds.includes(Be.id),Ct=!1,Ge=!vt&&!Ct,Rn=Fe+wt*Pe-50,$t=wt%2===0?"65%":"35%",qe=wt===0||Be.week>Ko[wt-1].week,yi={t1:"",t2:"",t3:"",t4:"",t5:"",t6:"",t7:"",t8:"",t9:"",t10:"",t11:"",t12:"",t13:"",t14:"",t15:"",t16:"",t17:"",t18:"",t19:"",t20:"",t21:""}[Be.id]||"";return o.jsxs(Ow.Fragment,{children:[qe&&o.jsx("div",{className:"absolute w-full text-center z-0",style:{top:Rn-60,left:"50%",transform:"translateX(-50%)"},children:o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.15) 0%, rgba(139,92,246,0.08) 100%)",border:"1px solid rgba(99,102,241,0.2)"},children:[o.jsx(fr,{size:10,className:"text-orange-400"}),o.jsxs("span",{className:"text-[10px] font-bold uppercase tracking-wider text-white/60",children:[" ",Be.week]})]})}),o.jsx("div",{className:"absolute z-10",style:{top:Rn,left:$t,transform:"translate(-50%, -50%)"},children:o.jsxs("button",{onClick:()=>Nt(Be),disabled:Ct,className:`
                                       relative flex items-center gap-3 p-3 rounded-2xl transition-all duration-300 w-[165px]
                                       cursor-pointer active:scale-95
                                       ${Ge?"hover:scale-105 hover:shadow-xl animate-pulse-soft":""}
                                       ${Ge&&!vt?"ring-2 ring-indigo-400/50 ring-offset-2 ring-offset-transparent":""}
                                   `,style:{background:vt?"linear-gradient(135deg, rgba(34,197,94,0.2) 0%, rgba(34,197,94,0.08) 100%)":Ge?Be.isBoss?"linear-gradient(135deg, rgba(239,68,68,0.25) 0%, rgba(239,68,68,0.1) 100%)":"linear-gradient(135deg, rgba(99,102,241,0.25) 0%, rgba(139,92,246,0.1) 100%)":"rgba(255,255,255,0.03)",backdropFilter:"blur(20px)",border:vt?"1px solid rgba(34,197,94,0.4)":Ge?Be.isBoss?"1px solid rgba(239,68,68,0.4)":"1px solid rgba(99,102,241,0.35)":"1px solid rgba(255,255,255,0.08)",boxShadow:Ge&&!Be.isBoss?"0 8px 32px rgba(99,102,241,0.2)":Ge&&Be.isBoss?"0 8px 32px rgba(239,68,68,0.2)":"none"},children:[Ge&&o.jsx("div",{className:"absolute inset-0 rounded-2xl overflow-hidden pointer-events-none",children:o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/2 bg-gradient-to-b from-white/10 to-transparent"})}),o.jsx("div",{className:`
                                       w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 transition-all relative
                                        ${vt?"bg-gradient-to-br from-green-400 to-emerald-500":Be.isBoss?"bg-gradient-to-br from-red-500 to-orange-500":"bg-gradient-to-br from-indigo-500 to-purple-500"}
                                    `,style:{boxShadow:Ge?Be.isBoss?"0 4px 20px rgba(239,68,68,0.4)":"0 4px 20px rgba(99,102,241,0.4)":"none"},children:vt?o.jsx(Wa,{size:22,strokeWidth:3,className:"text-white"}):Be.isBoss?o.jsx($w,{size:22,className:"text-white"}):o.jsx("span",{className:"text-xl",children:yi})}),o.jsxs("div",{className:"flex-1 text-left min-w-0 relative z-10",children:[o.jsx("span",{className:`text-[11px] font-bold leading-tight block truncate ${vt?"text-green-400":Ge?"text-white":"text-white/30"}`,children:Be.title}),o.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[o.jsx(ni,{size:10,className:vt?"text-green-400/60":Ge?"text-yellow-400":"text-white/20"}),o.jsxs("span",{className:`text-[9px] font-medium ${vt?"text-green-400/60":Ge?"text-yellow-400":"text-white/20"}`,children:["+",Be.xpReward," XP"]})]})]}),Ge&&!Be.isBoss&&o.jsxs("div",{className:"absolute -right-1 -top-1",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 animate-pulse"}),o.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-indigo-400 animate-ping opacity-75"})]}),Be.isBoss&&Ge&&o.jsxs("div",{className:"absolute -right-1 -top-1",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 animate-pulse"}),o.jsx("div",{className:"absolute inset-0 w-3 h-3 rounded-full bg-red-500 animate-ping opacity-75"})]})]})})]},Be.id)})]})]})};return o.jsxs("div",{className:"h-full relative overflow-hidden text-white",style:{background:"linear-gradient(135deg, #0a0f1c 0%, #0d1424 50%, #0f172a 100%)"},children:[o.jsx(ek,{isOpen:N,onClose:sn}),V&&o.jsxs("div",{className:"fixed inset-0 z-[80] bg-[#020617] overflow-y-auto",children:[o.jsx("button",{onClick:()=>D(!1),className:"fixed top-4 left-4 z-[90] w-10 h-10 rounded-full bg-white/10 backdrop-blur-xl border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:""}),o.jsx(JI,{user:s})]}),o.jsx("div",{className:"h-full overflow-y-auto scroll-smooth scrollbar-hide",children:Ue()}),o.jsx("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 z-50 w-[92%] max-w-[380px] animate-in slide-in-from-bottom-20 duration-700 delay-200",children:o.jsx("div",{className:"relative flex items-center justify-between p-1.5 rounded-[2rem]",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(40px) saturate(180%)",WebkitBackdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255,255,255,0.18)",boxShadow:"0 8px 32px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.2), inset 0 -1px 0 rgba(0,0,0,0.1)"},children:[{id:"LEARN",icon:l5,label:""},{id:"TOOLS",icon:pN,label:""},{id:"RELAX",icon:Qi,label:""},{id:"PROFILE",icon:oN,label:""}].map(Pe=>{const Fe=l===Pe.id,ot=Pe.icon;return o.jsxs("button",{onClick:()=>u(Pe.id),className:`
                  h-12 flex-1 rounded-[1.5rem] flex flex-col items-center justify-center transition-all duration-300 relative overflow-hidden
                  ${Fe?"text-white":"text-white/50 hover:text-white/70 active:scale-95"}
                `,style:Fe?{background:"linear-gradient(135deg, rgba(99,102,241,0.9) 0%, rgba(139,92,246,0.9) 100%)",boxShadow:"0 4px 20px rgba(99,102,241,0.4), inset 0 1px 0 rgba(255,255,255,0.3)"}:{},children:[o.jsx(ot,{size:20,strokeWidth:Fe?2.5:1.5,className:"relative z-10"}),Fe&&o.jsx("span",{className:"text-[8px] font-bold uppercase tracking-wider mt-0.5 relative z-10 animate-in fade-in slide-in-from-bottom-1 duration-200",children:Pe.label})]},Pe.id)})})}),d&&Ft&&mt&&o.jsx(DI,{task:d,isOpen:mt,onClose:()=>{At(!1),p(null)},onComplete:()=>M(d)}),d&&(!Ft||!mt)&&o.jsx(kI,{task:d,isOpen:!!d&&!mt,userInterest:s.interest,isPreviouslyCompleted:s.completedTaskIds.includes(d.id),onClose:()=>p(null),onComplete:()=>{M(d)}}),h&&o.jsx($I,{isOpen:h,onClose:()=>g(!1),onComplete:lt}),o.jsx(tk,{isActive:J}),o.jsx(nk,{xp:B.xp,coins:B.coins,isVisible:te,onComplete:()=>re(!1)}),o.jsx(ik,{message:ee,isVisible:de,onClose:()=>Y(!1)}),o.jsx(rk,{amount:he,isVisible:Z}),o.jsx(ak,{amount:xe,isVisible:F}),o.jsx(sk,{newLevel:Qe,isVisible:Ne,onComplete:()=>Me(!1)}),o.jsx(ok,{days:s.streak,isVisible:ut,onComplete:()=>gt(!1)}),o.jsx(lk,{isOpen:$,onClose:()=>ce(!1),onClaim:C,currentStreak:s.streak}),k&&o.jsxs("div",{className:"fixed inset-0 z-[80] bg-[#020617] overflow-y-auto",children:[o.jsx("button",{onClick:()=>G(!1),className:"fixed top-4 left-4 z-[90] w-10 h-10 rounded-full bg-white/10 backdrop-blur-xl border border-white/20 flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:""}),o.jsx(KI,{user:s,onBuy:z})]}),o.jsx(dk,{onComplete:()=>{a(Pe=>({...Pe,xp:Pe.xp+50})),Ee(50),Q(!0),W("  ! +50 XP")}}),o.jsx(fk,{isOpen:jt,onClose:et,lessonTitle:Ze})]})},mk=()=>{const[t,e]=O.useState(null);return o.jsxs("div",{className:"px-4 pb-24 pt-4 min-h-screen bg-gradient-to-b from-teal-950 to-slate-950",children:[o.jsxs(H.div,{className:"relative overflow-hidden rounded-3xl p-6 mb-8 border border-teal-500/30 bg-gradient-to-br from-teal-900/50 to-emerald-900/50 backdrop-blur-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-teal-500/20 blur-3xl"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-teal-400 to-emerald-500 flex items-center justify-center",children:o.jsx(Ni,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-white font-bold text-lg",children:", ! "}),o.jsx("p",{className:"text-teal-300 text-sm",children:"   "})]})]}),o.jsx("p",{className:"text-teal-100 text-sm leading-relaxed mb-4",children:"   ,   ,     .   , , ?       ?"}),o.jsx("div",{className:"bg-teal-500/20 rounded-2xl p-4 border border-teal-500/30",children:o.jsx("p",{className:"text-teal-200 text-sm italic",children:'"    .    .   ."'})})]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[{icon:fs,title:"   ",desc:"     ",color:"from-purple-500 to-indigo-600"},{icon:ef,title:" ",desc:"   ",color:"from-teal-500 to-emerald-600"},{icon:w5,title:",  ",desc:"    ",color:"from-pink-500 to-rose-600"},{icon:Ui,title:" ,  ",desc:"  ",color:"from-amber-500 to-orange-600"}].map((n,s)=>o.jsxs(H.div,{className:`p-4 rounded-2xl bg-gradient-to-br ${n.color} bg-opacity-20 border border-white/10`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:s*.1},children:[o.jsx(n.icon,{className:"w-6 h-6 text-white mb-2"}),o.jsx("h4",{className:"text-white font-bold text-sm mb-1",children:n.title}),o.jsx("p",{className:"text-white/70 text-xs",children:n.desc})]},s))}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Zd,{className:"w-5 h-5 text-teal-400"}),o.jsx("h3",{className:"text-white font-bold text-lg",children:" "})]}),o.jsx("div",{className:"space-y-4",children:sS.map((n,s)=>o.jsxs(H.div,{className:"bg-slate-900/50 rounded-2xl border border-white/10 overflow-hidden backdrop-blur-md",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:s*.1},children:[o.jsxs("div",{className:"relative h-40 w-full",children:[o.jsx("img",{src:n.thumbnail,alt:n.title,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/50 to-transparent"}),o.jsx("button",{className:"absolute inset-0 flex items-center justify-center group",children:o.jsx("div",{className:"w-14 h-14 bg-teal-500 rounded-full flex items-center justify-center pl-1 shadow-lg shadow-teal-500/30 transform group-hover:scale-110 transition-transform",children:o.jsx(hs,{size:24,className:"text-white",fill:"currentColor"})})}),o.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsxs("span",{className:"text-[10px] font-bold text-white bg-teal-500 px-2 py-0.5 rounded-full uppercase tracking-wider",children:[" ",n.week]}),o.jsx("span",{className:"text-[10px] font-bold text-white/70 bg-white/10 px-2 py-0.5 rounded-full backdrop-blur-md",children:n.duration})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-bold text-white text-base mb-2",children:n.title}),o.jsx("p",{className:"text-sm text-slate-400 mb-3",children:n.description}),n.topics&&n.topics.length>0&&o.jsxs("div",{className:"space-y-2",children:[n.topics.slice(0,3).map((a,l)=>o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-teal-400"}),o.jsx("span",{children:a})]},l)),n.topics.length>3&&o.jsxs("button",{className:"text-teal-400 text-sm font-medium flex items-center gap-1 hover:text-teal-300 transition-colors",children:[" ",n.topics.length-3," ",o.jsx(js,{className:"w-4 h-4"})]})]})]})]},n.id))})]}),o.jsxs(H.div,{className:"bg-gradient-to-br from-purple-900/50 to-pink-900/50 rounded-3xl p-6 border border-purple-500/30 mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Hn,{className:"w-5 h-5 text-purple-400"}),o.jsx("h3",{className:"text-white font-bold",children:"  "})]}),o.jsx("div",{className:"space-y-3",children:["       ","         ","  ,    ",":     ,  "].map((n,s)=>o.jsxs("div",{className:"flex items-start gap-3 text-sm text-purple-100",children:[o.jsx("span",{className:"text-purple-400",children:""}),o.jsx("span",{children:n})]},s))})]}),o.jsxs(H.div,{className:"bg-slate-900/50 p-6 rounded-3xl border border-white/10 text-center backdrop-blur-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-teal-500 to-emerald-600 flex items-center justify-center",children:o.jsx(Gm,{className:"w-8 h-8 text-white"})}),o.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:" ?"}),o.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"           ."}),o.jsx("button",{className:"w-full py-4 bg-gradient-to-r from-teal-500 to-emerald-600 text-white rounded-2xl font-bold hover:from-teal-400 hover:to-emerald-500 transition-all shadow-lg shadow-teal-500/30",children:" "})]})]})},gk=()=>{const[t,e]=O.useState("all"),[n,s]=O.useState(""),[a,l]=O.useState([]),[u,d]=O.useState(!0),p=async()=>{d(!0);try{const b=await MM();l(b)}catch(b){console.error(b)}finally{d(!1)}};O.useEffect(()=>{p()},[]);const h=a.filter(b=>t==="all"||b.status==="risk"||b.status==="inactive").filter(b=>b.name.toLowerCase().includes(n.toLowerCase())),g={total:a.length,risk:a.filter(b=>b.status==="risk").length,inactive:a.filter(b=>b.status==="inactive").length,active:a.filter(b=>b.status==="active").length};return o.jsxs("div",{className:"bg-slate-50 min-h-full pb-20 flex flex-col h-screen",children:[o.jsxs("div",{className:"bg-white p-4 border-b border-slate-200 shadow-sm z-20",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-bold text-slate-800",children:' " 1"'}),o.jsx("button",{onClick:p,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200 transition-colors",children:o.jsx(j5,{size:14,className:`text-slate-500 ${u?"animate-spin":""}`})})]}),o.jsxs("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-1",children:[o.jsxs("div",{className:"flex-1 min-w-[80px] bg-indigo-50 border border-indigo-100 p-2 rounded-lg text-center",children:[o.jsx("div",{className:"text-xl font-bold text-indigo-700",children:g.total}),o.jsx("div",{className:"text-[10px] font-bold text-indigo-400 uppercase",children:""})]}),o.jsxs("div",{className:"flex-1 min-w-[80px] bg-red-50 border border-red-100 p-2 rounded-lg text-center",children:[o.jsx("div",{className:"text-xl font-bold text-red-700",children:g.risk}),o.jsx("div",{className:"text-[10px] font-bold text-red-400 uppercase",children:""})]}),o.jsxs("div",{className:"flex-1 min-w-[80px] bg-slate-50 border border-slate-200 p-2 rounded-lg text-center",children:[o.jsx("div",{className:"text-xl font-bold text-slate-700",children:g.inactive}),o.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:""})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(O5,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"text",value:n,onChange:b=>s(b.target.value),placeholder:"  ...",className:"w-full pl-9 pr-4 py-2 bg-slate-100 border-none rounded-lg text-sm focus:ring-2 focus:ring-indigo-500"})]}),o.jsxs("button",{onClick:()=>e(t==="all"?"risk":"all"),className:`px-3 py-2 rounded-lg border flex items-center gap-2 transition-colors ${t==="risk"?"bg-red-600 text-white border-red-600":"bg-white border-slate-300 text-slate-600"}`,children:[o.jsx(Bm,{size:16}),o.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:""})]})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:o.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:[o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-slate-50 text-slate-500 font-medium border-b border-slate-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:""}),o.jsx("th",{className:"px-2 py-3 text-center",children:""}),o.jsx("th",{className:"px-2 py-3 text-center hidden sm:table-cell",children:""}),o.jsx("th",{className:"px-2 py-3 text-right"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(b=>o.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[o.jsx("td",{className:"px-4 py-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("img",{src:b.avatar,className:"w-8 h-8 rounded-full bg-slate-100",alt:""}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-slate-800",children:b.name}),o.jsxs("div",{className:"text-[10px] text-slate-400",children:[": ",b.lastLogin]})]})]})}),o.jsx("td",{className:"px-2 py-3",children:o.jsxs("div",{className:"flex flex-col gap-1 max-w-[100px] mx-auto",children:[o.jsxs("div",{className:"flex h-1.5 bg-slate-100 rounded-full overflow-hidden w-full",children:[o.jsx("div",{style:{width:`${b.week1Progress}%`},className:"bg-green-500"}),o.jsx("div",{style:{width:`${b.week2Progress}%`},className:"bg-indigo-500"})]}),o.jsxs("div",{className:"text-[10px] text-slate-400 text-center",children:[b.tasksCompletedCount," "]})]})}),o.jsx("td",{className:"px-2 py-3 text-center hidden sm:table-cell",children:o.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${b.status==="active"?"bg-green-100 text-green-700":b.status==="risk"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-500"}`,children:b.status==="active"?"":b.status==="risk"?"":""})}),o.jsx("td",{className:"px-2 py-3 text-right",children:o.jsx("button",{className:"text-indigo-600 p-1 hover:bg-indigo-50 rounded",children:o.jsx(Fw,{size:16})})})]},b.id))})]}),h.length===0&&o.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:u?"...":"  "})]})})]})},yk=[{id:"1",name:" ",points:580,avatar:""},{id:"2",name:" ",points:520,avatar:""},{id:"3",name:" ",points:490,avatar:""},{id:"4",name:" ",points:450,avatar:""},{id:"5",name:" ",points:420,avatar:""}],xk=[{id:"understanding",title:" ",description:"      ",icon:"",lessons:5,points:100,isLocked:!1},{id:"communication",title:" ",description:"    ",icon:"",lessons:6,points:120,isLocked:!1},{id:"motivation",title:"  ",description:"   ",icon:"",lessons:4,points:80,isLocked:!0},{id:"boundaries",title:"  ",description:"   ",icon:"",lessons:5,points:100,isLocked:!0},{id:"emotions",title:" ",description:"    ",icon:"",lessons:4,points:80,isLocked:!0},{id:"crisis",title:" ",description:"    ",icon:"",lessons:3,points:60,isLocked:!0}],ab=[{title:"  ",content:"   ,  .          .",author:" "},{title:" ",content:'" ,    "     .   ,    .',author:" "},{title:" ",content:"       .       .",author:" "}],vk=[{id:"attention",type:"  ",emoji:"",color:"from-blue-500 to-cyan-500",bgColor:"rgba(59,130,246,0.15)",borderColor:"rgba(59,130,246,0.3)",description:"   ,      ",signs:[" ","  ","  ","   "],whatToDo:"       . 15     .",whatNotToDo:"         !"},{id:"power",type:"   ",emoji:"",color:"from-orange-500 to-red-500",bgColor:"rgba(249,115,22,0.15)",borderColor:"rgba(249,115,22,0.3)",description:"       ",signs:["   "," ","  ",'"   !"'],whatToDo:'  ,  . "     10 ?"',whatNotToDo:"       ."},{id:"revenge",type:" ",emoji:"",color:"from-red-500 to-pink-500",bgColor:"rgba(239,68,68,0.15)",borderColor:"rgba(239,68,68,0.3)",description:"      ",signs:["  "," /","  ",'"  !"'],whatToDo:'  : " ,   .  ."',whatNotToDo:"       ."},{id:"avoidance",type:"  ",emoji:"",color:"from-gray-500 to-slate-500",bgColor:"rgba(107,114,128,0.15)",borderColor:"rgba(107,114,128,0.3)",description:"      ",signs:["  ","   ",'"   "'," "],whatToDo:" ,  .   .",whatNotToDo:'       "  !"'}],Ad={title:"  ",description:",         .       (, , ).      ,   .",fillers:[{emoji:"",text:" ",example:'"   "'},{emoji:"",text:" ",example:"15   "},{emoji:"",text:" ",example:"   "},{emoji:"",text:" ",example:'" !"'},{emoji:"",text:" ",example:",  "}],drains:[{emoji:"",text:"  "},{emoji:"",text:" "},{emoji:"",text:" "},{emoji:"",text:" "},{emoji:"",text:" "}]},ob=[{id:"screaming",emoji:"",title:" ",color:"from-red-500 to-orange-500",steps:["1.      ",'2.  : " ,   "',"3.      ",'4. : "    "'],avoid:" :    ,  ,   "},{id:"closed",emoji:"",title:"  ",color:"from-blue-500 to-indigo-500",steps:["1.       ",'2.   : " ,  "',"3.     ","4.      "],avoid:" :  ,   ,     "},{id:"phone",emoji:"",title:"  ",color:"from-purple-500 to-pink-500",steps:["1.     (  )",'2.  ,   "   "','3.  : "   ?"',"4.      "],avoid:" :   ,    ,    "},{id:"grades",emoji:"",title:" ",color:"from-amber-500 to-yellow-500",steps:['1. : " ?"  ',"2. :    (, )",'3.   : "   ?"',"4. :    "],avoid:' :    ,   ,   "   "'},{id:"lies",emoji:"",title:"  ",color:"from-slate-500 to-gray-500",steps:["1.  :     ?",'2.     : "  "','3. : "    ?"',"4. :  =  "],avoid:' :   "",   ,        '},{id:"hate",emoji:"",title:'"  !"',color:"from-rose-500 to-red-500",steps:["1.         ","2.     ",'3. : " ,   .   ."','4.  : "      ?"'],avoid:' :   "  !",   ,      '}],bk=[{id:1,text:"          ?",max:7},{id:2,text:"    ?",max:10},{id:3,text:"    ?",max:10,inverse:!0},{id:4,text:"    -   ?",max:5},{id:5,text:"        ?",yesNo:!0}],wk=[{id:"morning",title:" ",situation:"       ",wrongDialog:{parent:"   ?!   !    ?!",teen:" !   !",result:" ,  ,   "},rightDialog:{parent:"  ,      .    ? ,  ?",teen:"  ... ,   .",result:" ,  ,   "},tip:'   . " ...?"   "  ...?"'},{id:"grades",title:" ",situation:"     ",wrongDialog:{parent:"  ?!   ?!      !",teen:"        ...",result:' , , "  "    '},rightDialog:{parent:" , -     .    ?",teen:"       ...   .",result:"   ,  "},tip:"     .    ."},{id:"phone",title:"  ",situation:"   ,    ",wrongDialog:{parent:"     !    !",teen:"  !  !",result:' ,   " ",  '},rightDialog:{parent:"  ,       . ,   ?",teen:"  ... ( )",result:" ,   ,    "},tip:"    ,    ."}],_k=({isOpen:t,onClose:e})=>{const[n,s]=O.useState("psychology"),[a,l]=O.useState(120),[u]=O.useState(Math.floor(Math.random()*ab.length)),[d,p]=O.useState(null),[h,g]=O.useState(null),[b,T]=O.useState({}),[S,j]=O.useState(!1),[N,P]=O.useState(null);if(!t)return null;const V=ab[u];return yk.findIndex(D=>D.points<a)+1,o.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex flex-col",style:{background:"linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%)"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(236,72,153,0.2) 0%, rgba(168,85,247,0.2) 100%)",border:"1px solid rgba(236,72,153,0.3)"},children:o.jsx(sv,{className:"text-pink-400",size:24})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:" "}),o.jsx("p",{className:"text-white/50 text-xs",children:"   "})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl",style:{background:"rgba(236,72,153,0.15)",border:"1px solid rgba(236,72,153,0.3)"},children:[o.jsx(Qi,{className:"text-pink-400",size:16,fill:"currentColor"}),o.jsx("span",{className:"text-pink-300 font-bold",children:a})]}),o.jsx("button",{onClick:()=>{Di(),e()},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(mi,{className:"text-white/70",size:20})})]})]}),o.jsx("div",{className:"flex gap-1.5 p-4 overflow-x-auto",children:[{id:"psychology",label:" ",icon:Zd},{id:"sos",label:" SOS",icon:Ni},{id:"thermometer",label:" ",icon:Ui},{id:"learn",label:" ",icon:sv}].map(D=>o.jsxs("button",{onClick:()=>{Di(),s(D.id)},className:"flex-1 py-2.5 px-3 rounded-xl font-medium text-xs transition-all flex items-center justify-center gap-1.5 whitespace-nowrap",style:{background:n===D.id?"linear-gradient(135deg, rgba(236,72,153,0.2) 0%, rgba(168,85,247,0.2) 100%)":"rgba(255,255,255,0.05)",border:n===D.id?"1px solid rgba(236,72,153,0.3)":"1px solid rgba(255,255,255,0.08)",color:n===D.id?"#fff":"rgba(255,255,255,0.5)"},children:[o.jsx(D.icon,{size:16}),D.label]},D.id))}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-8",children:o.jsxs(Et,{mode:"wait",children:[n==="psychology"&&o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[o.jsxs("div",{className:"p-4 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(236,72,153,0.1) 0%, rgba(168,85,247,0.1) 100%)",border:"1px solid rgba(236,72,153,0.2)"},children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Hn,{className:"text-pink-400",size:18}),o.jsx("span",{className:"text-pink-300 font-semibold text-sm",children:" "})]}),o.jsx("h3",{className:"text-white font-bold mb-2",children:V.title}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed mb-3",children:V.content}),o.jsxs("p",{className:"text-white/40 text-xs italic",children:[" ",V.author]})]}),o.jsxs("h2",{className:"text-white font-bold text-lg mt-6 mb-3 flex items-center gap-2",children:[o.jsx("span",{children:""})," 4   "]}),o.jsx("p",{className:"text-white/60 text-sm mb-4",children:' ""    .     .'}),o.jsx("div",{className:"space-y-3",children:vk.map((D,k)=>o.jsxs(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.1},children:[o.jsx("button",{onClick:()=>{Di(),p(d===D.id?null:D.id)},className:"w-full p-4 rounded-2xl text-left",style:{background:D.bgColor,border:`1px solid ${D.borderColor}`},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-3xl",children:D.emoji}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-white font-bold",children:D.type}),o.jsx("p",{className:"text-white/60 text-sm",children:D.description})]}),o.jsx(js,{className:`text-white/50 transition-transform ${d===D.id?"rotate-90":""}`,size:20})]})}),o.jsx(Et,{children:d===D.id&&o.jsx(H.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:o.jsxs("div",{className:"p-4 space-y-4 bg-white/5 rounded-b-2xl border-x border-b border-white/10",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-white/80 font-semibold text-sm mb-2",children:" :"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:D.signs.map((G,J)=>o.jsx("span",{className:"px-2 py-1 bg-white/10 rounded-lg text-white/70 text-xs",children:G},J))})]}),o.jsxs("div",{className:"p-3 rounded-xl bg-green-500/10 border border-green-500/20",children:[o.jsx("h4",{className:"text-green-400 font-semibold text-sm mb-1",children:"  :"}),o.jsx("p",{className:"text-white/80 text-sm",children:D.whatToDo})]}),o.jsxs("div",{className:"p-3 rounded-xl bg-red-500/10 border border-red-500/20",children:[o.jsx("h4",{className:"text-red-400 font-semibold text-sm mb-1",children:"   :"}),o.jsx("p",{className:"text-white/80 text-sm",children:D.whatNotToDo})]})]})})})]},D.id))}),o.jsx(H.button,{onClick:()=>{Di(),j(!S)},className:"w-full p-4 rounded-2xl text-left mt-6",style:{background:"linear-gradient(135deg, rgba(251,191,36,0.15) 0%, rgba(245,158,11,0.15) 100%)",border:"1px solid rgba(251,191,36,0.3)"},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-4xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-white font-bold",children:Ad.title}),o.jsx("p",{className:"text-amber-200/70 text-sm",children:"   "})]}),o.jsx(js,{className:`text-amber-400 transition-transform ${S?"rotate-90":""}`,size:20})]})}),o.jsx(Et,{children:S&&o.jsx(H.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:o.jsxs("div",{className:"p-4 space-y-4 bg-amber-500/5 rounded-2xl border border-amber-500/20",children:[o.jsx("p",{className:"text-white/80 text-sm",children:Ad.description}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-green-400 font-semibold text-sm mb-3",children:"  :"}),o.jsx("div",{className:"space-y-2",children:Ad.fillers.map((D,k)=>o.jsxs("div",{className:"flex items-center gap-3 p-2 bg-green-500/10 rounded-xl",children:[o.jsx("span",{className:"text-xl",children:D.emoji}),o.jsxs("div",{children:[o.jsx("span",{className:"text-white/90 text-sm font-medium",children:D.text}),o.jsx("span",{className:"text-green-300/60 text-xs ml-2",children:D.example})]})]},k))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-red-400 font-semibold text-sm mb-3",children:"  :"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Ad.drains.map((D,k)=>o.jsx("span",{className:"px-3 py-1.5 bg-red-500/10 border border-red-500/20 rounded-lg text-red-300 text-sm",children:D.text},k))})]})]})})}),o.jsxs("h2",{className:"text-white font-bold text-lg mt-6 mb-3 flex items-center gap-2",children:[o.jsx("span",{children:""}),"  "]}),o.jsx("p",{className:"text-white/60 text-sm mb-4",children:" ,   "}),o.jsx("div",{className:"space-y-3",children:wk.map((D,k)=>o.jsxs(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.1},children:[o.jsx("button",{onClick:()=>{Di(),P(N===D.id?null:D.id)},className:"w-full p-4 rounded-2xl text-left",style:{background:"rgba(139,92,246,0.1)",border:"1px solid rgba(139,92,246,0.2)"},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-white font-bold",children:D.title}),o.jsx("p",{className:"text-purple-200/60 text-sm",children:D.situation})]}),o.jsx(js,{className:`text-purple-400 transition-transform ${N===D.id?"rotate-90":""}`,size:20})]})}),o.jsx(Et,{children:N===D.id&&o.jsx(H.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:o.jsxs("div",{className:"p-4 space-y-4 bg-purple-500/5 rounded-b-2xl border-x border-b border-purple-500/20",children:[o.jsxs("div",{className:"p-3 rounded-xl bg-red-500/10 border border-red-500/20",children:[o.jsx("h4",{className:"text-red-400 font-semibold text-sm mb-2",children:"   :"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{className:"text-white/70",children:[o.jsx("span",{className:"text-red-300",children:":"})," ",D.wrongDialog.parent]}),o.jsxs("p",{className:"text-white/70",children:[o.jsx("span",{className:"text-red-300",children:":"})," ",D.wrongDialog.teen]}),o.jsx("p",{className:"text-red-300/80 text-xs mt-2",children:D.wrongDialog.result})]})]}),o.jsxs("div",{className:"p-3 rounded-xl bg-green-500/10 border border-green-500/20",children:[o.jsx("h4",{className:"text-green-400 font-semibold text-sm mb-2",children:"  :"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{className:"text-white/70",children:[o.jsx("span",{className:"text-green-300",children:":"})," ",D.rightDialog.parent]}),o.jsxs("p",{className:"text-white/70",children:[o.jsx("span",{className:"text-green-300",children:":"})," ",D.rightDialog.teen]}),o.jsx("p",{className:"text-green-300/80 text-xs mt-2",children:D.rightDialog.result})]})]}),o.jsx("div",{className:"p-3 rounded-xl bg-amber-500/10 border border-amber-500/20",children:o.jsxs("p",{className:"text-amber-200 text-sm",children:[" ",D.tip]})})]})})})]},D.id))})]},"psychology"),n==="sos"&&o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[o.jsxs("div",{className:"p-4 rounded-2xl bg-red-500/10 border border-red-500/20 mb-4",children:[o.jsxs("h2",{className:"text-white font-bold text-lg flex items-center gap-2 mb-2",children:[o.jsx("span",{children:""})," SOS-"]}),o.jsx("p",{className:"text-white/70 text-sm",children:"    .      ."})]}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:ob.map((D,k)=>o.jsxs(H.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:k*.1},onClick:()=>{Di(),g(h===D.id?null:D.id)},className:`p-4 rounded-2xl text-center bg-gradient-to-br ${D.color} ${h===D.id?"ring-2 ring-white/50":""}`,children:[o.jsx("span",{className:"text-4xl block mb-2",children:D.emoji}),o.jsx("span",{className:"text-white font-bold text-sm",children:D.title})]},D.id))}),o.jsx(Et,{children:h&&o.jsx(H.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:ob.filter(D=>D.id===h).map(D=>o.jsxs("div",{className:"p-4 rounded-2xl space-y-4",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:[o.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[o.jsx("span",{children:D.emoji})," ",D.title]}),o.jsx("div",{className:"space-y-2",children:D.steps.map((k,G)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-green-500/10 rounded-xl",children:[o.jsx(Ka,{size:18,className:"text-green-400 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-white/90 text-sm",children:k})]},G))}),o.jsx("div",{className:"p-3 rounded-xl bg-red-500/10 border border-red-500/20",children:o.jsxs("p",{className:"text-red-300 text-sm",children:[" ",D.avoid]})})]},D.id))})})]},"sos"),n==="thermometer"&&o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[o.jsxs("div",{className:"p-4 rounded-2xl bg-teal-500/10 border border-teal-500/20 mb-4",children:[o.jsxs("h2",{className:"text-white font-bold text-lg flex items-center gap-2 mb-2",children:[o.jsx("span",{children:""}),"  "]}),o.jsx("p",{className:"text-white/70 text-sm",children:" -     "})]}),o.jsx("div",{className:"space-y-4",children:bk.map((D,k)=>o.jsxs(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.1},className:"p-4 rounded-2xl",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:[o.jsx("p",{className:"text-white/90 text-sm mb-3",children:D.text}),D.yesNo?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{Di(),T(G=>({...G,[D.id]:1}))},className:`flex-1 py-2 rounded-xl font-medium text-sm transition-all ${b[D.id]===1?"bg-green-500 text-white":"bg-white/10 text-white/60"}`,children:" "}),o.jsx("button",{onClick:()=>{Di(),T(G=>({...G,[D.id]:0}))},className:`flex-1 py-2 rounded-xl font-medium text-sm transition-all ${b[D.id]===0?"bg-red-500 text-white":"bg-white/10 text-white/60"}`,children:" "})]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"range",min:"0",max:D.max,value:b[D.id]||0,onChange:G=>{T(J=>({...J,[D.id]:parseInt(G.target.value)}))},className:"flex-1 h-2 bg-white/20 rounded-lg appearance-none cursor-pointer accent-teal-500"}),o.jsx("span",{className:`text-xl font-bold min-w-[2.5rem] text-center ${D.inverse?(b[D.id]||0)>D.max/2?"text-red-400":"text-green-400":(b[D.id]||0)>D.max/2?"text-green-400":"text-amber-400"}`,children:b[D.id]||0})]})]},D.id))}),Object.keys(b).length>=3&&o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 rounded-2xl mt-4",style:{background:"linear-gradient(135deg, rgba(20,184,166,0.15) 0%, rgba(6,182,212,0.15) 100%)",border:"1px solid rgba(20,184,166,0.3)"},children:[o.jsx("h3",{className:"text-white font-bold mb-2",children:"  "}),o.jsx("p",{className:"text-teal-200 text-sm",children:"     ,    ."}),o.jsx("button",{onClick:()=>{ia(),T({})},className:"mt-3 w-full py-3 rounded-xl bg-teal-500 text-white font-bold",children:"   "})]})]},"thermometer"),n==="learn"&&o.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[o.jsx("h2",{className:"text-white font-bold text-lg mb-3",children:"  "}),o.jsx("div",{className:"space-y-3",children:xk.map((D,k)=>o.jsx(H.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.1},onClick:()=>!D.isLocked&&Di(),disabled:D.isLocked,className:"w-full p-4 rounded-2xl text-left relative overflow-hidden",style:{background:D.isLocked?"rgba(255,255,255,0.03)":"rgba(255,255,255,0.05)",border:D.isLocked?"1px solid rgba(255,255,255,0.05)":"1px solid rgba(255,255,255,0.1)",opacity:D.isLocked?.6:1},children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center text-2xl",style:{background:D.isLocked?"rgba(255,255,255,0.05)":"linear-gradient(135deg, rgba(236,72,153,0.2) 0%, rgba(168,85,247,0.2) 100%)"},children:D.isLocked?o.jsx(Bw,{size:24,className:"text-white/30"}):D.icon}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-white font-bold",children:D.title}),o.jsx("p",{className:"text-white/50 text-sm",children:D.description}),o.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[o.jsxs("span",{className:"text-white/40 text-xs",children:[D.lessons," "]}),o.jsxs("span",{className:"text-pink-400 text-xs font-medium",children:["+",D.points," "]})]})]}),o.jsx(js,{className:"text-white/30",size:20})]})},D.id))})]},"learn")]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Tk,Ek;function Sk(){return{geminiUrl:Tk,vertexUrl:Ek}}function Nk(t,e,n,s){var a,l;if(!(t!=null&&t.baseUrl)){const u=Sk();return e?(a=u.vertexUrl)!==null&&a!==void 0?a:n:(l=u.geminiUrl)!==null&&l!==void 0?l:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yr{}function ze(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(s,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const l=e[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function y(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const p=t[d];if(Array.isArray(n))for(let h=0;h<p.length;h++){const g=p[h];y(g,e.slice(l+1),n[h])}else for(const h of p)y(h,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const p=t[d];y(p[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const s=e[e.length-1],a=t[s];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[s]=n}function m(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return n;const a=e[s];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(d=>m(d,e.slice(s+1),n)):n}else return n}else t=t[a]}return t}catch(s){if(s instanceof TypeError)return n;throw s}}function Ck(t,e){for(const[n,s]of Object.entries(e)){const a=n.split("."),l=s.split("."),u=new Set;let d=-1;for(let p=0;p<a.length;p++)if(a[p]==="*"){d=p;break}if(d!==-1&&l.length>d)for(let p=d;p<l.length;p++){const h=l[p];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}Rm(t,a,l,0,u)}}function Rm(t,e,n,s,a){if(s>=e.length||typeof t!="object"||t===null)return;const l=e[s];if(l.endsWith("[]")){const u=l.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const p of d[u])Rm(p,e,n,s+1,a)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(h=>!h.startsWith("_")&&!a.has(h)),p={};for(const h of d)p[h]=u[h];for(const[h,g]of Object.entries(p)){const b=[];for(const T of n.slice(s))T==="*"?b.push(h):b.push(T);y(u,b,g)}for(const h of d)delete u[h]}}else{const u=t;l in u&&Rm(u[l],e,n,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k0(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ak(t){const e={},n=m(t,["operationName"]);n!=null&&y(e,["operationName"],n);const s=m(t,["resourceName"]);return s!=null&&y(e,["_url","resourceName"],s),e}function Rk(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["metadata"]);s!=null&&y(e,["metadata"],s);const a=m(t,["done"]);a!=null&&y(e,["done"],a);const l=m(t,["error"]);l!=null&&y(e,["error"],l);const u=m(t,["response","generateVideoResponse"]);return u!=null&&y(e,["response"],jk(u)),e}function Ik(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["metadata"]);s!=null&&y(e,["metadata"],s);const a=m(t,["done"]);a!=null&&y(e,["done"],a);const l=m(t,["error"]);l!=null&&y(e,["error"],l);const u=m(t,["response"]);return u!=null&&y(e,["response"],Mk(u)),e}function jk(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>kk(u))),y(e,["generatedVideos"],l)}const s=m(t,["raiMediaFilteredCount"]);s!=null&&y(e,["raiMediaFilteredCount"],s);const a=m(t,["raiMediaFilteredReasons"]);return a!=null&&y(e,["raiMediaFilteredReasons"],a),e}function Mk(t){const e={},n=m(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>Dk(u))),y(e,["generatedVideos"],l)}const s=m(t,["raiMediaFilteredCount"]);s!=null&&y(e,["raiMediaFilteredCount"],s);const a=m(t,["raiMediaFilteredReasons"]);return a!=null&&y(e,["raiMediaFilteredReasons"],a),e}function kk(t){const e={},n=m(t,["video"]);return n!=null&&y(e,["video"],zk(n)),e}function Dk(t){const e={},n=m(t,["_self"]);return n!=null&&y(e,["video"],Fk(n)),e}function Pk(t){const e={},n=m(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function Ok(t){const e={},n=m(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function Lk(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["metadata"]);s!=null&&y(e,["metadata"],s);const a=m(t,["done"]);a!=null&&y(e,["done"],a);const l=m(t,["error"]);l!=null&&y(e,["error"],l);const u=m(t,["response"]);return u!=null&&y(e,["response"],Uk(u)),e}function Uk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["parent"]);s!=null&&y(e,["parent"],s);const a=m(t,["documentName"]);return a!=null&&y(e,["documentName"],a),e}function tT(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["metadata"]);s!=null&&y(e,["metadata"],s);const a=m(t,["done"]);a!=null&&y(e,["done"],a);const l=m(t,["error"]);l!=null&&y(e,["error"],l);const u=m(t,["response"]);return u!=null&&y(e,["response"],Vk(u)),e}function Vk(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["parent"]);s!=null&&y(e,["parent"],s);const a=m(t,["documentName"]);return a!=null&&y(e,["documentName"],a),e}function zk(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["uri"],n);const s=m(t,["encodedVideo"]);s!=null&&y(e,["videoBytes"],k0(s));const a=m(t,["encoding"]);return a!=null&&y(e,["mimeType"],a),e}function Fk(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const s=m(t,["bytesBase64Encoded"]);s!=null&&y(e,["videoBytes"],k0(s));const a=m(t,["mimeType"]);return a!=null&&y(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lb;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lb||(lb={}));var cb;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(cb||(cb={}));var ub;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ub||(ub={}));var ta;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ta||(ta={}));var db;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(db||(db={}));var fb;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(fb||(fb={}));var hb;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(hb||(hb={}));var pb;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(pb||(pb={}));var mb;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(mb||(mb={}));var gb;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(gb||(gb={}));var yb;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(yb||(yb={}));var xb;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(xb||(xb={}));var vb;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(vb||(vb={}));var bb;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(bb||(bb={}));var wb;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(wb||(wb={}));var _b;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_b||(_b={}));var Tb;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Tb||(Tb={}));var Eb;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Eb||(Eb={}));var Sb;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sb||(Sb={}));var Wd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Wd||(Wd={}));var Nb;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Nb||(Nb={}));var Cb;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Cb||(Cb={}));var Ab;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ab||(Ab={}));var Im;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Im||(Im={}));var Rb;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Rb||(Rb={}));var Ib;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ib||(Ib={}));var jb;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(jb||(jb={}));var Mb;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Mb||(Mb={}));var kb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(kb||(kb={}));var Db;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Db||(Db={}));var Pb;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Pb||(Pb={}));var Ob;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ob||(Ob={}));var Lb;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Lb||(Lb={}));var Ub;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Ub||(Ub={}));var Vb;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Vb||(Vb={}));var zb;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zb||(zb={}));var Fb;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Fb||(Fb={}));var Hb;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Hb||(Hb={}));var Bb;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Bb||(Bb={}));var Gb;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Gb||(Gb={}));var qb;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(qb||(qb={}));var $b;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($b||($b={}));var Yb;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Yb||(Yb={}));var Wb;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Wb||(Wb={}));var Kb;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Kb||(Kb={}));var Jb;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Jb||(Jb={}));var Xb;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Xb||(Xb={}));var Qb;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Qb||(Qb={}));var Zb;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Zb||(Zb={}));var ew;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ew||(ew={}));var tw;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(tw||(tw={}));var nw;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nw||(nw={}));var iw;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iw||(iw={}));var sw;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(sw||(sw={}));var pl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(pl||(pl={}));class jm{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class jc{get text(){var e,n,s,a,l,u,d,p;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",g=!1;const b=[];for(const T of(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[S,j]of Object.entries(T))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(j!==null||j!==void 0)&&b.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;g=!0,h+=T.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?h:void 0}get data(){var e,n,s,a,l,u,d,p;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const g=[];for(const b of(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&p!==void 0?p:[]){for(const[T,S]of Object.entries(b))T!=="inlineData"&&(S!==null||S!==void 0)&&g.push(T);b.inlineData&&typeof b.inlineData.data=="string"&&(h+=atob(b.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,s,a,l,u,d,p;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,s,a,l,u,d,p,h;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,s,a,l,u,d,p,h;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||p===void 0?void 0:p.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((g==null?void 0:g.length)!==0)return(h=g==null?void 0:g[0])===null||h===void 0?void 0:h.output}}class rw{}class aw{}class Hk{}class Bk{}class Gk{}class qk{}class ow{}class lw{}class cw{}class $k{}class Kd{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new Kd;let a;const l=e;return n?a=Ik(l):a=Rk(l),Object.assign(s,a),s}}class uw{}class dw{}class fw{}class Yk{}class Wk{}class Kk{}class D0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new D0,l=Lk(e);return Object.assign(s,l),s}}class Jk{}class Xk{}class Qk{}class hw{}class Zk{get text(){var e,n,s;let a="",l=!1;const u=[];for(const d of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[p,h]of Object.entries(d))p!=="text"&&p!=="thought"&&h!==null&&u.push(p);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;l=!0,a+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var e,n,s;let a="";const l=[];for(const u of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[d,p]of Object.entries(u))d!=="inlineData"&&p!==null&&l.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(a+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class eD{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class P0{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new P0,l=tT(e);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function nT(t,e){const n=qt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function iT(t){return Array.isArray(t)?t.map(e=>Jd(e)):[Jd(t)]}function Jd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function sT(t){const e=Jd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function rT(t){const e=Jd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pw(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function aT(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>pw(e)):[pw(t)]}function Mm(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function mw(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function gw(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ai(t){if(t==null)throw new Error("ContentUnion is required");return Mm(t)?t:{role:"user",parts:aT(t)}}function O0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=ai(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const n=ai(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ai(n)):[ai(e)]}function es(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(mw(t)||gw(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ai(t)]}const e=[],n=[],s=Mm(t[0]);for(const a of t){const l=Mm(a);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(a);else{if(mw(a)||gw(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return s||e.push({role:"user",parts:aT(n)}),e}function tD(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(s=>s!=="null");if(n.length===1)e.type=Object.values(ta).includes(n[0].toUpperCase())?n[0].toUpperCase():ta.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of n)e.anyOf.push({type:Object.values(ta).includes(s.toUpperCase())?s.toUpperCase():ta.TYPE_UNSPECIFIED})}}function xl(t){const e={},n=["items"],s=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&tD(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(ta).includes(d.toUpperCase())?d.toUpperCase():ta.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=xl(d);else if(s.includes(u)){const p=[];for(const h of d){if(h.type=="null"){e.nullable=!0;continue}p.push(xl(h))}e[u]=p}else if(a.includes(u)){const p={};for(const[h,g]of Object.entries(d))p[h]=xl(g);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=d}return e}function L0(t){return xl(t)}function U0(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function V0(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Nl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=xl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=xl(e.response));return t}function Cl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function nD(t,e,n,s=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function xr(t,e){if(typeof e!="string")throw new Error("name must be a string");return nD(t,e,"cachedContents")}function oT(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function la(t){return k0(t)}function iD(t){return t!=null&&typeof t=="object"&&"name"in t}function sD(t){return t!=null&&typeof t=="object"&&"video"in t}function rD(t){return t!=null&&typeof t=="object"&&"uri"in t}function lT(t){var e;let n;if(iD(t)&&(n=t.name),!(rD(t)&&(n=t.uri,n===void 0))&&!(sD(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function cT(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function uT(t){for(const e of["models","tunedModels","publisherModels"])if(aD(t,e))return t[e];return[]}function aD(t,e){return t!==null&&typeof t=="object"&&e in t}function oD(t,e={}){const n=t,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function lD(t,e={}){const n=[],s=new Set;for(const a of t){const l=a.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const u=oD(a,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function dT(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function cD(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function fT(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let l=!1;for(const u of a){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Al(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function hT(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uD(t){const e={},n=m(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const s=m(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>GD(u))),y(e,["inlinedResponses"],l)}const a=m(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),y(e,["inlinedEmbedContentResponses"],l)}return e}function dD(t){const e={},n=m(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const s=m(t,["gcsDestination","outputUriPrefix"]);s!=null&&y(e,["gcsUri"],s);const a=m(t,["bigqueryDestination","outputUri"]);return a!=null&&y(e,["bigqueryUri"],a),e}function fD(t){const e={},n=m(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const s=m(t,["gcsUri"]);s!=null&&y(e,["gcsDestination","outputUriPrefix"],s);const a=m(t,["bigqueryUri"]);if(a!=null&&y(e,["bigqueryDestination","outputUri"],a),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(m(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Dd(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["metadata","displayName"]);s!=null&&y(e,["displayName"],s);const a=m(t,["metadata","state"]);a!=null&&y(e,["state"],hT(a));const l=m(t,["metadata","createTime"]);l!=null&&y(e,["createTime"],l);const u=m(t,["metadata","endTime"]);u!=null&&y(e,["endTime"],u);const d=m(t,["metadata","updateTime"]);d!=null&&y(e,["updateTime"],d);const p=m(t,["metadata","model"]);p!=null&&y(e,["model"],p);const h=m(t,["metadata","output"]);return h!=null&&y(e,["dest"],uD(fT(h))),e}function km(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["displayName"]);s!=null&&y(e,["displayName"],s);const a=m(t,["state"]);a!=null&&y(e,["state"],hT(a));const l=m(t,["error"]);l!=null&&y(e,["error"],l);const u=m(t,["createTime"]);u!=null&&y(e,["createTime"],u);const d=m(t,["startTime"]);d!=null&&y(e,["startTime"],d);const p=m(t,["endTime"]);p!=null&&y(e,["endTime"],p);const h=m(t,["updateTime"]);h!=null&&y(e,["updateTime"],h);const g=m(t,["model"]);g!=null&&y(e,["model"],g);const b=m(t,["inputConfig"]);b!=null&&y(e,["src"],hD(b));const T=m(t,["outputConfig"]);T!=null&&y(e,["dest"],dD(fT(T)));const S=m(t,["completionStats"]);return S!=null&&y(e,["completionStats"],S),e}function hD(t){const e={},n=m(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const s=m(t,["gcsSource","uris"]);s!=null&&y(e,["gcsUri"],s);const a=m(t,["bigquerySource","inputUri"]);return a!=null&&y(e,["bigqueryUri"],a),e}function pD(t,e){const n={};if(m(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=m(e,["fileName"]);s!=null&&y(n,["fileName"],s);const a=m(e,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>BD(t,u))),y(n,["requests","requests"],l)}return n}function mD(t){const e={},n=m(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const s=m(t,["gcsUri"]);s!=null&&y(e,["gcsSource","uris"],s);const a=m(t,["bigqueryUri"]);if(a!=null&&y(e,["bigquerySource","inputUri"],a),m(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(m(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function gD(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function yD(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],Al(t,s)),n}function xD(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],Al(t,s)),n}function vD(t){const e={},n=m(t,["content"]);n!=null&&y(e,["content"],n);const s=m(t,["citationMetadata"]);s!=null&&y(e,["citationMetadata"],bD(s));const a=m(t,["tokenCount"]);a!=null&&y(e,["tokenCount"],a);const l=m(t,["finishReason"]);l!=null&&y(e,["finishReason"],l);const u=m(t,["avgLogprobs"]);u!=null&&y(e,["avgLogprobs"],u);const d=m(t,["groundingMetadata"]);d!=null&&y(e,["groundingMetadata"],d);const p=m(t,["index"]);p!=null&&y(e,["index"],p);const h=m(t,["logprobsResult"]);h!=null&&y(e,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),y(e,["safetyRatings"],T)}const b=m(t,["urlContextMetadata"]);return b!=null&&y(e,["urlContextMetadata"],b),e}function bD(t){const e={},n=m(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),y(e,["citations"],s)}return e}function pT(t){const e={},n=m(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>XD(l))),y(e,["parts"],a)}const s=m(t,["role"]);return s!=null&&y(e,["role"],s),e}function wD(t,e){const n={},s=m(t,["displayName"]);if(e!==void 0&&s!=null&&y(e,["batch","displayName"],s),m(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _D(t,e){const n={},s=m(t,["displayName"]);e!==void 0&&s!=null&&y(e,["displayName"],s);const a=m(t,["dest"]);return e!==void 0&&a!=null&&y(e,["outputConfig"],fD(cD(a))),n}function yw(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["src"]);a!=null&&y(n,["batch","inputConfig"],pD(t,dT(t,a)));const l=m(e,["config"]);return l!=null&&wD(l,n),n}function TD(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["model"],qt(t,s));const a=m(e,["src"]);a!=null&&y(n,["inputConfig"],mD(dT(t,a)));const l=m(e,["config"]);return l!=null&&_D(l,n),n}function ED(t,e){const n={},s=m(t,["displayName"]);return e!==void 0&&s!=null&&y(e,["batch","displayName"],s),n}function SD(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["src"]);a!=null&&y(n,["batch","inputConfig"],MD(t,a));const l=m(e,["config"]);return l!=null&&ED(l,n),n}function ND(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],Al(t,s)),n}function CD(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],Al(t,s)),n}function AD(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["name"]);s!=null&&y(e,["name"],s);const a=m(t,["done"]);a!=null&&y(e,["done"],a);const l=m(t,["error"]);return l!=null&&y(e,["error"],l),e}function RD(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["name"]);s!=null&&y(e,["name"],s);const a=m(t,["done"]);a!=null&&y(e,["done"],a);const l=m(t,["error"]);return l!=null&&y(e,["error"],l),e}function ID(t,e){const n={},s=m(e,["contents"]);if(s!=null){let l=O0(t,s);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["requests[]","request","content"],l)}const a=m(e,["config"]);return a!=null&&(y(n,["_self"],jD(a,n)),Ck(n,{"requests[].*":"requests[].request.*"})),n}function jD(t,e){const n={},s=m(t,["taskType"]);e!==void 0&&s!=null&&y(e,["requests[]","taskType"],s);const a=m(t,["title"]);e!==void 0&&a!=null&&y(e,["requests[]","title"],a);const l=m(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&y(e,["requests[]","outputDimensionality"],l),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function MD(t,e){const n={},s=m(e,["fileName"]);s!=null&&y(n,["file_name"],s);const a=m(e,["inlinedRequests"]);return a!=null&&y(n,["requests"],ID(t,a)),n}function kD(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function DD(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const s=m(t,["args"]);s!=null&&y(e,["args"],s);const a=m(t,["name"]);if(a!=null&&y(e,["name"],a),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PD(t){const e={},n=m(t,["mode"]);n!=null&&y(e,["mode"],n);const s=m(t,["allowedFunctionNames"]);if(s!=null&&y(e,["allowedFunctionNames"],s),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function OD(t,e,n){const s={},a=m(e,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],pT(ai(a)));const l=m(e,["temperature"]);l!=null&&y(s,["temperature"],l);const u=m(e,["topP"]);u!=null&&y(s,["topP"],u);const d=m(e,["topK"]);d!=null&&y(s,["topK"],d);const p=m(e,["candidateCount"]);p!=null&&y(s,["candidateCount"],p);const h=m(e,["maxOutputTokens"]);h!=null&&y(s,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&y(s,["stopSequences"],g);const b=m(e,["responseLogprobs"]);b!=null&&y(s,["responseLogprobs"],b);const T=m(e,["logprobs"]);T!=null&&y(s,["logprobs"],T);const S=m(e,["presencePenalty"]);S!=null&&y(s,["presencePenalty"],S);const j=m(e,["frequencyPenalty"]);j!=null&&y(s,["frequencyPenalty"],j);const N=m(e,["seed"]);N!=null&&y(s,["seed"],N);const P=m(e,["responseMimeType"]);P!=null&&y(s,["responseMimeType"],P);const V=m(e,["responseSchema"]);V!=null&&y(s,["responseSchema"],L0(V));const D=m(e,["responseJsonSchema"]);if(D!=null&&y(s,["responseJsonSchema"],D),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=m(e,["safetySettings"]);if(n!==void 0&&k!=null){let ce=k;Array.isArray(ce)&&(ce=ce.map(ee=>QD(ee))),y(n,["safetySettings"],ce)}const G=m(e,["tools"]);if(n!==void 0&&G!=null){let ce=Cl(G);Array.isArray(ce)&&(ce=ce.map(ee=>eP(Nl(ee)))),y(n,["tools"],ce)}const J=m(e,["toolConfig"]);if(n!==void 0&&J!=null&&y(n,["toolConfig"],ZD(J)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=m(e,["cachedContent"]);n!==void 0&&K!=null&&y(n,["cachedContent"],xr(t,K));const te=m(e,["responseModalities"]);te!=null&&y(s,["responseModalities"],te);const re=m(e,["mediaResolution"]);re!=null&&y(s,["mediaResolution"],re);const B=m(e,["speechConfig"]);if(B!=null&&y(s,["speechConfig"],U0(B)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=m(e,["thinkingConfig"]);oe!=null&&y(s,["thinkingConfig"],oe);const $=m(e,["imageConfig"]);return $!=null&&y(s,["imageConfig"],HD($)),s}function LD(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>vD(h))),y(e,["candidates"],p)}const a=m(t,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const l=m(t,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const u=m(t,["responseId"]);u!=null&&y(e,["responseId"],u);const d=m(t,["usageMetadata"]);return d!=null&&y(e,["usageMetadata"],d),e}function UD(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],Al(t,s)),n}function VD(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],Al(t,s)),n}function zD(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function FD(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function HD(t){const e={},n=m(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const s=m(t,["imageSize"]);if(s!=null&&y(e,["imageSize"],s),m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function BD(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["request","model"],qt(t,s));const a=m(e,["contents"]);if(a!=null){let d=es(a);Array.isArray(d)&&(d=d.map(p=>pT(p))),y(n,["request","contents"],d)}const l=m(e,["metadata"]);l!=null&&y(n,["metadata"],l);const u=m(e,["config"]);return u!=null&&y(n,["request","generationConfig"],OD(t,u,m(n,["request"],{}))),n}function GD(t){const e={},n=m(t,["response"]);n!=null&&y(e,["response"],LD(n));const s=m(t,["error"]);return s!=null&&y(e,["error"],s),e}function qD(t,e){const n={},s=m(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=m(t,["pageToken"]);if(e!==void 0&&a!=null&&y(e,["_query","pageToken"],a),m(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function $D(t,e){const n={},s=m(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=m(t,["pageToken"]);e!==void 0&&a!=null&&y(e,["_query","pageToken"],a);const l=m(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),n}function YD(t){const e={},n=m(t,["config"]);return n!=null&&qD(n,e),e}function WD(t){const e={},n=m(t,["config"]);return n!=null&&$D(n,e),e}function KD(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["nextPageToken"]);s!=null&&y(e,["nextPageToken"],s);const a=m(t,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>Dd(u))),y(e,["batchJobs"],l)}return e}function JD(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["nextPageToken"]);s!=null&&y(e,["nextPageToken"],s);const a=m(t,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>km(u))),y(e,["batchJobs"],l)}return e}function XD(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const s=m(t,["codeExecutionResult"]);s!=null&&y(e,["codeExecutionResult"],s);const a=m(t,["executableCode"]);a!=null&&y(e,["executableCode"],a);const l=m(t,["fileData"]);l!=null&&y(e,["fileData"],kD(l));const u=m(t,["functionCall"]);u!=null&&y(e,["functionCall"],DD(u));const d=m(t,["functionResponse"]);d!=null&&y(e,["functionResponse"],d);const p=m(t,["inlineData"]);p!=null&&y(e,["inlineData"],gD(p));const h=m(t,["text"]);h!=null&&y(e,["text"],h);const g=m(t,["thought"]);g!=null&&y(e,["thought"],g);const b=m(t,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const T=m(t,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function QD(t){const e={},n=m(t,["category"]);if(n!=null&&y(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=m(t,["threshold"]);return s!=null&&y(e,["threshold"],s),e}function ZD(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],PD(n));const s=m(t,["retrievalConfig"]);return s!=null&&y(e,["retrievalConfig"],s),e}function eP(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=m(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=m(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=m(t,["fileSearch"]);l!=null&&y(e,["fileSearch"],l);const u=m(t,["codeExecution"]);if(u!=null&&y(e,["codeExecution"],u),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=m(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],zD(d));const p=m(t,["googleSearch"]);p!=null&&y(e,["googleSearch"],FD(p));const h=m(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(gr||(gr={}));class eo{constructor(e,n,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,a)}init(e,n,s){var a,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!s||Object.keys(s).length===0?u={config:{}}:typeof s=="object"?u=Object.assign({},s):u=s,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(a=u.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tP extends yr{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new eo(gr.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=yw(this.apiClient,e),s=n._url,a=ze("{model}:batchGenerateContent",s),d=n.batch.inputConfig.requests,p=d.requests,h=[];for(const g of p){const b=Object.assign({},g);if(b.systemInstruction){const T=b.systemInstruction;delete b.systemInstruction;const S=b.request;S.systemInstruction=T,b.request=S}h.push(b)}return d.requests=h,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const s=n?Object.assign({},n):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${a}`;else if(u)s.dest=`${u}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=TD(this.apiClient,e);return d=ze("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>km(g))}else{const h=yw(this.apiClient,e);return d=ze("{model}:batchGenerateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Dd(g))}}async createEmbeddingsInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=SD(this.apiClient,e);return l=ze("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>Dd(p))}}async get(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=VD(this.apiClient,e);return d=ze("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>km(g))}else{const h=UD(this.apiClient,e);return d=ze("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Dd(g))}}async cancel(e){var n,s,a,l;let u="",d={};if(this.apiClient.isVertexAI()){const p=xD(this.apiClient,e);u=ze("batchPredictionJobs/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const p=yD(this.apiClient,e);u=ze("batches/{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=WD(e);return d=ze("batchPredictionJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=JD(g),T=new hw;return Object.assign(T,b),T})}else{const h=YD(e);return d=ze("batches",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=KD(g),T=new hw;return Object.assign(T,b),T})}}async delete(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=CD(this.apiClient,e);return d=ze("batchPredictionJobs/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>RD(g))}else{const h=ND(this.apiClient,e);return d=ze("batches/{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>AD(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nP(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function xw(t){const e={},n=m(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>SP(l))),y(e,["parts"],a)}const s=m(t,["role"]);return s!=null&&y(e,["role"],s),e}function iP(t,e){const n={},s=m(t,["ttl"]);e!==void 0&&s!=null&&y(e,["ttl"],s);const a=m(t,["expireTime"]);e!==void 0&&a!=null&&y(e,["expireTime"],a);const l=m(t,["displayName"]);e!==void 0&&l!=null&&y(e,["displayName"],l);const u=m(t,["contents"]);if(e!==void 0&&u!=null){let g=es(u);Array.isArray(g)&&(g=g.map(b=>xw(b))),y(e,["contents"],g)}const d=m(t,["systemInstruction"]);e!==void 0&&d!=null&&y(e,["systemInstruction"],xw(ai(d)));const p=m(t,["tools"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>CP(b))),y(e,["tools"],g)}const h=m(t,["toolConfig"]);if(e!==void 0&&h!=null&&y(e,["toolConfig"],NP(h)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function sP(t,e){const n={},s=m(t,["ttl"]);e!==void 0&&s!=null&&y(e,["ttl"],s);const a=m(t,["expireTime"]);e!==void 0&&a!=null&&y(e,["expireTime"],a);const l=m(t,["displayName"]);e!==void 0&&l!=null&&y(e,["displayName"],l);const u=m(t,["contents"]);if(e!==void 0&&u!=null){let b=es(u);Array.isArray(b)&&(b=b.map(T=>T)),y(e,["contents"],b)}const d=m(t,["systemInstruction"]);e!==void 0&&d!=null&&y(e,["systemInstruction"],ai(d));const p=m(t,["tools"]);if(e!==void 0&&p!=null){let b=p;Array.isArray(b)&&(b=b.map(T=>AP(T))),y(e,["tools"],b)}const h=m(t,["toolConfig"]);e!==void 0&&h!=null&&y(e,["toolConfig"],h);const g=m(t,["kmsKeyName"]);return e!==void 0&&g!=null&&y(e,["encryption_spec","kmsKeyName"],g),n}function rP(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["model"],nT(t,s));const a=m(e,["config"]);return a!=null&&iP(a,n),n}function aP(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["model"],nT(t,s));const a=m(e,["config"]);return a!=null&&sP(a,n),n}function oP(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],xr(t,s)),n}function lP(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],xr(t,s)),n}function cP(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function uP(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function dP(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function fP(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const s=m(t,["args"]);s!=null&&y(e,["args"],s);const a=m(t,["name"]);if(a!=null&&y(e,["name"],a),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hP(t){const e={},n=m(t,["mode"]);n!=null&&y(e,["mode"],n);const s=m(t,["allowedFunctionNames"]);if(s!=null&&y(e,["allowedFunctionNames"],s),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pP(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&y(e,["description"],n);const s=m(t,["name"]);s!=null&&y(e,["name"],s);const a=m(t,["parameters"]);a!=null&&y(e,["parameters"],a);const l=m(t,["parametersJsonSchema"]);l!=null&&y(e,["parametersJsonSchema"],l);const u=m(t,["response"]);u!=null&&y(e,["response"],u);const d=m(t,["responseJsonSchema"]);return d!=null&&y(e,["responseJsonSchema"],d),e}function mP(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],xr(t,s)),n}function gP(t,e){const n={},s=m(e,["name"]);return s!=null&&y(n,["_url","name"],xr(t,s)),n}function yP(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function xP(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function vP(t,e){const n={},s=m(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=m(t,["pageToken"]);return e!==void 0&&a!=null&&y(e,["_query","pageToken"],a),n}function bP(t,e){const n={},s=m(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=m(t,["pageToken"]);return e!==void 0&&a!=null&&y(e,["_query","pageToken"],a),n}function wP(t){const e={},n=m(t,["config"]);return n!=null&&vP(n,e),e}function _P(t){const e={},n=m(t,["config"]);return n!=null&&bP(n,e),e}function TP(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["nextPageToken"]);s!=null&&y(e,["nextPageToken"],s);const a=m(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),y(e,["cachedContents"],l)}return e}function EP(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["nextPageToken"]);s!=null&&y(e,["nextPageToken"],s);const a=m(t,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),y(e,["cachedContents"],l)}return e}function SP(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const s=m(t,["codeExecutionResult"]);s!=null&&y(e,["codeExecutionResult"],s);const a=m(t,["executableCode"]);a!=null&&y(e,["executableCode"],a);const l=m(t,["fileData"]);l!=null&&y(e,["fileData"],dP(l));const u=m(t,["functionCall"]);u!=null&&y(e,["functionCall"],fP(u));const d=m(t,["functionResponse"]);d!=null&&y(e,["functionResponse"],d);const p=m(t,["inlineData"]);p!=null&&y(e,["inlineData"],nP(p));const h=m(t,["text"]);h!=null&&y(e,["text"],h);const g=m(t,["thought"]);g!=null&&y(e,["thought"],g);const b=m(t,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const T=m(t,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function NP(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],hP(n));const s=m(t,["retrievalConfig"]);return s!=null&&y(e,["retrievalConfig"],s),e}function CP(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=m(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=m(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=m(t,["fileSearch"]);l!=null&&y(e,["fileSearch"],l);const u=m(t,["codeExecution"]);if(u!=null&&y(e,["codeExecution"],u),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=m(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],yP(d));const p=m(t,["googleSearch"]);p!=null&&y(e,["googleSearch"],xP(p));const h=m(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function AP(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let b=n;Array.isArray(b)&&(b=b.map(T=>pP(T))),y(e,["functionDeclarations"],b)}const s=m(t,["retrieval"]);s!=null&&y(e,["retrieval"],s);const a=m(t,["googleSearchRetrieval"]);a!=null&&y(e,["googleSearchRetrieval"],a);const l=m(t,["computerUse"]);if(l!=null&&y(e,["computerUse"],l),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=m(t,["codeExecution"]);u!=null&&y(e,["codeExecution"],u);const d=m(t,["enterpriseWebSearch"]);d!=null&&y(e,["enterpriseWebSearch"],d);const p=m(t,["googleMaps"]);p!=null&&y(e,["googleMaps"],p);const h=m(t,["googleSearch"]);h!=null&&y(e,["googleSearch"],h);const g=m(t,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function RP(t,e){const n={},s=m(t,["ttl"]);e!==void 0&&s!=null&&y(e,["ttl"],s);const a=m(t,["expireTime"]);return e!==void 0&&a!=null&&y(e,["expireTime"],a),n}function IP(t,e){const n={},s=m(t,["ttl"]);e!==void 0&&s!=null&&y(e,["ttl"],s);const a=m(t,["expireTime"]);return e!==void 0&&a!=null&&y(e,["expireTime"],a),n}function jP(t,e){const n={},s=m(e,["name"]);s!=null&&y(n,["_url","name"],xr(t,s));const a=m(e,["config"]);return a!=null&&RP(a,n),n}function MP(t,e){const n={},s=m(e,["name"]);s!=null&&y(n,["_url","name"],xr(t,s));const a=m(e,["config"]);return a!=null&&IP(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kP extends yr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eo(gr.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=aP(this.apiClient,e);return d=ze("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=rP(this.apiClient,e);return d=ze("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=gP(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=mP(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=lP(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=uP(g),T=new dw;return Object.assign(T,b),T})}else{const h=oP(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=cP(g),T=new dw;return Object.assign(T,b),T})}}async update(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=MP(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=jP(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=_P(e);return d=ze("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=EP(g),T=new fw;return Object.assign(T,b),T})}else{const h=wP(e);return d=ze("cachedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=TP(g),T=new fw;return Object.assign(T,b),T})}}}function vw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fn(t){return this instanceof fn?(this.v=t,this):new fn(t)}function vl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(S){return function(j){return Promise.resolve(j).then(S,b)}}function d(S,j){s[S]&&(a[S]=function(N){return new Promise(function(P,V){l.push([S,N,P,V])>1||p(S,N)})},j&&(a[S]=j(a[S])))}function p(S,j){try{h(s[S](j))}catch(N){T(l[0][3],N)}}function h(S){S.value instanceof fn?Promise.resolve(S.value.v).then(g,b):T(l[0][2],S)}function g(S){p("next",S)}function b(S){p("throw",S)}function T(S,j){S(j),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Hc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vw=="function"?vw(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=t[l]&&function(u){return new Promise(function(d,p){u=t[l](u),a(d,p,u.done,u.value)})}}function a(l,u,d,p){Promise.resolve(p).then(function(h){l({value:h,done:d})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DP(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:mT(n)}function mT(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function PP(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function bw(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let s=0;for(;s<n;)if(t[s].role==="user")e.push(t[s]),s++;else{const a=[];let l=!0;for(;s<n&&t[s].role==="model";)a.push(t[s]),l&&!mT(t[s])&&(l=!1),s++;l?e.push(...a):e.pop()}return e}class OP{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new LP(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class LP{constructor(e,n,s,a={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),PP(l)}async sendMessage(e){var n;await this.sendPromise;const s=ai(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,d;const p=await a,h=(u=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,g=p.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let T=[];g!=null&&(T=(d=g.slice(b))!==null&&d!==void 0?d:[]);const S=h?[h]:[];this.recordHistory(s,S,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const s=ai(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,s)}getHistory(e=!1){const n=e?bw(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var s,a;return vl(this,arguments,function*(){var u,d,p,h;const g=[];try{for(var b=!0,T=Hc(e),S;S=yield fn(T.next()),u=S.done,!u;b=!0){h=S.value,b=!1;const j=h;if(DP(j)){const N=(a=(s=j.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content;N!==void 0&&g.push(N)}yield yield fn(j)}}catch(j){d={error:j}}finally{try{!b&&!u&&(p=T.return)&&(yield fn(p.call(T)))}finally{if(d)throw d.error}}this.recordHistory(n,g)})}recordHistory(e,n,s){let a=[];n.length>0&&n.every(l=>l.role!==void 0)?a=n:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...bw(s)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,cf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UP(t){const e={},n=m(t,["file"]);return n!=null&&y(e,["file"],n),e}function VP(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function zP(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","file"],lT(n)),e}function FP(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function HP(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","file"],lT(n)),e}function BP(t,e){const n={},s=m(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=m(t,["pageToken"]);return e!==void 0&&a!=null&&y(e,["_query","pageToken"],a),n}function GP(t){const e={},n=m(t,["config"]);return n!=null&&BP(n,e),e}function qP(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["nextPageToken"]);s!=null&&y(e,["nextPageToken"],s);const a=m(t,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),y(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $P extends yr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new eo(gr.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=GP(e);return l=ze("files",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),a.then(p=>{const h=qP(p),g=new Jk;return Object.assign(g,h),g})}}async createInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=UP(e);return l=ze("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>{const h=VP(p),g=new Xk;return Object.assign(g,h),g})}}async get(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=HP(e);return l=ze("files/{file}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async delete(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=zP(e);return l=ze("files/{file}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),a.then(p=>{const h=FP(p),g=new Qk;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pd(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function YP(t){const e={},n=m(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>c6(l))),y(e,["parts"],a)}const s=m(t,["role"]);return s!=null&&y(e,["role"],s),e}function WP(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function KP(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const s=m(t,["args"]);s!=null&&y(e,["args"],s);const a=m(t,["name"]);if(a!=null&&y(e,["name"],a),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JP(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&y(e,["description"],n);const s=m(t,["name"]);s!=null&&y(e,["name"],s);const a=m(t,["parameters"]);a!=null&&y(e,["parameters"],a);const l=m(t,["parametersJsonSchema"]);l!=null&&y(e,["parametersJsonSchema"],l);const u=m(t,["response"]);u!=null&&y(e,["response"],u);const d=m(t,["responseJsonSchema"]);return d!=null&&y(e,["responseJsonSchema"],d),e}function XP(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const s=m(t,["responseJsonSchema"]);s!=null&&y(e,["responseJsonSchema"],s);const a=m(t,["audioTimestamp"]);a!=null&&y(e,["audioTimestamp"],a);const l=m(t,["candidateCount"]);l!=null&&y(e,["candidateCount"],l);const u=m(t,["enableAffectiveDialog"]);u!=null&&y(e,["enableAffectiveDialog"],u);const d=m(t,["frequencyPenalty"]);d!=null&&y(e,["frequencyPenalty"],d);const p=m(t,["logprobs"]);p!=null&&y(e,["logprobs"],p);const h=m(t,["maxOutputTokens"]);h!=null&&y(e,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&y(e,["mediaResolution"],g);const b=m(t,["presencePenalty"]);b!=null&&y(e,["presencePenalty"],b);const T=m(t,["responseLogprobs"]);T!=null&&y(e,["responseLogprobs"],T);const S=m(t,["responseMimeType"]);S!=null&&y(e,["responseMimeType"],S);const j=m(t,["responseModalities"]);j!=null&&y(e,["responseModalities"],j);const N=m(t,["responseSchema"]);N!=null&&y(e,["responseSchema"],N);const P=m(t,["routingConfig"]);P!=null&&y(e,["routingConfig"],P);const V=m(t,["seed"]);V!=null&&y(e,["seed"],V);const D=m(t,["speechConfig"]);D!=null&&y(e,["speechConfig"],gT(D));const k=m(t,["stopSequences"]);k!=null&&y(e,["stopSequences"],k);const G=m(t,["temperature"]);G!=null&&y(e,["temperature"],G);const J=m(t,["thinkingConfig"]);J!=null&&y(e,["thinkingConfig"],J);const K=m(t,["topK"]);K!=null&&y(e,["topK"],K);const te=m(t,["topP"]);if(te!=null&&y(e,["topP"],te),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function QP(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function ZP(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function e6(t,e){const n={},s=m(t,["generationConfig"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig"],s);const a=m(t,["responseModalities"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","responseModalities"],a);const l=m(t,["temperature"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","temperature"],l);const u=m(t,["topP"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topP"],u);const d=m(t,["topK"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","topK"],d);const p=m(t,["maxOutputTokens"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","maxOutputTokens"],p);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","mediaResolution"],h);const g=m(t,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const b=m(t,["speechConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","speechConfig"],V0(b));const T=m(t,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const S=m(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],S);const j=m(t,["systemInstruction"]);e!==void 0&&j!=null&&y(e,["setup","systemInstruction"],YP(ai(j)));const N=m(t,["tools"]);if(e!==void 0&&N!=null){let K=Cl(N);Array.isArray(K)&&(K=K.map(te=>d6(Nl(te)))),y(e,["setup","tools"],K)}const P=m(t,["sessionResumption"]);e!==void 0&&P!=null&&y(e,["setup","sessionResumption"],u6(P));const V=m(t,["inputAudioTranscription"]);e!==void 0&&V!=null&&y(e,["setup","inputAudioTranscription"],V);const D=m(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&y(e,["setup","outputAudioTranscription"],D);const k=m(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&y(e,["setup","realtimeInputConfig"],k);const G=m(t,["contextWindowCompression"]);e!==void 0&&G!=null&&y(e,["setup","contextWindowCompression"],G);const J=m(t,["proactivity"]);return e!==void 0&&J!=null&&y(e,["setup","proactivity"],J),n}function t6(t,e){const n={},s=m(t,["generationConfig"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig"],XP(s));const a=m(t,["responseModalities"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","responseModalities"],a);const l=m(t,["temperature"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","temperature"],l);const u=m(t,["topP"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topP"],u);const d=m(t,["topK"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","topK"],d);const p=m(t,["maxOutputTokens"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","maxOutputTokens"],p);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","mediaResolution"],h);const g=m(t,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const b=m(t,["speechConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","speechConfig"],gT(V0(b)));const T=m(t,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const S=m(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],S);const j=m(t,["systemInstruction"]);e!==void 0&&j!=null&&y(e,["setup","systemInstruction"],ai(j));const N=m(t,["tools"]);if(e!==void 0&&N!=null){let K=Cl(N);Array.isArray(K)&&(K=K.map(te=>f6(Nl(te)))),y(e,["setup","tools"],K)}const P=m(t,["sessionResumption"]);e!==void 0&&P!=null&&y(e,["setup","sessionResumption"],P);const V=m(t,["inputAudioTranscription"]);e!==void 0&&V!=null&&y(e,["setup","inputAudioTranscription"],V);const D=m(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&y(e,["setup","outputAudioTranscription"],D);const k=m(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&y(e,["setup","realtimeInputConfig"],k);const G=m(t,["contextWindowCompression"]);e!==void 0&&G!=null&&y(e,["setup","contextWindowCompression"],G);const J=m(t,["proactivity"]);return e!==void 0&&J!=null&&y(e,["setup","proactivity"],J),n}function n6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["setup","model"],qt(t,s));const a=m(e,["config"]);return a!=null&&y(n,["config"],e6(a,n)),n}function i6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["setup","model"],qt(t,s));const a=m(e,["config"]);return a!=null&&y(n,["config"],t6(a,n)),n}function s6(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function r6(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),y(e,["weightedPrompts"],s)}return e}function a6(t){const e={},n=m(t,["media"]);if(n!=null){let h=iT(n);Array.isArray(h)&&(h=h.map(g=>Pd(g))),y(e,["mediaChunks"],h)}const s=m(t,["audio"]);s!=null&&y(e,["audio"],Pd(rT(s)));const a=m(t,["audioStreamEnd"]);a!=null&&y(e,["audioStreamEnd"],a);const l=m(t,["video"]);l!=null&&y(e,["video"],Pd(sT(l)));const u=m(t,["text"]);u!=null&&y(e,["text"],u);const d=m(t,["activityStart"]);d!=null&&y(e,["activityStart"],d);const p=m(t,["activityEnd"]);return p!=null&&y(e,["activityEnd"],p),e}function o6(t){const e={},n=m(t,["media"]);if(n!=null){let h=iT(n);Array.isArray(h)&&(h=h.map(g=>g)),y(e,["mediaChunks"],h)}const s=m(t,["audio"]);s!=null&&y(e,["audio"],rT(s));const a=m(t,["audioStreamEnd"]);a!=null&&y(e,["audioStreamEnd"],a);const l=m(t,["video"]);l!=null&&y(e,["video"],sT(l));const u=m(t,["text"]);u!=null&&y(e,["text"],u);const d=m(t,["activityStart"]);d!=null&&y(e,["activityStart"],d);const p=m(t,["activityEnd"]);return p!=null&&y(e,["activityEnd"],p),e}function l6(t){const e={},n=m(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const s=m(t,["serverContent"]);s!=null&&y(e,["serverContent"],s);const a=m(t,["toolCall"]);a!=null&&y(e,["toolCall"],a);const l=m(t,["toolCallCancellation"]);l!=null&&y(e,["toolCallCancellation"],l);const u=m(t,["usageMetadata"]);u!=null&&y(e,["usageMetadata"],h6(u));const d=m(t,["goAway"]);d!=null&&y(e,["goAway"],d);const p=m(t,["sessionResumptionUpdate"]);return p!=null&&y(e,["sessionResumptionUpdate"],p),e}function c6(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const s=m(t,["codeExecutionResult"]);s!=null&&y(e,["codeExecutionResult"],s);const a=m(t,["executableCode"]);a!=null&&y(e,["executableCode"],a);const l=m(t,["fileData"]);l!=null&&y(e,["fileData"],WP(l));const u=m(t,["functionCall"]);u!=null&&y(e,["functionCall"],KP(u));const d=m(t,["functionResponse"]);d!=null&&y(e,["functionResponse"],d);const p=m(t,["inlineData"]);p!=null&&y(e,["inlineData"],Pd(p));const h=m(t,["text"]);h!=null&&y(e,["text"],h);const g=m(t,["thought"]);g!=null&&y(e,["thought"],g);const b=m(t,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const T=m(t,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function u6(t){const e={},n=m(t,["handle"]);if(n!=null&&y(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gT(t){const e={},n=m(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const s=m(t,["voiceConfig"]);if(s!=null&&y(e,["voiceConfig"],s),m(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function d6(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=m(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=m(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=m(t,["fileSearch"]);l!=null&&y(e,["fileSearch"],l);const u=m(t,["codeExecution"]);if(u!=null&&y(e,["codeExecution"],u),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=m(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],QP(d));const p=m(t,["googleSearch"]);p!=null&&y(e,["googleSearch"],ZP(p));const h=m(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function f6(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let b=n;Array.isArray(b)&&(b=b.map(T=>JP(T))),y(e,["functionDeclarations"],b)}const s=m(t,["retrieval"]);s!=null&&y(e,["retrieval"],s);const a=m(t,["googleSearchRetrieval"]);a!=null&&y(e,["googleSearchRetrieval"],a);const l=m(t,["computerUse"]);if(l!=null&&y(e,["computerUse"],l),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=m(t,["codeExecution"]);u!=null&&y(e,["codeExecution"],u);const d=m(t,["enterpriseWebSearch"]);d!=null&&y(e,["enterpriseWebSearch"],d);const p=m(t,["googleMaps"]);p!=null&&y(e,["googleMaps"],p);const h=m(t,["googleSearch"]);h!=null&&y(e,["googleSearch"],h);const g=m(t,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function h6(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const s=m(t,["cachedContentTokenCount"]);s!=null&&y(e,["cachedContentTokenCount"],s);const a=m(t,["candidatesTokenCount"]);a!=null&&y(e,["responseTokenCount"],a);const l=m(t,["toolUsePromptTokenCount"]);l!=null&&y(e,["toolUsePromptTokenCount"],l);const u=m(t,["thoughtsTokenCount"]);u!=null&&y(e,["thoughtsTokenCount"],u);const d=m(t,["totalTokenCount"]);d!=null&&y(e,["totalTokenCount"],d);const p=m(t,["promptTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(j=>j)),y(e,["promptTokensDetails"],S)}const h=m(t,["cacheTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(j=>j)),y(e,["cacheTokensDetails"],S)}const g=m(t,["candidatesTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(j=>j)),y(e,["responseTokensDetails"],S)}const b=m(t,["toolUsePromptTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(j=>j)),y(e,["toolUsePromptTokensDetails"],S)}const T=m(t,["trafficType"]);return T!=null&&y(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p6(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function m6(t){const e={},n=m(t,["content"]);n!=null&&y(e,["content"],n);const s=m(t,["citationMetadata"]);s!=null&&y(e,["citationMetadata"],g6(s));const a=m(t,["tokenCount"]);a!=null&&y(e,["tokenCount"],a);const l=m(t,["finishReason"]);l!=null&&y(e,["finishReason"],l);const u=m(t,["avgLogprobs"]);u!=null&&y(e,["avgLogprobs"],u);const d=m(t,["groundingMetadata"]);d!=null&&y(e,["groundingMetadata"],d);const p=m(t,["index"]);p!=null&&y(e,["index"],p);const h=m(t,["logprobsResult"]);h!=null&&y(e,["logprobsResult"],h);const g=m(t,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(S=>S)),y(e,["safetyRatings"],T)}const b=m(t,["urlContextMetadata"]);return b!=null&&y(e,["urlContextMetadata"],b),e}function g6(t){const e={},n=m(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),y(e,["citations"],s)}return e}function y6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["contents"]);if(a!=null){let l=es(a);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}return n}function x6(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["tokensInfo"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["tokensInfo"],a)}return e}function v6(t){const e={},n=m(t,["values"]);n!=null&&y(e,["values"],n);const s=m(t,["statistics"]);return s!=null&&y(e,["statistics"],b6(s)),e}function b6(t){const e={},n=m(t,["truncated"]);n!=null&&y(e,["truncated"],n);const s=m(t,["token_count"]);return s!=null&&y(e,["tokenCount"],s),e}function uf(t){const e={},n=m(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>RO(l))),y(e,["parts"],a)}const s=m(t,["role"]);return s!=null&&y(e,["role"],s),e}function w6(t){const e={},n=m(t,["controlType"]);n!=null&&y(e,["controlType"],n);const s=m(t,["enableControlImageComputation"]);return s!=null&&y(e,["computeControl"],s),e}function _6(t){const e={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function T6(t,e){const n={},s=m(t,["systemInstruction"]);e!==void 0&&s!=null&&y(e,["systemInstruction"],ai(s));const a=m(t,["tools"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>wT(d))),y(e,["tools"],u)}const l=m(t,["generationConfig"]);return e!==void 0&&l!=null&&y(e,["generationConfig"],pO(l)),n}function E6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["contents"]);if(a!=null){let u=es(a);Array.isArray(u)&&(u=u.map(d=>uf(d))),y(n,["contents"],u)}const l=m(e,["config"]);return l!=null&&_6(l),n}function S6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["contents"]);if(a!=null){let u=es(a);Array.isArray(u)&&(u=u.map(d=>d)),y(n,["contents"],u)}const l=m(e,["config"]);return l!=null&&T6(l,n),n}function N6(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["totalTokens"]);s!=null&&y(e,["totalTokens"],s);const a=m(t,["cachedContentTokenCount"]);return a!=null&&y(e,["cachedContentTokenCount"],a),e}function C6(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["totalTokens"]);return s!=null&&y(e,["totalTokens"],s),e}function A6(t,e){const n={},s=m(e,["model"]);return s!=null&&y(n,["_url","name"],qt(t,s)),n}function R6(t,e){const n={},s=m(e,["model"]);return s!=null&&y(n,["_url","name"],qt(t,s)),n}function I6(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function j6(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function M6(t,e){const n={},s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&y(e,["parameters","storageUri"],s);const a=m(t,["negativePrompt"]);e!==void 0&&a!=null&&y(e,["parameters","negativePrompt"],a);const l=m(t,["numberOfImages"]);e!==void 0&&l!=null&&y(e,["parameters","sampleCount"],l);const u=m(t,["aspectRatio"]);e!==void 0&&u!=null&&y(e,["parameters","aspectRatio"],u);const d=m(t,["guidanceScale"]);e!==void 0&&d!=null&&y(e,["parameters","guidanceScale"],d);const p=m(t,["seed"]);e!==void 0&&p!=null&&y(e,["parameters","seed"],p);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&y(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const b=m(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&y(e,["parameters","includeSafetyAttributes"],b);const T=m(t,["includeRaiReason"]);e!==void 0&&T!=null&&y(e,["parameters","includeRaiReason"],T);const S=m(t,["language"]);e!==void 0&&S!=null&&y(e,["parameters","language"],S);const j=m(t,["outputMimeType"]);e!==void 0&&j!=null&&y(e,["parameters","outputOptions","mimeType"],j);const N=m(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&y(e,["parameters","outputOptions","compressionQuality"],N);const P=m(t,["addWatermark"]);e!==void 0&&P!=null&&y(e,["parameters","addWatermark"],P);const V=m(t,["labels"]);e!==void 0&&V!=null&&y(e,["labels"],V);const D=m(t,["editMode"]);e!==void 0&&D!=null&&y(e,["parameters","editMode"],D);const k=m(t,["baseSteps"]);return e!==void 0&&k!=null&&y(e,["parameters","editConfig","baseSteps"],k),n}function k6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=m(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>PO(p))),y(n,["instances[0]","referenceImages"],d)}const u=m(e,["config"]);return u!=null&&M6(u,n),n}function D6(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>df(l))),y(e,["generatedImages"],a)}return e}function P6(t,e){const n={},s=m(t,["taskType"]);e!==void 0&&s!=null&&y(e,["requests[]","taskType"],s);const a=m(t,["title"]);e!==void 0&&a!=null&&y(e,["requests[]","title"],a);const l=m(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&y(e,["requests[]","outputDimensionality"],l),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function O6(t,e){const n={},s=m(t,["taskType"]);e!==void 0&&s!=null&&y(e,["instances[]","task_type"],s);const a=m(t,["title"]);e!==void 0&&a!=null&&y(e,["instances[]","title"],a);const l=m(t,["outputDimensionality"]);e!==void 0&&l!=null&&y(e,["parameters","outputDimensionality"],l);const u=m(t,["mimeType"]);e!==void 0&&u!=null&&y(e,["instances[]","mimeType"],u);const d=m(t,["autoTruncate"]);return e!==void 0&&d!=null&&y(e,["parameters","autoTruncate"],d),n}function L6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["contents"]);if(a!=null){let d=O0(t,a);Array.isArray(d)&&(d=d.map(p=>p)),y(n,["requests[]","content"],d)}const l=m(e,["config"]);l!=null&&P6(l,n);const u=m(e,["model"]);return u!==void 0&&y(n,["requests[]","model"],qt(t,u)),n}function U6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["contents"]);if(a!=null){let u=O0(t,a);Array.isArray(u)&&(u=u.map(d=>d)),y(n,["instances[]","content"],u)}const l=m(e,["config"]);return l!=null&&O6(l,n),n}function V6(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),y(e,["embeddings"],l)}const a=m(t,["metadata"]);return a!=null&&y(e,["metadata"],a),e}function z6(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>v6(u))),y(e,["embeddings"],l)}const a=m(t,["metadata"]);return a!=null&&y(e,["metadata"],a),e}function F6(t){const e={},n=m(t,["endpoint"]);n!=null&&y(e,["name"],n);const s=m(t,["deployedModelId"]);return s!=null&&y(e,["deployedModelId"],s),e}function H6(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function B6(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const s=m(t,["args"]);s!=null&&y(e,["args"],s);const a=m(t,["name"]);if(a!=null&&y(e,["name"],a),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function G6(t){const e={},n=m(t,["mode"]);n!=null&&y(e,["mode"],n);const s=m(t,["allowedFunctionNames"]);if(s!=null&&y(e,["allowedFunctionNames"],s),m(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function q6(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&y(e,["description"],n);const s=m(t,["name"]);s!=null&&y(e,["name"],s);const a=m(t,["parameters"]);a!=null&&y(e,["parameters"],a);const l=m(t,["parametersJsonSchema"]);l!=null&&y(e,["parametersJsonSchema"],l);const u=m(t,["response"]);u!=null&&y(e,["response"],u);const d=m(t,["responseJsonSchema"]);return d!=null&&y(e,["responseJsonSchema"],d),e}function $6(t,e,n){const s={},a=m(e,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],uf(ai(a)));const l=m(e,["temperature"]);l!=null&&y(s,["temperature"],l);const u=m(e,["topP"]);u!=null&&y(s,["topP"],u);const d=m(e,["topK"]);d!=null&&y(s,["topK"],d);const p=m(e,["candidateCount"]);p!=null&&y(s,["candidateCount"],p);const h=m(e,["maxOutputTokens"]);h!=null&&y(s,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&y(s,["stopSequences"],g);const b=m(e,["responseLogprobs"]);b!=null&&y(s,["responseLogprobs"],b);const T=m(e,["logprobs"]);T!=null&&y(s,["logprobs"],T);const S=m(e,["presencePenalty"]);S!=null&&y(s,["presencePenalty"],S);const j=m(e,["frequencyPenalty"]);j!=null&&y(s,["frequencyPenalty"],j);const N=m(e,["seed"]);N!=null&&y(s,["seed"],N);const P=m(e,["responseMimeType"]);P!=null&&y(s,["responseMimeType"],P);const V=m(e,["responseSchema"]);V!=null&&y(s,["responseSchema"],L0(V));const D=m(e,["responseJsonSchema"]);if(D!=null&&y(s,["responseJsonSchema"],D),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=m(e,["safetySettings"]);if(n!==void 0&&k!=null){let ce=k;Array.isArray(ce)&&(ce=ce.map(ee=>OO(ee))),y(n,["safetySettings"],ce)}const G=m(e,["tools"]);if(n!==void 0&&G!=null){let ce=Cl(G);Array.isArray(ce)&&(ce=ce.map(ee=>BO(Nl(ee)))),y(n,["tools"],ce)}const J=m(e,["toolConfig"]);if(n!==void 0&&J!=null&&y(n,["toolConfig"],HO(J)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=m(e,["cachedContent"]);n!==void 0&&K!=null&&y(n,["cachedContent"],xr(t,K));const te=m(e,["responseModalities"]);te!=null&&y(s,["responseModalities"],te);const re=m(e,["mediaResolution"]);re!=null&&y(s,["mediaResolution"],re);const B=m(e,["speechConfig"]);if(B!=null&&y(s,["speechConfig"],U0(B)),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const oe=m(e,["thinkingConfig"]);oe!=null&&y(s,["thinkingConfig"],oe);const $=m(e,["imageConfig"]);return $!=null&&y(s,["imageConfig"],vO($)),s}function Y6(t,e,n){const s={},a=m(e,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],ai(a));const l=m(e,["temperature"]);l!=null&&y(s,["temperature"],l);const u=m(e,["topP"]);u!=null&&y(s,["topP"],u);const d=m(e,["topK"]);d!=null&&y(s,["topK"],d);const p=m(e,["candidateCount"]);p!=null&&y(s,["candidateCount"],p);const h=m(e,["maxOutputTokens"]);h!=null&&y(s,["maxOutputTokens"],h);const g=m(e,["stopSequences"]);g!=null&&y(s,["stopSequences"],g);const b=m(e,["responseLogprobs"]);b!=null&&y(s,["responseLogprobs"],b);const T=m(e,["logprobs"]);T!=null&&y(s,["logprobs"],T);const S=m(e,["presencePenalty"]);S!=null&&y(s,["presencePenalty"],S);const j=m(e,["frequencyPenalty"]);j!=null&&y(s,["frequencyPenalty"],j);const N=m(e,["seed"]);N!=null&&y(s,["seed"],N);const P=m(e,["responseMimeType"]);P!=null&&y(s,["responseMimeType"],P);const V=m(e,["responseSchema"]);V!=null&&y(s,["responseSchema"],L0(V));const D=m(e,["responseJsonSchema"]);D!=null&&y(s,["responseJsonSchema"],D);const k=m(e,["routingConfig"]);k!=null&&y(s,["routingConfig"],k);const G=m(e,["modelSelectionConfig"]);G!=null&&y(s,["modelConfig"],G);const J=m(e,["safetySettings"]);if(n!==void 0&&J!=null){let Y=J;Array.isArray(Y)&&(Y=Y.map(Z=>Z)),y(n,["safetySettings"],Y)}const K=m(e,["tools"]);if(n!==void 0&&K!=null){let Y=Cl(K);Array.isArray(Y)&&(Y=Y.map(Z=>wT(Nl(Z)))),y(n,["tools"],Y)}const te=m(e,["toolConfig"]);n!==void 0&&te!=null&&y(n,["toolConfig"],te);const re=m(e,["labels"]);n!==void 0&&re!=null&&y(n,["labels"],re);const B=m(e,["cachedContent"]);n!==void 0&&B!=null&&y(n,["cachedContent"],xr(t,B));const oe=m(e,["responseModalities"]);oe!=null&&y(s,["responseModalities"],oe);const $=m(e,["mediaResolution"]);$!=null&&y(s,["mediaResolution"],$);const ce=m(e,["speechConfig"]);ce!=null&&y(s,["speechConfig"],bT(U0(ce)));const ee=m(e,["audioTimestamp"]);ee!=null&&y(s,["audioTimestamp"],ee);const W=m(e,["thinkingConfig"]);W!=null&&y(s,["thinkingConfig"],W);const de=m(e,["imageConfig"]);return de!=null&&y(s,["imageConfig"],bO(de)),s}function ww(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["contents"]);if(a!=null){let u=es(a);Array.isArray(u)&&(u=u.map(d=>uf(d))),y(n,["contents"],u)}const l=m(e,["config"]);return l!=null&&y(n,["generationConfig"],$6(t,l,n)),n}function _w(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["contents"]);if(a!=null){let u=es(a);Array.isArray(u)&&(u=u.map(d=>d)),y(n,["contents"],u)}const l=m(e,["config"]);return l!=null&&y(n,["generationConfig"],Y6(t,l,n)),n}function Tw(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>m6(h))),y(e,["candidates"],p)}const a=m(t,["modelVersion"]);a!=null&&y(e,["modelVersion"],a);const l=m(t,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const u=m(t,["responseId"]);u!=null&&y(e,["responseId"],u);const d=m(t,["usageMetadata"]);return d!=null&&y(e,["usageMetadata"],d),e}function Ew(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(g=>g)),y(e,["candidates"],h)}const a=m(t,["createTime"]);a!=null&&y(e,["createTime"],a);const l=m(t,["modelVersion"]);l!=null&&y(e,["modelVersion"],l);const u=m(t,["promptFeedback"]);u!=null&&y(e,["promptFeedback"],u);const d=m(t,["responseId"]);d!=null&&y(e,["responseId"],d);const p=m(t,["usageMetadata"]);return p!=null&&y(e,["usageMetadata"],p),e}function W6(t,e){const n={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=m(t,["numberOfImages"]);e!==void 0&&s!=null&&y(e,["parameters","sampleCount"],s);const a=m(t,["aspectRatio"]);e!==void 0&&a!=null&&y(e,["parameters","aspectRatio"],a);const l=m(t,["guidanceScale"]);if(e!==void 0&&l!=null&&y(e,["parameters","guidanceScale"],l),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=m(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const d=m(t,["personGeneration"]);e!==void 0&&d!=null&&y(e,["parameters","personGeneration"],d);const p=m(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&y(e,["parameters","includeSafetyAttributes"],p);const h=m(t,["includeRaiReason"]);e!==void 0&&h!=null&&y(e,["parameters","includeRaiReason"],h);const g=m(t,["language"]);e!==void 0&&g!=null&&y(e,["parameters","language"],g);const b=m(t,["outputMimeType"]);e!==void 0&&b!=null&&y(e,["parameters","outputOptions","mimeType"],b);const T=m(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&y(e,["parameters","outputOptions","compressionQuality"],T),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=m(t,["imageSize"]);if(e!==void 0&&S!=null&&y(e,["parameters","sampleImageSize"],S),m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function K6(t,e){const n={},s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&y(e,["parameters","storageUri"],s);const a=m(t,["negativePrompt"]);e!==void 0&&a!=null&&y(e,["parameters","negativePrompt"],a);const l=m(t,["numberOfImages"]);e!==void 0&&l!=null&&y(e,["parameters","sampleCount"],l);const u=m(t,["aspectRatio"]);e!==void 0&&u!=null&&y(e,["parameters","aspectRatio"],u);const d=m(t,["guidanceScale"]);e!==void 0&&d!=null&&y(e,["parameters","guidanceScale"],d);const p=m(t,["seed"]);e!==void 0&&p!=null&&y(e,["parameters","seed"],p);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&y(e,["parameters","safetySetting"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const b=m(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&y(e,["parameters","includeSafetyAttributes"],b);const T=m(t,["includeRaiReason"]);e!==void 0&&T!=null&&y(e,["parameters","includeRaiReason"],T);const S=m(t,["language"]);e!==void 0&&S!=null&&y(e,["parameters","language"],S);const j=m(t,["outputMimeType"]);e!==void 0&&j!=null&&y(e,["parameters","outputOptions","mimeType"],j);const N=m(t,["outputCompressionQuality"]);e!==void 0&&N!=null&&y(e,["parameters","outputOptions","compressionQuality"],N);const P=m(t,["addWatermark"]);e!==void 0&&P!=null&&y(e,["parameters","addWatermark"],P);const V=m(t,["labels"]);e!==void 0&&V!=null&&y(e,["labels"],V);const D=m(t,["imageSize"]);e!==void 0&&D!=null&&y(e,["parameters","sampleImageSize"],D);const k=m(t,["enhancePrompt"]);return e!==void 0&&k!=null&&y(e,["parameters","enhancePrompt"],k),n}function J6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=m(e,["config"]);return l!=null&&W6(l,n),n}function X6(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=m(e,["config"]);return l!=null&&K6(l,n),n}function Q6(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>uO(u))),y(e,["generatedImages"],l)}const a=m(t,["positivePromptSafetyAttributes"]);return a!=null&&y(e,["positivePromptSafetyAttributes"],xT(a)),e}function Z6(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>df(u))),y(e,["generatedImages"],l)}const a=m(t,["positivePromptSafetyAttributes"]);return a!=null&&y(e,["positivePromptSafetyAttributes"],vT(a)),e}function eO(t,e){const n={},s=m(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&y(e,["parameters","sampleCount"],s),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=m(t,["durationSeconds"]);if(e!==void 0&&a!=null&&y(e,["parameters","durationSeconds"],a),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=m(t,["resolution"]);e!==void 0&&u!=null&&y(e,["parameters","resolution"],u);const d=m(t,["personGeneration"]);if(e!==void 0&&d!=null&&y(e,["parameters","personGeneration"],d),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=m(t,["negativePrompt"]);e!==void 0&&p!=null&&y(e,["parameters","negativePrompt"],p);const h=m(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&y(e,["parameters","enhancePrompt"],h),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=m(t,["lastFrame"]);e!==void 0&&g!=null&&y(e,["instances[0]","lastFrame"],ff(g));const b=m(t,["referenceImages"]);if(e!==void 0&&b!=null){let T=b;Array.isArray(T)&&(T=T.map(S=>nL(S))),y(e,["instances[0]","referenceImages"],T)}if(m(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(m(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function tO(t,e){const n={},s=m(t,["numberOfVideos"]);e!==void 0&&s!=null&&y(e,["parameters","sampleCount"],s);const a=m(t,["outputGcsUri"]);e!==void 0&&a!=null&&y(e,["parameters","storageUri"],a);const l=m(t,["fps"]);e!==void 0&&l!=null&&y(e,["parameters","fps"],l);const u=m(t,["durationSeconds"]);e!==void 0&&u!=null&&y(e,["parameters","durationSeconds"],u);const d=m(t,["seed"]);e!==void 0&&d!=null&&y(e,["parameters","seed"],d);const p=m(t,["aspectRatio"]);e!==void 0&&p!=null&&y(e,["parameters","aspectRatio"],p);const h=m(t,["resolution"]);e!==void 0&&h!=null&&y(e,["parameters","resolution"],h);const g=m(t,["personGeneration"]);e!==void 0&&g!=null&&y(e,["parameters","personGeneration"],g);const b=m(t,["pubsubTopic"]);e!==void 0&&b!=null&&y(e,["parameters","pubsubTopic"],b);const T=m(t,["negativePrompt"]);e!==void 0&&T!=null&&y(e,["parameters","negativePrompt"],T);const S=m(t,["enhancePrompt"]);e!==void 0&&S!=null&&y(e,["parameters","enhancePrompt"],S);const j=m(t,["generateAudio"]);e!==void 0&&j!=null&&y(e,["parameters","generateAudio"],j);const N=m(t,["lastFrame"]);e!==void 0&&N!=null&&y(e,["instances[0]","lastFrame"],ms(N));const P=m(t,["referenceImages"]);if(e!==void 0&&P!=null){let k=P;Array.isArray(k)&&(k=k.map(G=>iL(G))),y(e,["instances[0]","referenceImages"],k)}const V=m(t,["mask"]);e!==void 0&&V!=null&&y(e,["instances[0]","mask"],tL(V));const D=m(t,["compressionQuality"]);return e!==void 0&&D!=null&&y(e,["parameters","compressionQuality"],D),n}function nO(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["metadata"]);s!=null&&y(e,["metadata"],s);const a=m(t,["done"]);a!=null&&y(e,["done"],a);const l=m(t,["error"]);l!=null&&y(e,["error"],l);const u=m(t,["response","generateVideoResponse"]);return u!=null&&y(e,["response"],aO(u)),e}function iO(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["metadata"]);s!=null&&y(e,["metadata"],s);const a=m(t,["done"]);a!=null&&y(e,["done"],a);const l=m(t,["error"]);l!=null&&y(e,["error"],l);const u=m(t,["response"]);return u!=null&&y(e,["response"],oO(u)),e}function sO(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=m(e,["image"]);l!=null&&y(n,["instances[0]","image"],ff(l));const u=m(e,["video"]);u!=null&&y(n,["instances[0]","video"],_T(u));const d=m(e,["source"]);d!=null&&lO(d,n);const p=m(e,["config"]);return p!=null&&eO(p,n),n}function rO(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["prompt"]);a!=null&&y(n,["instances[0]","prompt"],a);const l=m(e,["image"]);l!=null&&y(n,["instances[0]","image"],ms(l));const u=m(e,["video"]);u!=null&&y(n,["instances[0]","video"],TT(u));const d=m(e,["source"]);d!=null&&cO(d,n);const p=m(e,["config"]);return p!=null&&tO(p,n),n}function aO(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>fO(u))),y(e,["generatedVideos"],l)}const s=m(t,["raiMediaFilteredCount"]);s!=null&&y(e,["raiMediaFilteredCount"],s);const a=m(t,["raiMediaFilteredReasons"]);return a!=null&&y(e,["raiMediaFilteredReasons"],a),e}function oO(t){const e={},n=m(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>hO(u))),y(e,["generatedVideos"],l)}const s=m(t,["raiMediaFilteredCount"]);s!=null&&y(e,["raiMediaFilteredCount"],s);const a=m(t,["raiMediaFilteredReasons"]);return a!=null&&y(e,["raiMediaFilteredReasons"],a),e}function lO(t,e){const n={},s=m(t,["prompt"]);e!==void 0&&s!=null&&y(e,["instances[0]","prompt"],s);const a=m(t,["image"]);e!==void 0&&a!=null&&y(e,["instances[0]","image"],ff(a));const l=m(t,["video"]);return e!==void 0&&l!=null&&y(e,["instances[0]","video"],_T(l)),n}function cO(t,e){const n={},s=m(t,["prompt"]);e!==void 0&&s!=null&&y(e,["instances[0]","prompt"],s);const a=m(t,["image"]);e!==void 0&&a!=null&&y(e,["instances[0]","image"],ms(a));const l=m(t,["video"]);return e!==void 0&&l!=null&&y(e,["instances[0]","video"],TT(l)),n}function uO(t){const e={},n=m(t,["_self"]);n!=null&&y(e,["image"],wO(n));const s=m(t,["raiFilteredReason"]);s!=null&&y(e,["raiFilteredReason"],s);const a=m(t,["_self"]);return a!=null&&y(e,["safetyAttributes"],xT(a)),e}function df(t){const e={},n=m(t,["_self"]);n!=null&&y(e,["image"],yT(n));const s=m(t,["raiFilteredReason"]);s!=null&&y(e,["raiFilteredReason"],s);const a=m(t,["_self"]);a!=null&&y(e,["safetyAttributes"],vT(a));const l=m(t,["prompt"]);return l!=null&&y(e,["enhancedPrompt"],l),e}function dO(t){const e={},n=m(t,["_self"]);n!=null&&y(e,["mask"],yT(n));const s=m(t,["labels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(e,["labels"],a)}return e}function fO(t){const e={},n=m(t,["video"]);return n!=null&&y(e,["video"],ZO(n)),e}function hO(t){const e={},n=m(t,["_self"]);return n!=null&&y(e,["video"],eL(n)),e}function pO(t){const e={},n=m(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const s=m(t,["responseJsonSchema"]);s!=null&&y(e,["responseJsonSchema"],s);const a=m(t,["audioTimestamp"]);a!=null&&y(e,["audioTimestamp"],a);const l=m(t,["candidateCount"]);l!=null&&y(e,["candidateCount"],l);const u=m(t,["enableAffectiveDialog"]);u!=null&&y(e,["enableAffectiveDialog"],u);const d=m(t,["frequencyPenalty"]);d!=null&&y(e,["frequencyPenalty"],d);const p=m(t,["logprobs"]);p!=null&&y(e,["logprobs"],p);const h=m(t,["maxOutputTokens"]);h!=null&&y(e,["maxOutputTokens"],h);const g=m(t,["mediaResolution"]);g!=null&&y(e,["mediaResolution"],g);const b=m(t,["presencePenalty"]);b!=null&&y(e,["presencePenalty"],b);const T=m(t,["responseLogprobs"]);T!=null&&y(e,["responseLogprobs"],T);const S=m(t,["responseMimeType"]);S!=null&&y(e,["responseMimeType"],S);const j=m(t,["responseModalities"]);j!=null&&y(e,["responseModalities"],j);const N=m(t,["responseSchema"]);N!=null&&y(e,["responseSchema"],N);const P=m(t,["routingConfig"]);P!=null&&y(e,["routingConfig"],P);const V=m(t,["seed"]);V!=null&&y(e,["seed"],V);const D=m(t,["speechConfig"]);D!=null&&y(e,["speechConfig"],bT(D));const k=m(t,["stopSequences"]);k!=null&&y(e,["stopSequences"],k);const G=m(t,["temperature"]);G!=null&&y(e,["temperature"],G);const J=m(t,["thinkingConfig"]);J!=null&&y(e,["thinkingConfig"],J);const K=m(t,["topK"]);K!=null&&y(e,["topK"],K);const te=m(t,["topP"]);if(te!=null&&y(e,["topP"],te),m(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function mO(t,e){const n={},s=m(e,["model"]);return s!=null&&y(n,["_url","name"],qt(t,s)),n}function gO(t,e){const n={},s=m(e,["model"]);return s!=null&&y(n,["_url","name"],qt(t,s)),n}function yO(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function xO(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function vO(t){const e={},n=m(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const s=m(t,["imageSize"]);if(s!=null&&y(e,["imageSize"],s),m(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(m(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function bO(t){const e={},n=m(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const s=m(t,["imageSize"]);s!=null&&y(e,["imageSize"],s);const a=m(t,["outputMimeType"]);a!=null&&y(e,["imageOutputOptions","mimeType"],a);const l=m(t,["outputCompressionQuality"]);return l!=null&&y(e,["imageOutputOptions","compressionQuality"],l),e}function wO(t){const e={},n=m(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],la(n));const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function yT(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const s=m(t,["bytesBase64Encoded"]);s!=null&&y(e,["imageBytes"],la(s));const a=m(t,["mimeType"]);return a!=null&&y(e,["mimeType"],a),e}function ff(t){const e={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],la(n));const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function ms(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const s=m(t,["imageBytes"]);s!=null&&y(e,["bytesBase64Encoded"],la(s));const a=m(t,["mimeType"]);return a!=null&&y(e,["mimeType"],a),e}function _O(t,e,n){const s={},a=m(e,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const l=m(e,["pageToken"]);n!==void 0&&l!=null&&y(n,["_query","pageToken"],l);const u=m(e,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const d=m(e,["queryBase"]);return n!==void 0&&d!=null&&y(n,["_url","models_url"],cT(t,d)),s}function TO(t,e,n){const s={},a=m(e,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const l=m(e,["pageToken"]);n!==void 0&&l!=null&&y(n,["_query","pageToken"],l);const u=m(e,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const d=m(e,["queryBase"]);return n!==void 0&&d!=null&&y(n,["_url","models_url"],cT(t,d)),s}function EO(t,e){const n={},s=m(e,["config"]);return s!=null&&_O(t,s,n),n}function SO(t,e){const n={},s=m(e,["config"]);return s!=null&&TO(t,s,n),n}function NO(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["nextPageToken"]);s!=null&&y(e,["nextPageToken"],s);const a=m(t,["_self"]);if(a!=null){let l=uT(a);Array.isArray(l)&&(l=l.map(u=>Dm(u))),y(e,["models"],l)}return e}function CO(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["nextPageToken"]);s!=null&&y(e,["nextPageToken"],s);const a=m(t,["_self"]);if(a!=null){let l=uT(a);Array.isArray(l)&&(l=l.map(u=>Pm(u))),y(e,["models"],l)}return e}function AO(t){const e={},n=m(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const s=m(t,["segmentationClasses"]);s!=null&&y(e,["maskClasses"],s);const a=m(t,["maskDilation"]);return a!=null&&y(e,["dilation"],a),e}function Dm(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["displayName"]);s!=null&&y(e,["displayName"],s);const a=m(t,["description"]);a!=null&&y(e,["description"],a);const l=m(t,["version"]);l!=null&&y(e,["version"],l);const u=m(t,["_self"]);u!=null&&y(e,["tunedModelInfo"],GO(u));const d=m(t,["inputTokenLimit"]);d!=null&&y(e,["inputTokenLimit"],d);const p=m(t,["outputTokenLimit"]);p!=null&&y(e,["outputTokenLimit"],p);const h=m(t,["supportedGenerationMethods"]);h!=null&&y(e,["supportedActions"],h);const g=m(t,["temperature"]);g!=null&&y(e,["temperature"],g);const b=m(t,["maxTemperature"]);b!=null&&y(e,["maxTemperature"],b);const T=m(t,["topP"]);T!=null&&y(e,["topP"],T);const S=m(t,["topK"]);S!=null&&y(e,["topK"],S);const j=m(t,["thinking"]);return j!=null&&y(e,["thinking"],j),e}function Pm(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["displayName"]);s!=null&&y(e,["displayName"],s);const a=m(t,["description"]);a!=null&&y(e,["description"],a);const l=m(t,["versionId"]);l!=null&&y(e,["version"],l);const u=m(t,["deployedModels"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(T=>F6(T))),y(e,["endpoints"],b)}const d=m(t,["labels"]);d!=null&&y(e,["labels"],d);const p=m(t,["_self"]);p!=null&&y(e,["tunedModelInfo"],qO(p));const h=m(t,["defaultCheckpointId"]);h!=null&&y(e,["defaultCheckpointId"],h);const g=m(t,["checkpoints"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(T=>T)),y(e,["checkpoints"],b)}return e}function RO(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const s=m(t,["codeExecutionResult"]);s!=null&&y(e,["codeExecutionResult"],s);const a=m(t,["executableCode"]);a!=null&&y(e,["executableCode"],a);const l=m(t,["fileData"]);l!=null&&y(e,["fileData"],H6(l));const u=m(t,["functionCall"]);u!=null&&y(e,["functionCall"],B6(u));const d=m(t,["functionResponse"]);d!=null&&y(e,["functionResponse"],d);const p=m(t,["inlineData"]);p!=null&&y(e,["inlineData"],p6(p));const h=m(t,["text"]);h!=null&&y(e,["text"],h);const g=m(t,["thought"]);g!=null&&y(e,["thought"],g);const b=m(t,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const T=m(t,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function IO(t){const e={},n=m(t,["productImage"]);return n!=null&&y(e,["image"],ms(n)),e}function jO(t,e){const n={},s=m(t,["numberOfImages"]);e!==void 0&&s!=null&&y(e,["parameters","sampleCount"],s);const a=m(t,["baseSteps"]);e!==void 0&&a!=null&&y(e,["parameters","baseSteps"],a);const l=m(t,["outputGcsUri"]);e!==void 0&&l!=null&&y(e,["parameters","storageUri"],l);const u=m(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const d=m(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const p=m(t,["personGeneration"]);e!==void 0&&p!=null&&y(e,["parameters","personGeneration"],p);const h=m(t,["addWatermark"]);e!==void 0&&h!=null&&y(e,["parameters","addWatermark"],h);const g=m(t,["outputMimeType"]);e!==void 0&&g!=null&&y(e,["parameters","outputOptions","mimeType"],g);const b=m(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&y(e,["parameters","outputOptions","compressionQuality"],b);const T=m(t,["enhancePrompt"]);e!==void 0&&T!=null&&y(e,["parameters","enhancePrompt"],T);const S=m(t,["labels"]);return e!==void 0&&S!=null&&y(e,["labels"],S),n}function MO(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["source"]);a!=null&&DO(a,n);const l=m(e,["config"]);return l!=null&&jO(l,n),n}function kO(t){const e={},n=m(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>df(a))),y(e,["generatedImages"],s)}return e}function DO(t,e){const n={},s=m(t,["prompt"]);e!==void 0&&s!=null&&y(e,["instances[0]","prompt"],s);const a=m(t,["personImage"]);e!==void 0&&a!=null&&y(e,["instances[0]","personImage","image"],ms(a));const l=m(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>IO(d))),y(e,["instances[0]","productImages"],u)}return n}function PO(t){const e={},n=m(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],ms(n));const s=m(t,["referenceId"]);s!=null&&y(e,["referenceId"],s);const a=m(t,["referenceType"]);a!=null&&y(e,["referenceType"],a);const l=m(t,["maskImageConfig"]);l!=null&&y(e,["maskImageConfig"],AO(l));const u=m(t,["controlImageConfig"]);u!=null&&y(e,["controlImageConfig"],w6(u));const d=m(t,["styleImageConfig"]);d!=null&&y(e,["styleImageConfig"],d);const p=m(t,["subjectImageConfig"]);return p!=null&&y(e,["subjectImageConfig"],p),e}function xT(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const s=m(t,["safetyAttributes","scores"]);s!=null&&y(e,["scores"],s);const a=m(t,["contentType"]);return a!=null&&y(e,["contentType"],a),e}function vT(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const s=m(t,["safetyAttributes","scores"]);s!=null&&y(e,["scores"],s);const a=m(t,["contentType"]);return a!=null&&y(e,["contentType"],a),e}function OO(t){const e={},n=m(t,["category"]);if(n!=null&&y(e,["category"],n),m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=m(t,["threshold"]);return s!=null&&y(e,["threshold"],s),e}function LO(t){const e={},n=m(t,["image"]);return n!=null&&y(e,["image"],ms(n)),e}function UO(t,e){const n={},s=m(t,["mode"]);e!==void 0&&s!=null&&y(e,["parameters","mode"],s);const a=m(t,["maxPredictions"]);e!==void 0&&a!=null&&y(e,["parameters","maxPredictions"],a);const l=m(t,["confidenceThreshold"]);e!==void 0&&l!=null&&y(e,["parameters","confidenceThreshold"],l);const u=m(t,["maskDilation"]);e!==void 0&&u!=null&&y(e,["parameters","maskDilation"],u);const d=m(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&y(e,["parameters","binaryColorThreshold"],d);const p=m(t,["labels"]);return e!==void 0&&p!=null&&y(e,["labels"],p),n}function VO(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["source"]);a!=null&&FO(a,n);const l=m(e,["config"]);return l!=null&&UO(l,n),n}function zO(t){const e={},n=m(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>dO(a))),y(e,["generatedMasks"],s)}return e}function FO(t,e){const n={},s=m(t,["prompt"]);e!==void 0&&s!=null&&y(e,["instances[0]","prompt"],s);const a=m(t,["image"]);e!==void 0&&a!=null&&y(e,["instances[0]","image"],ms(a));const l=m(t,["scribbleImage"]);return e!==void 0&&l!=null&&y(e,["instances[0]","scribble"],LO(l)),n}function bT(t){const e={},n=m(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const s=m(t,["voiceConfig"]);if(s!=null&&y(e,["voiceConfig"],s),m(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function HO(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],G6(n));const s=m(t,["retrievalConfig"]);return s!=null&&y(e,["retrievalConfig"],s),e}function BO(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=m(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=m(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=m(t,["fileSearch"]);l!=null&&y(e,["fileSearch"],l);const u=m(t,["codeExecution"]);if(u!=null&&y(e,["codeExecution"],u),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=m(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],yO(d));const p=m(t,["googleSearch"]);p!=null&&y(e,["googleSearch"],xO(p));const h=m(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function wT(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let b=n;Array.isArray(b)&&(b=b.map(T=>q6(T))),y(e,["functionDeclarations"],b)}const s=m(t,["retrieval"]);s!=null&&y(e,["retrieval"],s);const a=m(t,["googleSearchRetrieval"]);a!=null&&y(e,["googleSearchRetrieval"],a);const l=m(t,["computerUse"]);if(l!=null&&y(e,["computerUse"],l),m(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=m(t,["codeExecution"]);u!=null&&y(e,["codeExecution"],u);const d=m(t,["enterpriseWebSearch"]);d!=null&&y(e,["enterpriseWebSearch"],d);const p=m(t,["googleMaps"]);p!=null&&y(e,["googleMaps"],p);const h=m(t,["googleSearch"]);h!=null&&y(e,["googleSearch"],h);const g=m(t,["urlContext"]);return g!=null&&y(e,["urlContext"],g),e}function GO(t){const e={},n=m(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const s=m(t,["createTime"]);s!=null&&y(e,["createTime"],s);const a=m(t,["updateTime"]);return a!=null&&y(e,["updateTime"],a),e}function qO(t){const e={},n=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const s=m(t,["createTime"]);s!=null&&y(e,["createTime"],s);const a=m(t,["updateTime"]);return a!=null&&y(e,["updateTime"],a),e}function $O(t,e){const n={},s=m(t,["displayName"]);e!==void 0&&s!=null&&y(e,["displayName"],s);const a=m(t,["description"]);e!==void 0&&a!=null&&y(e,["description"],a);const l=m(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&y(e,["defaultCheckpointId"],l),n}function YO(t,e){const n={},s=m(t,["displayName"]);e!==void 0&&s!=null&&y(e,["displayName"],s);const a=m(t,["description"]);e!==void 0&&a!=null&&y(e,["description"],a);const l=m(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&y(e,["defaultCheckpointId"],l),n}function WO(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","name"],qt(t,s));const a=m(e,["config"]);return a!=null&&$O(a,n),n}function KO(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["config"]);return a!=null&&YO(a,n),n}function JO(t,e){const n={},s=m(t,["outputGcsUri"]);e!==void 0&&s!=null&&y(e,["parameters","storageUri"],s);const a=m(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&y(e,["parameters","safetySetting"],a);const l=m(t,["personGeneration"]);e!==void 0&&l!=null&&y(e,["parameters","personGeneration"],l);const u=m(t,["includeRaiReason"]);e!==void 0&&u!=null&&y(e,["parameters","includeRaiReason"],u);const d=m(t,["outputMimeType"]);e!==void 0&&d!=null&&y(e,["parameters","outputOptions","mimeType"],d);const p=m(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&y(e,["parameters","outputOptions","compressionQuality"],p);const h=m(t,["enhanceInputImage"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=m(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const b=m(t,["labels"]);e!==void 0&&b!=null&&y(e,["labels"],b);const T=m(t,["numberOfImages"]);e!==void 0&&T!=null&&y(e,["parameters","sampleCount"],T);const S=m(t,["mode"]);return e!==void 0&&S!=null&&y(e,["parameters","mode"],S),n}function XO(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["_url","model"],qt(t,s));const a=m(e,["image"]);a!=null&&y(n,["instances[0]","image"],ms(a));const l=m(e,["upscaleFactor"]);l!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=m(e,["config"]);return u!=null&&JO(u,n),n}function QO(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>df(l))),y(e,["generatedImages"],a)}return e}function ZO(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["uri"],n);const s=m(t,["encodedVideo"]);s!=null&&y(e,["videoBytes"],la(s));const a=m(t,["encoding"]);return a!=null&&y(e,["mimeType"],a),e}function eL(t){const e={},n=m(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const s=m(t,["bytesBase64Encoded"]);s!=null&&y(e,["videoBytes"],la(s));const a=m(t,["mimeType"]);return a!=null&&y(e,["mimeType"],a),e}function tL(t){const e={},n=m(t,["image"]);n!=null&&y(e,["_self"],ms(n));const s=m(t,["maskMode"]);return s!=null&&y(e,["maskMode"],s),e}function nL(t){const e={},n=m(t,["image"]);n!=null&&y(e,["image"],ff(n));const s=m(t,["referenceType"]);return s!=null&&y(e,["referenceType"],s),e}function iL(t){const e={},n=m(t,["image"]);n!=null&&y(e,["image"],ms(n));const s=m(t,["referenceType"]);return s!=null&&y(e,["referenceType"],s),e}function _T(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["uri"],n);const s=m(t,["videoBytes"]);s!=null&&y(e,["encodedVideo"],la(s));const a=m(t,["mimeType"]);return a!=null&&y(e,["encoding"],a),e}function TT(t){const e={},n=m(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const s=m(t,["videoBytes"]);s!=null&&y(e,["bytesBase64Encoded"],la(s));const a=m(t,["mimeType"]);return a!=null&&y(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sL="Content-Type",rL="X-Server-Timeout",aL="User-Agent",Om="x-goog-api-client",oL="1.30.0",lL=`google-genai-sdk/${oL}`,cL="v1beta1",uL="v1beta",Sw=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class dL{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:cL,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:uL,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const a=[this.getRequestUrlInternal(n)];return s&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))a.searchParams.append(u,String(d));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,a.toString(),e.abortSignal),this.unaryApiCall(a,l,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[a,l]of Object.entries(n))typeof l=="object"?s[a]=Object.assign(Object.assign({},s[a]),l):l!==void 0&&(s[a]=l);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,a.toString(),e.abortSignal),this.streamApiCall(a,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s,a){if(n&&n.timeout||a){const l=new AbortController,u=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>l.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),e.signal=u}return n&&n.extraBody!==null&&fL(e,n.extraBody),e.headers=await this.getHeadersInternal(n,s),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async a=>(await Nw(a),new jm(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async a=>(await Nw(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return vl(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let u="";for(;;){const{done:d,value:p}=yield fn(a.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=l.decode(p,{stream:!0});try{const b=JSON.parse(h);if("error"in b){const T=JSON.parse(JSON.stringify(b.error)),S=T.status,j=T.code,N=`got status: ${S}. ${JSON.stringify(b)}`;if(j>=400&&j<600)throw new cf({message:N,status:j})}}catch(b){if(b.name==="ApiError")throw b}u+=h;let g=u.match(Sw);for(;g;){const b=g[1];try{const T=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fn(new jm(T)),u=u.slice(g[0].length),g=u.match(Sw)}catch(T){throw new Error(`exception parsing stream chunk ${b}. ${T}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=lL+" "+this.clientOptions.userAgentExtra;return e[aL]=n,e[Om]=n,e[sL]="application/json",e}async getHeadersInternal(e,n){const s=new Headers;if(e&&e.headers){for(const[a,l]of Object.entries(e.headers))s.append(a,l);e.timeout&&e.timeout>0&&s.append(rL,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(e){var n;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(e,n){var s;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);a.sizeBytes=String(u.size);const d=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=d;const p={file:a},h=this.getFileName(e),g=ze("upload/v1beta/files",p._url),b=await this.fetchUploadUrl(g,a.sizeBytes,a.mimeType,h,p,n==null?void 0:n.httpOptions);return l.upload(e,b,this)}async uploadFileToFileSearchStore(e,n,s){var a;const l=this.clientOptions.uploader,u=await l.stat(n),d=String(u.size),p=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(n),b={};s!=null&&s.customMetadata&&(b.customMetadata=s.customMetadata),s!=null&&s.chunkingConfig&&(b.chunkingConfig=s.chunkingConfig);const T=await this.fetchUploadUrl(h,d,p,g,b,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(n,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,s,a,l,u){var d;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(d=h==null?void 0:h.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function Nw(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(s);throw n>=400&&n<600?new cf({message:a,status:n}):new Error(a)}}function fL(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,u){const d=Object.assign({},l);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const h=u[p],g=d[p];h&&typeof h=="object"&&!Array.isArray(h)&&g&&typeof g=="object"&&!Array.isArray(g)?d[p]=s(g,h):(g&&h&&typeof g!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof h}. Overwriting.`),d[p]=h)}return d}const a=s(n,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hL="mcp_used/unknown";let pL=!1;function ET(t){for(const e of t)if(mL(e)||typeof e=="object"&&"inputSchema"in e)return!0;return pL}function ST(t){var e;const n=(e=t[Om])!==null&&e!==void 0?e:"";t[Om]=(n+` ${hL}`).trimStart()}function mL(t){return t!==null&&typeof t=="object"&&t instanceof z0}function gL(t,e=100){return vl(this,arguments,function*(){let s,a=0;for(;a<e;){const l=yield fn(t.listTools({cursor:s}));for(const u of l.tools)yield yield fn(u),a++;if(!l.nextCursor)break;s=l.nextCursor}})}class z0{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new z0(e,n)}async initialize(){var e,n,s,a;if(this.mcpTools.length>0)return;const l={},u=[];for(const g of this.mcpClients)try{for(var d=!0,p=(n=void 0,Hc(gL(g))),h;h=await p.next(),e=h.done,!e;d=!0){a=h.value,d=!1;const b=a;u.push(b);const T=b.name;if(l[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);l[T]=g}}catch(b){n={error:b}}finally{try{!d&&!e&&(s=p.return)&&await s.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),lD(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await a.callTool({name:s.name,arguments:s.args},void 0,l);n.push({functionResponse:{name:s.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yL(t,e,n){const s=new eD;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(s,a),e(s)}class xL{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=wL(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),p=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const g=new Promise(k=>{h=k}),b=e.callbacks,T=function(){h({})},S=this.apiClient,j={onopen:T,onmessage:k=>{yL(S,b.onmessage,k)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(k){},onclose:(s=b==null?void 0:b.onclose)!==null&&s!==void 0?s:function(k){}},N=this.webSocketFactory.create(p,bL(u),j);N.connect(),await g;const D={setup:{model:qt(this.apiClient,e.model)}};return N.send(JSON.stringify(D)),new vL(N,this.apiClient)}}class vL{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=r6(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=s6(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(pl.PLAY)}pause(){this.sendPlaybackControl(pl.PAUSE)}stop(){this.sendPlaybackControl(pl.STOP)}resetContext(){this.sendPlaybackControl(pl.RESET_CONTEXT)}close(){this.conn.close()}}function bL(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function wL(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _L="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TL(t,e,n){const s=new Zk;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const l=JSON.parse(a);if(t.isVertexAI()){const u=l6(l);Object.assign(s,u)}else Object.assign(s,l);e(s)}class EL{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s,this.music=new xL(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,s,a,l,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let g;const b=this.apiClient.getHeaders();e.config&&e.config.tools&&ET(e.config.tools)&&ST(b);const T=AL(b);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,g);else{const B=this.apiClient.getApiKey();let oe="BidiGenerateContent",$="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),oe="BidiGenerateContentConstrained",$="access_token"),g=`${p}/ws/google.ai.generativelanguage.${h}.GenerativeService.${oe}?${$}=${B}`}let S=()=>{};const j=new Promise(B=>{S=B}),N=e.callbacks,P=function(){var B;(B=N==null?void 0:N.onopen)===null||B===void 0||B.call(N),S({})},V=this.apiClient,D={onopen:P,onmessage:B=>{TL(V,N.onmessage,B)},onerror:(n=N==null?void 0:N.onerror)!==null&&n!==void 0?n:function(B){},onclose:(s=N==null?void 0:N.onclose)!==null&&s!==void 0?s:function(B){}},k=this.webSocketFactory.create(g,CL(T),D);k.connect(),await j;let G=qt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const B=this.apiClient.getProject(),oe=this.apiClient.getLocation();G=`projects/${B}/locations/${oe}/`+G}let J={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wd.AUDIO]}:e.config.responseModalities=[Wd.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],te=[];for(const B of K)if(this.isCallableTool(B)){const oe=B;te.push(await oe.tool())}else te.push(B);te.length>0&&(e.config.tools=te);const re={model:G,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?J=i6(this.apiClient,re):J=n6(this.apiClient,re),delete J.config,k.send(JSON.stringify(J)),new NL(k,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const SL={turnComplete:!0};class NL{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=es(n.turns),e.isVertexAI()||(s=s.map(a=>uf(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(_L)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},SL),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:o6(e)}:n={realtimeInput:a6(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function CL(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function AL(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cw=10;function Aw(t){var e,n,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(bl(u)){a=!0;break}if(!a)return!0;const l=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function bl(t){return"callTool"in t&&typeof t.callTool=="function"}function RL(t){var e,n,s;return(s=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>bl(a)))!==null&&s!==void 0?s:!1}function Rw(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,a)=>{if(bl(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(a)}),n}function Iw(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IL extends yr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var s,a,l,u,d;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!RL(n)||Aw(n.config))return await this.generateContentInternal(p);const h=Rw(n);if(h.length>0){const N=h.map(P=>`tools[${P}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let g,b;const T=es(p.contents),S=(l=(a=(s=p.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:Cw;let j=0;for(;j<S&&(g=await this.generateContentInternal(p),!(!g.functionCalls||g.functionCalls.length===0));){const N=g.candidates[0].content,P=[];for(const V of(d=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(bl(V)){const k=await V.callTool(g.functionCalls);P.push(...k)}j++,b={role:"user",parts:P},p.contents=es(p.contents),p.contents.push(N),p.contents.push(b),Iw(p.config)&&(T.push(N),T.push(b))}return Iw(p.config)&&(g.automaticFunctionCallingHistory=T),g},this.generateContentStream=async n=>{var s,a,l,u,d;if(this.maybeMoveToResponseJsonSchem(n),Aw(n.config)){const b=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(b)}const p=Rw(n);if(p.length>0){const b=p.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(l=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,g=(d=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(h&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var a;let l;const u=[];if(s!=null&&s.generatedImages)for(const p of s.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((a=p==null?void 0:p.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:u.push(p);let d;return l?d={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:s.sdkHttpResponse},d}),this.list=async n=>{var s;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((s=u.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new eo(gr.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var s,a,l,u,d,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((p=(d=n.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,s,a;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const u=await Promise.all(l.map(async p=>bl(p)?await p.tool():p)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&ET(e.config.tools)){const p=(a=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},p);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),ST(h),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(e){var n,s,a;const l=new Map;for(const u of(s=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(bl(u)){const d=u,p=await d.tool();for(const h of(a=p.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(l.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);l.set(h.name,d)}}return l}async processAfcStream(e){var n,s,a;const l=(a=(s=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:Cw;let u=!1,d=0;const p=await this.initAfcToolsMap(e);return(function(h,g,b){var T,S;return vl(this,arguments,function*(){for(var j,N,P,V;d<l;){u&&(d++,u=!1);const J=yield fn(h.processParamsMaybeAddMcpUsage(b)),K=yield fn(h.generateContentStreamInternal(J)),te=[],re=[];try{for(var D=!0,k=(N=void 0,Hc(K)),G;G=yield fn(k.next()),j=G.done,!j;D=!0){V=G.value,D=!1;const B=V;if(yield yield fn(B),B.candidates&&(!((T=B.candidates[0])===null||T===void 0)&&T.content)){re.push(B.candidates[0].content);for(const oe of(S=B.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(d<l&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(oe.functionCall.name)){const $=yield fn(g.get(oe.functionCall.name).callTool([oe.functionCall]));te.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(B){N={error:B}}finally{try{!D&&!j&&(P=k.return)&&(yield fn(P.call(k)))}finally{if(N)throw N.error}}if(te.length>0){u=!0;const B=new jc;B.candidates=[{content:{role:"user",parts:te}}],yield yield fn(B);const oe=[];oe.push(...re),oe.push({role:"user",parts:te});const $=es(b.contents).concat(oe);b.contents=$}else break}})})(this,p,e)}async generateContentInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=_w(this.apiClient,e);return d=ze("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=Ew(g),T=new jc;return Object.assign(T,b),T})}else{const h=ww(this.apiClient,e);return d=ze("{model}:generateContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=Tw(g),T=new jc;return Object.assign(T,b),T})}}async generateContentStreamInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=_w(this.apiClient,e);return d=ze("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(b){return vl(this,arguments,function*(){var T,S,j,N;try{for(var P=!0,V=Hc(b),D;D=yield fn(V.next()),T=D.done,!T;P=!0){N=D.value,P=!1;const k=N,G=Ew(yield fn(k.json()));G.sdkHttpResponse={headers:k.headers};const J=new jc;Object.assign(J,G),yield yield fn(J)}}catch(k){S={error:k}}finally{try{!P&&!T&&(j=V.return)&&(yield fn(j.call(V)))}finally{if(S)throw S.error}}})})}else{const h=ww(this.apiClient,e);return d=ze("{model}:streamGenerateContent?alt=sse",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(b){return vl(this,arguments,function*(){var T,S,j,N;try{for(var P=!0,V=Hc(b),D;D=yield fn(V.next()),T=D.done,!T;P=!0){N=D.value,P=!1;const k=N,G=Tw(yield fn(k.json()));G.sdkHttpResponse={headers:k.headers};const J=new jc;Object.assign(J,G),yield yield fn(J)}}catch(k){S={error:k}}finally{try{!P&&!T&&(j=V.return)&&(yield fn(j.call(V)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=U6(this.apiClient,e);return d=ze("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=z6(g),T=new rw;return Object.assign(T,b),T})}else{const h=L6(this.apiClient,e);return d=ze("{model}:batchEmbedContents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=V6(g),T=new rw;return Object.assign(T,b),T})}}async generateImagesInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=X6(this.apiClient,e);return d=ze("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=Z6(g),T=new aw;return Object.assign(T,b),T})}else{const h=J6(this.apiClient,e);return d=ze("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=Q6(g),T=new aw;return Object.assign(T,b),T})}}async editImageInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=k6(this.apiClient,e);return l=ze("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),a.then(p=>{const h=D6(p),g=new Hk;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=XO(this.apiClient,e);return l=ze("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),a.then(p=>{const h=QO(p),g=new Bk;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=MO(this.apiClient,e);return l=ze("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>{const h=kO(p),g=new Gk;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=VO(this.apiClient,e);return l=ze("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>{const h=zO(p),g=new qk;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=gO(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Pm(g))}else{const h=mO(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Dm(g))}}async listInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=SO(this.apiClient,e);return d=ze("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=CO(g),T=new ow;return Object.assign(T,b),T})}else{const h=EO(this.apiClient,e);return d=ze("{models_url}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=NO(g),T=new ow;return Object.assign(T,b),T})}}async update(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=KO(this.apiClient,e);return d=ze("{model}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>Pm(g))}else{const h=WO(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Dm(g))}}async delete(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=R6(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=j6(g),T=new lw;return Object.assign(T,b),T})}else{const h=A6(this.apiClient,e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=I6(g),T=new lw;return Object.assign(T,b),T})}}async countTokens(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=S6(this.apiClient,e);return d=ze("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=C6(g),T=new cw;return Object.assign(T,b),T})}else{const h=E6(this.apiClient,e);return d=ze("{model}:countTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=N6(g),T=new cw;return Object.assign(T,b),T})}}async computeTokens(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=y6(this.apiClient,e);return l=ze("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),a.then(p=>{const h=x6(p),g=new $k;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=rO(this.apiClient,e);return d=ze("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u.then(g=>{const b=iO(g),T=new Kd;return Object.assign(T,b),T})}else{const h=sO(this.apiClient,e);return d=ze("{model}:predictLongRunning",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const b=nO(g),T=new Kd;return Object.assign(T,b),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jL extends yr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=Ok(e);return d=ze("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),u}else{const h=Pk(e);return d=ze("{operationName}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=Ak(e);return l=ze("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ML(t){const e={},n=m(t,["data"]);if(n!=null&&y(e,["data"],n),m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function kL(t){const e={},n=m(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>HL(l))),y(e,["parts"],a)}const s=m(t,["role"]);return s!=null&&y(e,["role"],s),e}function DL(t,e,n){const s={},a=m(e,["expireTime"]);n!==void 0&&a!=null&&y(n,["expireTime"],a);const l=m(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&y(n,["newSessionExpireTime"],l);const u=m(e,["uses"]);n!==void 0&&u!=null&&y(n,["uses"],u);const d=m(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&y(n,["bidiGenerateContentSetup"],FL(t,d));const p=m(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&y(n,["fieldMask"],p),s}function PL(t,e){const n={},s=m(e,["config"]);return s!=null&&y(n,["config"],DL(t,s,n)),n}function OL(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const s=m(t,["mimeType"]);return s!=null&&y(e,["mimeType"],s),e}function LL(t){const e={},n=m(t,["id"]);n!=null&&y(e,["id"],n);const s=m(t,["args"]);s!=null&&y(e,["args"],s);const a=m(t,["name"]);if(a!=null&&y(e,["name"],a),m(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(m(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UL(t){const e={};if(m(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=m(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function VL(t){const e={};if(m(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(m(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=m(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function zL(t,e){const n={},s=m(t,["generationConfig"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig"],s);const a=m(t,["responseModalities"]);e!==void 0&&a!=null&&y(e,["setup","generationConfig","responseModalities"],a);const l=m(t,["temperature"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","temperature"],l);const u=m(t,["topP"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topP"],u);const d=m(t,["topK"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","topK"],d);const p=m(t,["maxOutputTokens"]);e!==void 0&&p!=null&&y(e,["setup","generationConfig","maxOutputTokens"],p);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","mediaResolution"],h);const g=m(t,["seed"]);e!==void 0&&g!=null&&y(e,["setup","generationConfig","seed"],g);const b=m(t,["speechConfig"]);e!==void 0&&b!=null&&y(e,["setup","generationConfig","speechConfig"],V0(b));const T=m(t,["thinkingConfig"]);e!==void 0&&T!=null&&y(e,["setup","generationConfig","thinkingConfig"],T);const S=m(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],S);const j=m(t,["systemInstruction"]);e!==void 0&&j!=null&&y(e,["setup","systemInstruction"],kL(ai(j)));const N=m(t,["tools"]);if(e!==void 0&&N!=null){let K=Cl(N);Array.isArray(K)&&(K=K.map(te=>GL(Nl(te)))),y(e,["setup","tools"],K)}const P=m(t,["sessionResumption"]);e!==void 0&&P!=null&&y(e,["setup","sessionResumption"],BL(P));const V=m(t,["inputAudioTranscription"]);e!==void 0&&V!=null&&y(e,["setup","inputAudioTranscription"],V);const D=m(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&y(e,["setup","outputAudioTranscription"],D);const k=m(t,["realtimeInputConfig"]);e!==void 0&&k!=null&&y(e,["setup","realtimeInputConfig"],k);const G=m(t,["contextWindowCompression"]);e!==void 0&&G!=null&&y(e,["setup","contextWindowCompression"],G);const J=m(t,["proactivity"]);return e!==void 0&&J!=null&&y(e,["setup","proactivity"],J),n}function FL(t,e){const n={},s=m(e,["model"]);s!=null&&y(n,["setup","model"],qt(t,s));const a=m(e,["config"]);return a!=null&&y(n,["config"],zL(a,n)),n}function HL(t){const e={},n=m(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const s=m(t,["codeExecutionResult"]);s!=null&&y(e,["codeExecutionResult"],s);const a=m(t,["executableCode"]);a!=null&&y(e,["executableCode"],a);const l=m(t,["fileData"]);l!=null&&y(e,["fileData"],OL(l));const u=m(t,["functionCall"]);u!=null&&y(e,["functionCall"],LL(u));const d=m(t,["functionResponse"]);d!=null&&y(e,["functionResponse"],d);const p=m(t,["inlineData"]);p!=null&&y(e,["inlineData"],ML(p));const h=m(t,["text"]);h!=null&&y(e,["text"],h);const g=m(t,["thought"]);g!=null&&y(e,["thought"],g);const b=m(t,["thoughtSignature"]);b!=null&&y(e,["thoughtSignature"],b);const T=m(t,["videoMetadata"]);return T!=null&&y(e,["videoMetadata"],T),e}function BL(t){const e={},n=m(t,["handle"]);if(n!=null&&y(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GL(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),y(e,["functionDeclarations"],g)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=m(t,["googleSearchRetrieval"]);s!=null&&y(e,["googleSearchRetrieval"],s);const a=m(t,["computerUse"]);a!=null&&y(e,["computerUse"],a);const l=m(t,["fileSearch"]);l!=null&&y(e,["fileSearch"],l);const u=m(t,["codeExecution"]);if(u!=null&&y(e,["codeExecution"],u),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=m(t,["googleMaps"]);d!=null&&y(e,["googleMaps"],UL(d));const p=m(t,["googleSearch"]);p!=null&&y(e,["googleSearch"],VL(p));const h=m(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qL(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(l=>`${n}.${l}`);e.push(...a)}else e.push(n)}return e.join(",")}function $L(t,e){let n=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const l=qL(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];a.length>0&&(d=a.map(h=>u.includes(h)?`generationConfig.${h}`:h));const p=[];l&&p.push(l),d.length>0&&p.push(...d),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class YL extends yr{constructor(e){super(),this.apiClient=e}async create(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=PL(this.apiClient,e);l=ze("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const p=$L(d,e.config);return a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WL(t,e){const n={},s=m(t,["displayName"]);return e!==void 0&&s!=null&&y(e,["displayName"],s),n}function KL(t){const e={},n=m(t,["config"]);return n!=null&&WL(n,e),e}function JL(t,e){const n={},s=m(t,["force"]);return e!==void 0&&s!=null&&y(e,["_query","force"],s),n}function XL(t){const e={},n=m(t,["name"]);n!=null&&y(e,["_url","name"],n);const s=m(t,["config"]);return s!=null&&JL(s,e),e}function QL(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function ZL(t,e){const n={},s=m(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),y(e,["customMetadata"],l)}const a=m(t,["chunkingConfig"]);return e!==void 0&&a!=null&&y(e,["chunkingConfig"],a),n}function e8(t){const e={},n=m(t,["name"]);n!=null&&y(e,["name"],n);const s=m(t,["metadata"]);s!=null&&y(e,["metadata"],s);const a=m(t,["done"]);a!=null&&y(e,["done"],a);const l=m(t,["error"]);l!=null&&y(e,["error"],l);const u=m(t,["response"]);return u!=null&&y(e,["response"],n8(u)),e}function t8(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const s=m(t,["fileName"]);s!=null&&y(e,["fileName"],s);const a=m(t,["config"]);return a!=null&&ZL(a,e),e}function n8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["parent"]);s!=null&&y(e,["parent"],s);const a=m(t,["documentName"]);return a!=null&&y(e,["documentName"],a),e}function i8(t,e){const n={},s=m(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=m(t,["pageToken"]);return e!==void 0&&a!=null&&y(e,["_query","pageToken"],a),n}function s8(t){const e={},n=m(t,["config"]);return n!=null&&i8(n,e),e}function r8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["nextPageToken"]);s!=null&&y(e,["nextPageToken"],s);const a=m(t,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),y(e,["fileSearchStores"],l)}return e}function a8(t,e){const n={},s=m(t,["mimeType"]);e!==void 0&&s!=null&&y(e,["mimeType"],s);const a=m(t,["displayName"]);e!==void 0&&a!=null&&y(e,["displayName"],a);const l=m(t,["customMetadata"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(p=>p)),y(e,["customMetadata"],d)}const u=m(t,["chunkingConfig"]);return e!==void 0&&u!=null&&y(e,["chunkingConfig"],u),n}function o8(t){const e={},n=m(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const s=m(t,["config"]);return s!=null&&a8(s,e),e}function l8(t){const e={},n=m(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c8(t,e){const n={},s=m(t,["force"]);return e!==void 0&&s!=null&&y(e,["_query","force"],s),n}function u8(t){const e={},n=m(t,["name"]);n!=null&&y(e,["_url","name"],n);const s=m(t,["config"]);return s!=null&&c8(s,e),e}function d8(t){const e={},n=m(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function f8(t,e){const n={},s=m(t,["pageSize"]);e!==void 0&&s!=null&&y(e,["_query","pageSize"],s);const a=m(t,["pageToken"]);return e!==void 0&&a!=null&&y(e,["_query","pageToken"],a),n}function h8(t){const e={},n=m(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const s=m(t,["config"]);return s!=null&&f8(s,e),e}function p8(t){const e={},n=m(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const s=m(t,["nextPageToken"]);s!=null&&y(e,["nextPageToken"],s);const a=m(t,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>u)),y(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m8 extends yr{constructor(e){super(),this.apiClient=e,this.list=async n=>new eo(gr.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=d8(e);return l=ze("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async delete(e){var n,s;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=u8(e);a=ze("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=h8(e);return l=ze("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>{const h=p8(p),g=new Yk;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g8 extends yr{constructor(e,n=new m8(e)){super(),this.apiClient=e,this.documents=n,this.list=async(s={})=>new eo(gr.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=KL(e);return l=ze("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async get(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=QL(e);return l=ze("{name}",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>p)}}async delete(e){var n,s;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=XL(e);a=ze("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=s8(e);return l=ze("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>{const h=r8(p),g=new Wk;return Object.assign(g,h),g})}}async uploadToFileSearchStoreInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=o8(e);return l=ze("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>{const h=l8(p),g=new Kk;return Object.assign(g,h),g})}}async importFile(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=t8(e);return l=ze("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>{const h=e8(p),g=new D0;return Object.assign(g,h),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y8(t,e){const n={},s=m(t,["name"]);return s!=null&&y(n,["_url","name"],s),n}function x8(t,e){const n={},s=m(t,["name"]);return s!=null&&y(n,["_url","name"],s),n}function v8(t,e,n){const s={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=m(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&y(e,["displayName"],a),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=m(t,["epochCount"]);e!==void 0&&l!=null&&y(e,["tuningTask","hyperparameters","epochCount"],l);const u=m(t,["learningRateMultiplier"]);if(u!=null&&y(s,["tuningTask","hyperparameters","learningRateMultiplier"],u),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=m(t,["batchSize"]);e!==void 0&&d!=null&&y(e,["tuningTask","hyperparameters","batchSize"],d);const p=m(t,["learningRate"]);if(e!==void 0&&p!=null&&y(e,["tuningTask","hyperparameters","learningRate"],p),m(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(m(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function b8(t,e,n){const s={};let a=m(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const S=m(t,["validationDataset"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec"],jw(S))}else if(a==="PREFERENCE_TUNING"){const S=m(t,["validationDataset"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec"],jw(S))}const l=m(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&y(e,["tunedModelDisplayName"],l);const u=m(t,["description"]);e!==void 0&&u!=null&&y(e,["description"],u);let d=m(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const S=m(t,["epochCount"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(d==="PREFERENCE_TUNING"){const S=m(t,["epochCount"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let p=m(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const S=m(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(p==="PREFERENCE_TUNING"){const S=m(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let h=m(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const S=m(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(h==="PREFERENCE_TUNING"){const S=m(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let g=m(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=m(t,["adapterSize"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(g==="PREFERENCE_TUNING"){const S=m(t,["adapterSize"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(m(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=m(t,["labels"]);e!==void 0&&b!=null&&y(e,["labels"],b);const T=m(t,["beta"]);return e!==void 0&&T!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),s}function w8(t,e){const n={},s=m(t,["baseModel"]);s!=null&&y(n,["baseModel"],s);const a=m(t,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const l=m(t,["trainingDataset"]);l!=null&&M8(l);const u=m(t,["config"]);return u!=null&&v8(u,n),n}function _8(t,e){const n={},s=m(t,["baseModel"]);s!=null&&y(n,["baseModel"],s);const a=m(t,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const l=m(t,["trainingDataset"]);l!=null&&k8(l,n,e);const u=m(t,["config"]);return u!=null&&b8(u,n,e),n}function T8(t,e){const n={},s=m(t,["name"]);return s!=null&&y(n,["_url","name"],s),n}function E8(t,e){const n={},s=m(t,["name"]);return s!=null&&y(n,["_url","name"],s),n}function S8(t,e,n){const s={},a=m(t,["pageSize"]);e!==void 0&&a!=null&&y(e,["_query","pageSize"],a);const l=m(t,["pageToken"]);e!==void 0&&l!=null&&y(e,["_query","pageToken"],l);const u=m(t,["filter"]);return e!==void 0&&u!=null&&y(e,["_query","filter"],u),s}function N8(t,e,n){const s={},a=m(t,["pageSize"]);e!==void 0&&a!=null&&y(e,["_query","pageSize"],a);const l=m(t,["pageToken"]);e!==void 0&&l!=null&&y(e,["_query","pageToken"],l);const u=m(t,["filter"]);return e!==void 0&&u!=null&&y(e,["_query","filter"],u),s}function C8(t,e){const n={},s=m(t,["config"]);return s!=null&&S8(s,n),n}function A8(t,e){const n={},s=m(t,["config"]);return s!=null&&N8(s,n),n}function R8(t,e){const n={},s=m(t,["sdkHttpResponse"]);s!=null&&y(n,["sdkHttpResponse"],s);const a=m(t,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=m(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>NT(d))),y(n,["tuningJobs"],u)}return n}function I8(t,e){const n={},s=m(t,["sdkHttpResponse"]);s!=null&&y(n,["sdkHttpResponse"],s);const a=m(t,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=m(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Lm(d))),y(n,["tuningJobs"],u)}return n}function j8(t,e){const n={},s=m(t,["name"]);s!=null&&y(n,["model"],s);const a=m(t,["name"]);return a!=null&&y(n,["endpoint"],a),n}function M8(t,e){const n={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(m(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=m(t,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["examples","examples"],a)}return n}function k8(t,e,n){const s={};let a=m(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=m(t,["gcsUri"]);e!==void 0&&u!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=m(t,["gcsUri"]);e!==void 0&&u!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=m(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=m(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=m(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function NT(t,e){const n={},s=m(t,["sdkHttpResponse"]);s!=null&&y(n,["sdkHttpResponse"],s);const a=m(t,["name"]);a!=null&&y(n,["name"],a);const l=m(t,["state"]);l!=null&&y(n,["state"],oT(l));const u=m(t,["createTime"]);u!=null&&y(n,["createTime"],u);const d=m(t,["tuningTask","startTime"]);d!=null&&y(n,["startTime"],d);const p=m(t,["tuningTask","completeTime"]);p!=null&&y(n,["endTime"],p);const h=m(t,["updateTime"]);h!=null&&y(n,["updateTime"],h);const g=m(t,["description"]);g!=null&&y(n,["description"],g);const b=m(t,["baseModel"]);b!=null&&y(n,["baseModel"],b);const T=m(t,["_self"]);return T!=null&&y(n,["tunedModel"],j8(T)),n}function Lm(t,e){const n={},s=m(t,["sdkHttpResponse"]);s!=null&&y(n,["sdkHttpResponse"],s);const a=m(t,["name"]);a!=null&&y(n,["name"],a);const l=m(t,["state"]);l!=null&&y(n,["state"],oT(l));const u=m(t,["createTime"]);u!=null&&y(n,["createTime"],u);const d=m(t,["startTime"]);d!=null&&y(n,["startTime"],d);const p=m(t,["endTime"]);p!=null&&y(n,["endTime"],p);const h=m(t,["updateTime"]);h!=null&&y(n,["updateTime"],h);const g=m(t,["error"]);g!=null&&y(n,["error"],g);const b=m(t,["description"]);b!=null&&y(n,["description"],b);const T=m(t,["baseModel"]);T!=null&&y(n,["baseModel"],T);const S=m(t,["tunedModel"]);S!=null&&y(n,["tunedModel"],S);const j=m(t,["preTunedModel"]);j!=null&&y(n,["preTunedModel"],j);const N=m(t,["supervisedTuningSpec"]);N!=null&&y(n,["supervisedTuningSpec"],N);const P=m(t,["preferenceOptimizationSpec"]);P!=null&&y(n,["preferenceOptimizationSpec"],P);const V=m(t,["tuningDataStats"]);V!=null&&y(n,["tuningDataStats"],V);const D=m(t,["encryptionSpec"]);D!=null&&y(n,["encryptionSpec"],D);const k=m(t,["partnerModelTuningSpec"]);k!=null&&y(n,["partnerModelTuningSpec"],k);const G=m(t,["customBaseModel"]);G!=null&&y(n,["customBaseModel"],G);const J=m(t,["experiment"]);J!=null&&y(n,["experiment"],J);const K=m(t,["labels"]);K!=null&&y(n,["labels"],K);const te=m(t,["outputUri"]);te!=null&&y(n,["outputUri"],te);const re=m(t,["pipelineJob"]);re!=null&&y(n,["pipelineJob"],re);const B=m(t,["serviceAccount"]);B!=null&&y(n,["serviceAccount"],B);const oe=m(t,["tunedModelDisplayName"]);oe!=null&&y(n,["tunedModelDisplayName"],oe);const $=m(t,["veoTuningSpec"]);return $!=null&&y(n,["veoTuningSpec"],$),n}function D8(t,e){const n={},s=m(t,["sdkHttpResponse"]);s!=null&&y(n,["sdkHttpResponse"],s);const a=m(t,["name"]);a!=null&&y(n,["name"],a);const l=m(t,["metadata"]);l!=null&&y(n,["metadata"],l);const u=m(t,["done"]);u!=null&&y(n,["done"],u);const d=m(t,["error"]);return d!=null&&y(n,["error"],d),n}function jw(t,e){const n={},s=m(t,["gcsUri"]);s!=null&&y(n,["validationDatasetUri"],s);const a=m(t,["vertexDatasetResource"]);return a!=null&&y(n,["validationDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P8 extends yr{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new eo(gr.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),l=await this.tuneMldevInternal(a);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:Im.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=E8(e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>Lm(g))}else{const h=T8(e);return d=ze("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>NT(g))}}async listInternal(e){var n,s,a,l;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=A8(e);return d=ze("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=I8(g),T=new uw;return Object.assign(T,b),T})}else{const h=C8(e);return d=ze("tunedModels",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const T=b;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const b=R8(g),T=new uw;return Object.assign(T,b),T})}}async cancel(e){var n,s,a,l;let u="",d={};if(this.apiClient.isVertexAI()){const p=x8(e);u=ze("{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const p=y8(e);u=ze("{name}:cancel",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async tuneInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI()){const d=_8(e,e);return l=ze("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),a.then(p=>Lm(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let a,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=w8(e);return l=ze("tunedModels",d._url),u=d._query,delete d._url,delete d._query,a=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:p.headers},g})),a.then(p=>D8(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O8{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const L8=1024*1024*8,U8=3,V8=1e3,z8=2,Xd="x-goog-upload-status";async function F8(t,e,n){var s;const a=await CT(t,e,n),l=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Xd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function H8(t,e,n){var s;const a=await CT(t,e,n),l=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Xd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=tT(l),d=new P0;return Object.assign(d,u),d}async function CT(t,e,n){var s,a;let l=0,u=0,d=new jm(new Response),p="upload";for(l=t.size;u<l;){const h=Math.min(L8,l-u),g=t.slice(u,u+h);u+h>=l&&(p+=", finalize");let b=0,T=V8;for(;b<U8&&(d=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((s=d==null?void 0:d.headers)===null||s===void 0)&&s[Xd]));)b++,await G8(T),T=T*z8;if(u+=h,((a=d==null?void 0:d.headers)===null||a===void 0?void 0:a[Xd])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function B8(t){return{size:t.size,type:t.type}}function G8(t){return new Promise(e=>setTimeout(e,t))}class q8{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await F8(e,n,s)}async uploadToFileSearchStore(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await H8(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await B8(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $8{create(e,n,s){return new Y8(e,n,s)}}class Y8{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mw="x-goog-api-key";class W8{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Mw)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Mw,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const K8="gl-node/";class J8{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=Nk(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const a=new W8(this.apiKey);this.apiClient=new dL({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:K8+"web",uploader:new q8,downloader:new O8}),this.models=new IL(this.apiClient),this.live=new EL(this.apiClient,a,new $8),this.batches=new tP(this.apiClient),this.chats=new OP(this.models,this.apiClient),this.caches=new kP(this.apiClient),this.files=new $P(this.apiClient),this.operations=new jL(this.apiClient),this.authTokens=new YL(this.apiClient),this.tunings=new P8(this.apiClient),this.fileSearchStores=new g8(this.apiClient)}}const AT="";let Yp=null;const X8=()=>(Yp||(Yp=new J8({apiKey:AT})),Yp),Q8=async(t,e,n)=>{try{if(!AT)return"!   ,   !  .";const s=X8(),a=`
         , -.
      
       -:  (Google Learning Concept).
         : "${n}".
      
        ,   ,    .
        "" ->   ,   "", "", "".
        "" ->   ,   "", " ".
        "" ->   "XP", "", "".
      
       ,   .
      
       : ${e}
    `;return(await s.models.generateContent({model:"gemini-2.5-flash",contents:t,config:{systemInstruction:a}})).text||" ,    !"}catch(s){return console.error("Gemini API Error:",s),"  .   !"}};var Wp={},Od={exports:{}},Z8=Od.exports,kw;function eU(){return kw||(kw=1,(function(t,e){(function(s,a){t.exports=a()})(Z8,()=>(()=>{var n=[,((u,d,p)=>{p.r(d),p.d(d,{default:()=>g});var h=(()=>{var T;var b=typeof document<"u"?(T=document.currentScript)==null?void 0:T.src:void 0;return(function(S={}){var j,N=S,P,V,D=new Promise((v,w)=>{P=v,V=w}),k=typeof window=="object",G=typeof importScripts=="function";function J(){function v(le){const se=I;A=w=0,I=new Map,se.forEach(ve=>{try{ve(le)}catch(ge){console.error(ge)}}),this.nb(),U&&U.Pb()}let w=0,A=0,I=new Map,U=null,q=null;this.requestAnimationFrame=function(le){w||(w=requestAnimationFrame(v.bind(this)));const se=++A;return I.set(se,le),se},this.cancelAnimationFrame=function(le){I.delete(le),w&&I.size==0&&(cancelAnimationFrame(w),w=0)},this.Nb=function(le){q&&(document.body.remove(q),q=null),le||(q=document.createElement("div"),q.style.backgroundColor="black",q.style.position="fixed",q.style.right=0,q.style.top=0,q.style.color="white",q.style.padding="4px",q.innerHTML="RIVE FPS",le=function(se){q.innerHTML="RIVE FPS "+se.toFixed(1)},document.body.appendChild(q)),U=new function(){let se=0,ve=0;this.Pb=function(){var ge=performance.now();ve?(++se,ge-=ve,1e3<ge&&(le(1e3*se/ge),se=ve=0)):(ve=ge,se=0)}}},this.Kb=function(){q&&(document.body.remove(q),q=null),U=null},this.nb=function(){}}function K(v){console.assert(!0);const w=new Map;let A=-1/0;this.push=function(I){return I=I+((1<<v)-1)>>v,w.has(I)&&clearTimeout(w.get(I)),w.set(I,setTimeout(function(){w.delete(I),w.length==0?A=-1/0:I==A&&(A=Math.max(...w.keys()),console.assert(A<I))},1e3)),A=Math.max(I,A),A<<v}}const te=N.onRuntimeInitialized;N.onRuntimeInitialized=function(){te&&te();let v=N.decodeAudio;N.decodeAudio=function(U,q){U=v(U),q(U)};let w=N.decodeFont;N.decodeFont=function(U,q){U=w(U),q(U)};const A=N.FileAssetLoader;N.ptrToAsset=U=>{let q=N.ptrToFileAsset(U);return q.isImage?N.ptrToImageAsset(U):q.isFont?N.ptrToFontAsset(U):q.isAudio?N.ptrToAudioAsset(U):q},N.CustomFileAssetLoader=A.extend("CustomFileAssetLoader",{__construct:function({loadContents:U}){this.__parent.__construct.call(this),this.Db=U},loadContents:function(U,q){return U=N.ptrToAsset(U),this.Db(U,q)}}),N.CDNFileAssetLoader=A.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(U){let q=N.ptrToAsset(U);return U=q.cdnUuid,U===""?!1:((function(le,se){var ve=new XMLHttpRequest;ve.responseType="arraybuffer",ve.onreadystatechange=function(){ve.readyState==4&&ve.status==200&&se(ve)},ve.open("GET",le,!0),ve.send(null)})(q.cdnBaseUrl+"/"+U,le=>{q.decode(new Uint8Array(le.response))}),!0)}}),N.FallbackFileAssetLoader=A.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.jb=[]},addLoader:function(U){this.jb.push(U)},loadContents:function(U,q){for(let le of this.jb)if(le.loadContents(U,q))return!0;return!1}});let I=N.computeAlignment;N.computeAlignment=function(U,q,le,se,ve=1){return I.call(this,U,q,le,se,ve)}};const re="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),B=new function(){function v(){if(!w){let yt=function(_t,Ve,Yt){if(Ve=Ce.createShader(Ve),Ce.shaderSource(Ve,Yt),Ce.compileShader(Ve),Yt=Ce.getShaderInfoLog(Ve),0<(Yt||"").length)throw Yt;Ce.attachShader(_t,Ve)};var ue=document.createElement("canvas"),ke={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let Ce;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(Ce=ue.getContext("webgl",ke),A=1,!Ce)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(Ce=ue.getContext("webgl2",ke))A=2;else if(Ce=ue.getContext("webgl",ke))A=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(Ce=new Proxy(Ce,{get(_t,Ve){if(_t.isContextLost()){if(ve||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",Ve),ve=!0),typeof _t[Ve]=="function")return function(){}}else return typeof _t[Ve]=="function"?function(...Yt){return _t[Ve].apply(_t,Yt)}:_t[Ve]},set(_t,Ve,Yt){if(_t.isContextLost())ve||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+Ve),ve=!0);else return _t[Ve]=Yt,!0}}),I=Math.min(Ce.getParameter(Ce.MAX_RENDERBUFFER_SIZE),Ce.getParameter(Ce.MAX_TEXTURE_SIZE)),ue=Ce.createProgram(),yt(ue,Ce.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),yt(ue,Ce.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),Ce.bindAttribLocation(ue,0,"vertex"),Ce.bindAttribLocation(ue,1,"uv"),Ce.linkProgram(ue),ke=Ce.getProgramInfoLog(ue),0<(ke||"").trim().length)throw ke;U=Ce.getUniformLocation(ue,"mat"),q=Ce.getUniformLocation(ue,"translate"),Ce.useProgram(ue),Ce.bindBuffer(Ce.ARRAY_BUFFER,Ce.createBuffer()),Ce.enableVertexAttribArray(0),Ce.enableVertexAttribArray(1),Ce.bindBuffer(Ce.ELEMENT_ARRAY_BUFFER,Ce.createBuffer()),Ce.uniform1i(Ce.getUniformLocation(ue,"image"),0),Ce.pixelStorei(Ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),w=Ce}return!0}let w=null,A=0,I=0,U=null,q=null,le=0,se=0,ve=!1;v(),this.ac=function(){return v(),I},this.Jb=function(ue){w.deleteTexture&&w.deleteTexture(ue)},this.Ib=function(ue){if(!v())return null;const ke=w.createTexture();return ke?(w.bindTexture(w.TEXTURE_2D,ke),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,ue),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.LINEAR),A==2?(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR_MIPMAP_LINEAR),w.generateMipmap(w.TEXTURE_2D)):w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.LINEAR),ke):null};const ge=new K(8),je=new K(8),He=new K(10),$e=new K(10);this.Mb=function(ue,ke,Ce,yt,_t){if(v()){var Ve=ge.push(ue),Yt=je.push(ke);if(w.canvas){(w.canvas.width!=Ve||w.canvas.height!=Yt)&&(w.canvas.width=Ve,w.canvas.height=Yt),w.viewport(0,Yt-ke,ue,ke),w.disable(w.SCISSOR_TEST),w.clearColor(0,0,0,0),w.clear(w.COLOR_BUFFER_BIT),w.enable(w.SCISSOR_TEST),Ce.sort((Mt,$n)=>$n.ub-Mt.ub),Ve=He.push(yt),le!=Ve&&(w.bufferData(w.ARRAY_BUFFER,8*Ve,w.DYNAMIC_DRAW),le=Ve),Ve=0;for(var an of Ce)w.bufferSubData(w.ARRAY_BUFFER,Ve,an.Sa),Ve+=4*an.Sa.length;console.assert(Ve==4*yt);for(var Pn of Ce)w.bufferSubData(w.ARRAY_BUFFER,Ve,Pn.Ab),Ve+=4*Pn.Ab.length;console.assert(Ve==8*yt),Ve=$e.push(_t),se!=Ve&&(w.bufferData(w.ELEMENT_ARRAY_BUFFER,2*Ve,w.DYNAMIC_DRAW),se=Ve),an=0;for(var rs of Ce)w.bufferSubData(w.ELEMENT_ARRAY_BUFFER,an,rs.indices),an+=2*rs.indices.length;console.assert(an==2*_t),rs=0,Pn=!0,Ve=an=0;for(const Mt of Ce){Mt.image.Ia!=rs&&(w.bindTexture(w.TEXTURE_2D,Mt.image.Ha||null),rs=Mt.image.Ia),Mt.fc?(w.scissor(Mt.Ya,Yt-Mt.Za-Mt.ib,Mt.tc,Mt.ib),Pn=!0):Pn&&(w.scissor(0,Yt-ke,ue,ke),Pn=!1),Ce=2/ue;const $n=-2/ke;w.uniform4f(U,Mt.ga[0]*Ce*Mt.za,Mt.ga[1]*$n*Mt.Aa,Mt.ga[2]*Ce*Mt.za,Mt.ga[3]*$n*Mt.Aa),w.uniform2f(q,Mt.ga[4]*Ce*Mt.za+Ce*(Mt.Ya-Mt.bc*Mt.za)-1,Mt.ga[5]*$n*Mt.Aa+$n*(Mt.Za-Mt.cc*Mt.Aa)+1),w.vertexAttribPointer(0,2,w.FLOAT,!1,0,Ve),w.vertexAttribPointer(1,2,w.FLOAT,!1,0,Ve+4*yt),w.drawElements(w.TRIANGLES,Mt.indices.length,w.UNSIGNED_SHORT,an),Ve+=4*Mt.Sa.length,an+=2*Mt.indices.length}console.assert(Ve==4*yt),console.assert(an==2*_t)}}},this.canvas=function(){return v()&&w.canvas}},oe=N.onRuntimeInitialized;N.onRuntimeInitialized=function(){function v(Ie){switch(Ie){case ge.srcOver:return"source-over";case ge.screen:return"screen";case ge.overlay:return"overlay";case ge.darken:return"darken";case ge.lighten:return"lighten";case ge.colorDodge:return"color-dodge";case ge.colorBurn:return"color-burn";case ge.hardLight:return"hard-light";case ge.softLight:return"soft-light";case ge.difference:return"difference";case ge.exclusion:return"exclusion";case ge.multiply:return"multiply";case ge.hue:return"hue";case ge.saturation:return"saturation";case ge.color:return"color";case ge.luminosity:return"luminosity"}}function w(Ie){return"rgba("+((16711680&Ie)>>>16)+","+((65280&Ie)>>>8)+","+((255&Ie)>>>0)+","+((4278190080&Ie)>>>24)/255+")"}function A(){0<Yt.length&&(B.Mb(Ve.drawWidth(),Ve.drawHeight(),Yt,an,Pn),Yt=[],Pn=an=0,Ve.reset(512,512));for(const Ie of _t){for(const Oe of Ie.H)Oe();Ie.H=[]}_t.clear()}oe&&oe();var I=N.RenderPaintStyle;const U=N.RenderPath,q=N.RenderPaint,le=N.Renderer,se=N.StrokeCap,ve=N.StrokeJoin,ge=N.BlendMode,je=I.fill,He=I.stroke,$e=N.FillRule.evenOdd;let ue=1;var ke=N.RenderImage.extend("CanvasRenderImage",{__construct:function({ka:Ie,va:Oe}={}){this.__parent.__construct.call(this),this.Ia=ue,ue=ue+1&2147483647||1,this.ka=Ie,this.va=Oe},__destruct:function(){this.Ha&&(B.Jb(this.Ha),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(Ie){var Oe=this;Oe.va&&Oe.va(Oe);var Rt=new Image;Oe.Va=URL.createObjectURL(new Blob([Ie],{type:"image/png"})),Rt.onload=function(){Oe.Cb=Rt,Oe.Ha=B.Ib(Rt),Oe.size(Rt.width,Rt.height),Oe.ka&&Oe.ka(Oe)},Rt.src=Oe.Va}}),Ce=U.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(Ie,Oe,Rt,Pt,bt,It,Vt){var zt=this.T,xn=zt.addPath;Ie=Ie.T;const vn=new DOMMatrix;vn.a=Oe,vn.b=Rt,vn.c=Pt,vn.d=bt,vn.e=It,vn.f=Vt,xn.call(zt,Ie,vn)},fillRule:function(Ie){this.Ua=Ie},moveTo:function(Ie,Oe){this.T.moveTo(Ie,Oe)},lineTo:function(Ie,Oe){this.T.lineTo(Ie,Oe)},cubicTo:function(Ie,Oe,Rt,Pt,bt,It){this.T.bezierCurveTo(Ie,Oe,Rt,Pt,bt,It)},close:function(){this.T.closePath()}}),yt=q.extend("CanvasRenderPaint",{color:function(Ie){this.Wa=w(Ie)},thickness:function(Ie){this.Fb=Ie},join:function(Ie){switch(Ie){case ve.miter:this.Ga="miter";break;case ve.round:this.Ga="round";break;case ve.bevel:this.Ga="bevel"}},cap:function(Ie){switch(Ie){case se.butt:this.Fa="butt";break;case se.round:this.Fa="round";break;case se.square:this.Fa="square"}},style:function(Ie){this.Eb=Ie},blendMode:function(Ie){this.Bb=v(Ie)},clearGradient:function(){this.ia=null},linearGradient:function(Ie,Oe,Rt,Pt){this.ia={wb:Ie,xb:Oe,bb:Rt,cb:Pt,Pa:[]}},radialGradient:function(Ie,Oe,Rt,Pt){this.ia={wb:Ie,xb:Oe,bb:Rt,cb:Pt,Pa:[],$b:!0}},addStop:function(Ie,Oe){this.ia.Pa.push({color:Ie,stop:Oe})},completeGradient:function(){},draw:function(Ie,Oe,Rt){let Pt=this.Eb;var bt=this.Wa,It=this.ia;if(Ie.globalCompositeOperation=this.Bb,It!=null){bt=It.wb;var Vt=It.xb;const xn=It.bb;var zt=It.cb;const vn=It.Pa;It.$b?(It=xn-bt,zt-=Vt,bt=Ie.createRadialGradient(bt,Vt,0,bt,Vt,Math.sqrt(It*It+zt*zt))):bt=Ie.createLinearGradient(bt,Vt,xn,zt);for(let ln=0,cn=vn.length;ln<cn;ln++)Vt=vn[ln],bt.addColorStop(Vt.stop,w(Vt.color));this.Wa=bt,this.ia=null}switch(Pt){case He:Ie.strokeStyle=bt,Ie.lineWidth=this.Fb,Ie.lineCap=this.Fa,Ie.lineJoin=this.Ga,Ie.stroke(Oe);break;case je:Ie.fillStyle=bt,Ie.fill(Oe,Rt)}}});const _t=new Set;let Ve=null,Yt=[],an=0,Pn=0;var rs=N.CanvasRenderer=le.extend("Renderer",{__construct:function(Ie){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.B=Ie.getContext("2d"),this.Ta=Ie,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.B.save.bind(this.B))},restore:function(){const Ie=this.S.length-6;if(6>Ie)throw"restore() called without matching save().";this.S.splice(Ie),this.H.push(this.B.restore.bind(this.B))},transform:function(Ie,Oe,Rt,Pt,bt,It){const Vt=this.S,zt=Vt.length-6;Vt.splice(zt,6,Vt[zt]*Ie+Vt[zt+2]*Oe,Vt[zt+1]*Ie+Vt[zt+3]*Oe,Vt[zt]*Rt+Vt[zt+2]*Pt,Vt[zt+1]*Rt+Vt[zt+3]*Pt,Vt[zt]*bt+Vt[zt+2]*It+Vt[zt+4],Vt[zt+1]*bt+Vt[zt+3]*It+Vt[zt+5]),this.H.push(this.B.transform.bind(this.B,Ie,Oe,Rt,Pt,bt,It))},rotate:function(Ie){const Oe=Math.sin(Ie);Ie=Math.cos(Ie),this.transform(Ie,Oe,-Oe,Ie,0,0)},_drawPath:function(Ie,Oe){this.H.push(Oe.draw.bind(Oe,this.B,Ie.T,Ie.Ua===$e?"evenodd":"nonzero"))},_drawRiveImage:function(Ie,Oe,Rt,Pt){var bt=Ie.Cb;if(bt){var It=this.B,Vt=v(Rt);this.H.push(function(){It.globalCompositeOperation=Vt,It.globalAlpha=Pt,It.drawImage(bt,0,0),It.globalAlpha=1})}},_getMatrix:function(Ie){const Oe=this.S,Rt=Oe.length-6;for(let Pt=0;6>Pt;++Pt)Ie[Pt]=Oe[Rt+Pt]},_drawImageMesh:function(Ie,Oe,Rt,Pt,bt,It,Vt,zt,xn,vn,ln){Oe=this.B.canvas.width;var cn=this.B.canvas.height;const To=vn-zt,Ta=ln-xn;zt=Math.max(zt,0),xn=Math.max(xn,0),vn=Math.min(vn,Oe),ln=Math.min(ln,cn);const Es=vn-zt,Ys=ln-xn;if(console.assert(Es<=Math.min(To,Oe)),console.assert(Ys<=Math.min(Ta,cn)),!(0>=Es||0>=Ys)){vn=Es<To||Ys<Ta,Oe=ln=1;var di=Math.ceil(Es*ln),Ss=Math.ceil(Ys*Oe);cn=B.ac(),di>cn&&(ln*=cn/di,di=cn),Ss>cn&&(Oe*=cn/Ss,Ss=cn),Ve||(Ve=new N.DynamicRectanizer(cn),Ve.reset(512,512)),cn=Ve.addRect(di,Ss),0>cn&&(A(),_t.add(this),cn=Ve.addRect(di,Ss),console.assert(0<=cn));var Ea=cn&65535,Ws=cn>>16;Yt.push({ga:this.S.slice(this.S.length-6),image:Ie,Ya:Ea,Za:Ws,bc:zt,cc:xn,tc:di,ib:Ss,za:ln,Aa:Oe,Sa:new Float32Array(bt),Ab:new Float32Array(It),indices:new Uint16Array(Vt),fc:vn,ub:Ie.Ia<<1|(vn?1:0)}),an+=bt.length,Pn+=Vt.length;var Cr=this.B,fi=v(Rt);this.H.push(function(){Cr.save(),Cr.resetTransform(),Cr.globalCompositeOperation=fi,Cr.globalAlpha=Pt;const Eo=B.canvas();Eo&&Cr.drawImage(Eo,Ea,Ws,di,Ss,zt,xn,Es,Ys),Cr.restore()})}},_clipPath:function(Ie){this.H.push(this.B.clip.bind(this.B,Ie.T,Ie.Ua===$e?"evenodd":"nonzero"))},clear:function(){_t.add(this),this.H.push(this.B.clearRect.bind(this.B,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(Ie,Oe){this.transform(1,0,0,1,Ie,Oe)}});N.makeRenderer=function(Ie){const Oe=new rs(Ie),Rt=Oe.B;return new Proxy(Oe,{get(Pt,bt){if(typeof Pt[bt]=="function")return function(...It){return Pt[bt].apply(Pt,It)};if(typeof Rt[bt]=="function"){if(-1<re.indexOf(bt))throw Error("RiveException: Method call to '"+bt+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...It){Oe.H.push(Rt[bt].bind(Rt,...It))}}return Pt[bt]},set(Pt,bt,It){if(bt in Rt)return Oe.H.push(()=>{Rt[bt]=It}),!0}})},N.decodeImage=function(Ie,Oe){new ke({ka:Oe}).decode(Ie)},N.renderFactory={makeRenderPaint:function(){return new yt},makeRenderPath:function(){return new Ce},makeRenderImage:function(){let Ie=$n;return new ke({va:()=>{Ie.total++},ka:()=>{if(Ie.loaded++,Ie.loaded===Ie.total){const Oe=Ie.ready;Oe&&(Oe(),Ie.ready=null)}}})}};let Mt=N.load,$n=null;N.load=function(Ie,Oe,Rt=!0){const Pt=new N.FallbackFileAssetLoader;return Oe!==void 0&&Pt.addLoader(Oe),Rt&&(Oe=new N.CDNFileAssetLoader,Pt.addLoader(Oe)),new Promise(function(bt){let It=null;$n={total:0,loaded:0,ready:function(){bt(It)}},It=Mt(Ie,Pt),$n.total==0&&bt(It)})};let xu=N.RendererWrapper.prototype.align;N.RendererWrapper.prototype.align=function(Ie,Oe,Rt,Pt,bt=1){xu.call(this,Ie,Oe,Rt,Pt,bt)},I=new J,N.requestAnimationFrame=I.requestAnimationFrame.bind(I),N.cancelAnimationFrame=I.cancelAnimationFrame.bind(I),N.enableFPSCounter=I.Nb.bind(I),N.disableFPSCounter=I.Kb,I.nb=A,N.resolveAnimationFrame=A,N.cleanup=function(){Ve&&Ve.delete()}};var $=Object.assign({},N),ce="./this.program",ee="",W,de;(k||G)&&(G?ee=self.location.href:typeof document<"u"&&document.currentScript&&(ee=document.currentScript.src),b&&(ee=b),ee.startsWith("blob:")?ee="":ee=ee.substr(0,ee.replace(/[?#].*/,"").lastIndexOf("/")+1),G&&(de=v=>{var w=new XMLHttpRequest;return w.open("GET",v,!1),w.responseType="arraybuffer",w.send(null),new Uint8Array(w.response)}),W=(v,w,A)=>{if(et(v)){var I=new XMLHttpRequest;I.open("GET",v,!0),I.responseType="arraybuffer",I.onload=()=>{I.status==200||I.status==0&&I.response?w(I.response):A()},I.onerror=A,I.send(null)}else fetch(v,{credentials:"same-origin"}).then(U=>U.ok?U.arrayBuffer():Promise.reject(Error(U.status+" : "+U.url))).then(w,A)});var Y=N.print||console.log.bind(console),Z=N.printErr||console.error.bind(console);Object.assign(N,$),$=null,N.thisProgram&&(ce=N.thisProgram);var Q;N.wasmBinary&&(Q=N.wasmBinary);var he,Ee=!1,F,ne,xe,Ae,Ne,Me,Qe,it;function ut(){var v=he.buffer;N.HEAP8=F=new Int8Array(v),N.HEAP16=xe=new Int16Array(v),N.HEAPU8=ne=new Uint8Array(v),N.HEAPU16=Ae=new Uint16Array(v),N.HEAP32=Ne=new Int32Array(v),N.HEAPU32=Me=new Uint32Array(v),N.HEAPF32=Qe=new Float32Array(v),N.HEAPF64=it=new Float64Array(v)}var gt=[],Ft=[],st=[];function mt(){var v=N.preRun.shift();gt.unshift(v)}var At=0,jt=null;function Ze(v){var w;throw(w=N.onAbort)==null||w.call(N,v),v="Aborted("+v+")",Z(v),Ee=!0,v=new WebAssembly.RuntimeError(v+". Build with -sASSERTIONS for more info."),V(v),v}var Xt=v=>v.startsWith("data:application/octet-stream;base64,"),et=v=>v.startsWith("file://"),De;function nn(v){if(v==De&&Q)return new Uint8Array(Q);if(de)return de(v);throw"both async and sync fetching of the wasm failed"}function sn(v){return Q?Promise.resolve().then(()=>nn(v)):new Promise((w,A)=>{W(v,I=>w(new Uint8Array(I)),()=>{try{w(nn(v))}catch(I){A(I)}})})}function gn(v,w,A){return sn(v).then(I=>WebAssembly.instantiate(I,w)).then(A,I=>{Z(`failed to asynchronously prepare wasm: ${I}`),Ze(I)})}function gi(v,w){var A=De;return Q||typeof WebAssembly.instantiateStreaming!="function"||Xt(A)||et(A)||typeof fetch!="function"?gn(A,v,w):fetch(A,{credentials:"same-origin"}).then(I=>WebAssembly.instantiateStreaming(I,v).then(w,function(U){return Z(`wasm streaming compile failed: ${U}`),Z("falling back to ArrayBuffer instantiation"),gn(A,v,w)}))}var Nt,lt,M={464256:(v,w,A,I,U)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={ya:0},window.h.I={},window.h.I.wa=v,window.h.I.capture=w,window.h.I.Ja=A,window.h.fa={},window.h.fa.stopped=I,window.h.fa.vb=U;let q=window.h;q.D=[],q.rc=function(le){for(var se=0;se<q.D.length;++se)if(q.D[se]==null)return q.D[se]=le,se;return q.D.push(le),q.D.length-1},q.zb=function(le){for(q.D[le]=null;0<q.D.length&&q.D[q.D.length-1]==null;)q.D.pop()},q.Oc=function(le){for(var se=0;se<q.D.length;++se)if(q.D[se]==le)return q.zb(se)},q.pa=function(le){return q.D[le]},q.Ra=["touchend","click"],q.unlock=function(){for(var le=0;le<q.D.length;++le){var se=q.D[le];se!=null&&se.K!=null&&se.state===q.fa.vb&&se.K.resume().then(()=>{Gl(se.ob)},ve=>{console.error("Failed to resume audiocontext",ve)})}q.Ra.map(function(ve){document.removeEventListener(ve,q.unlock,!0)})},q.Ra.map(function(le){document.addEventListener(le,q.unlock,!0)})}return window.h.ya+=1,1},466434:()=>{typeof window.h<"u"&&(window.h.Ra.map(function(v){document.removeEventListener(v,window.h.unlock,!0)}),--window.h.ya,window.h.ya===0&&delete window.h)},466738:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,466842:()=>{try{var v=new(window.AudioContext||window.webkitAudioContext),w=v.sampleRate;return v.close(),w}catch{return 0}},467013:(v,w,A,I,U,q)=>{if(typeof window.h>"u")return-1;var le={},se={};return v==window.h.I.wa&&A!=0&&(se.sampleRate=A),le.K=new(window.AudioContext||window.webkitAudioContext)(se),le.K.suspend(),le.state=window.h.fa.stopped,A=0,v!=window.h.I.wa&&(A=w),le.Y=le.K.createScriptProcessor(I,A,w),le.Y.onaudioprocess=function(ve){if((le.qa==null||le.qa.length==0)&&(le.qa=new Float32Array(Qe.buffer,U,I*w)),v==window.h.I.capture||v==window.h.I.Ja){for(var ge=0;ge<w;ge+=1)for(var je=ve.inputBuffer.getChannelData(ge),He=le.qa,$e=0;$e<I;$e+=1)He[$e*w+ge]=je[$e];ql(q,I,U)}if(v==window.h.I.wa||v==window.h.I.Ja)for(_o(q,I,U),ge=0;ge<ve.outputBuffer.numberOfChannels;++ge)for(je=ve.outputBuffer.getChannelData(ge),He=le.qa,$e=0;$e<I;$e+=1)je[$e]=He[$e*w+ge];else for(ge=0;ge<ve.outputBuffer.numberOfChannels;++ge)ve.outputBuffer.getChannelData(ge).fill(0)},v!=window.h.I.capture&&v!=window.h.I.Ja||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(ve){le.Ba=le.K.createMediaStreamSource(ve),le.Ba.connect(le.Y),le.Y.connect(le.K.destination)}).catch(function(ve){console.log("Failed to get user media: "+ve)}),v==window.h.I.wa&&le.Y.connect(le.K.destination),le.ob=q,window.h.rc(le)},469890:v=>window.h.pa(v).K.sampleRate,469963:v=>{v=window.h.pa(v),v.Y!==void 0&&(v.Y.onaudioprocess=function(){},v.Y.disconnect(),v.Y=void 0),v.Ba!==void 0&&(v.Ba.disconnect(),v.Ba=void 0),v.K.close(),v.K=void 0,v.ob=void 0},470363:v=>{window.h.zb(v)},470413:v=>{v=window.h.pa(v),v.K.resume(),v.state=window.h.fa.vb},470552:v=>{v=window.h.pa(v),v.K.suspend(),v.state=window.h.fa.stopped}},E=v=>{for(;0<v.length;)v.shift()(N)};function C(){var v=Ne[+fa>>2];return fa+=4,v}var z=(v,w)=>{for(var A=0,I=v.length-1;0<=I;I--){var U=v[I];U==="."?v.splice(I,1):U===".."?(v.splice(I,1),A++):A&&(v.splice(I,1),A--)}if(w)for(;A;A--)v.unshift("..");return v},ae=v=>{var w=v.charAt(0)==="/",A=v.substr(-1)==="/";return(v=z(v.split("/").filter(I=>!!I),!w).join("/"))||w||(v="."),v&&A&&(v+="/"),(w?"/":"")+v},be=v=>{var w=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(v).slice(1);return v=w[0],w=w[1],!v&&!w?".":(w&&(w=w.substr(0,w.length-1)),v+w)},Re=v=>{if(v==="/")return"/";v=ae(v),v=v.replace(/\/$/,"");var w=v.lastIndexOf("/");return w===-1?v:v.substr(w+1)},Ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return v=>crypto.getRandomValues(v);Ze("initRandomDevice")},Xe=v=>(Xe=Ke())(v),Ue=(...v)=>{for(var w="",A=!1,I=v.length-1;-1<=I&&!A;I--){if(A=0<=I?v[I]:"/",typeof A!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!A)return"";w=A+"/"+w,A=A.charAt(0)==="/"}return w=z(w.split("/").filter(U=>!!U),!A).join("/"),(A?"/":"")+w||"."},rt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Pe=(v,w,A)=>{var I=w+A;for(A=w;v[A]&&!(A>=I);)++A;if(16<A-w&&v.buffer&&rt)return rt.decode(v.subarray(w,A));for(I="";w<A;){var U=v[w++];if(U&128){var q=v[w++]&63;if((U&224)==192)I+=String.fromCharCode((U&31)<<6|q);else{var le=v[w++]&63;U=(U&240)==224?(U&15)<<12|q<<6|le:(U&7)<<18|q<<12|le<<6|v[w++]&63,65536>U?I+=String.fromCharCode(U):(U-=65536,I+=String.fromCharCode(55296|U>>10,56320|U&1023))}}else I+=String.fromCharCode(U)}return I},Fe=[],ot=v=>{for(var w=0,A=0;A<v.length;++A){var I=v.charCodeAt(A);127>=I?w++:2047>=I?w+=2:55296<=I&&57343>=I?(w+=4,++A):w+=3}return w},Ht=(v,w,A,I)=>{if(!(0<I))return 0;var U=A;I=A+I-1;for(var q=0;q<v.length;++q){var le=v.charCodeAt(q);if(55296<=le&&57343>=le){var se=v.charCodeAt(++q);le=65536+((le&1023)<<10)|se&1023}if(127>=le){if(A>=I)break;w[A++]=le}else{if(2047>=le){if(A+1>=I)break;w[A++]=192|le>>6}else{if(65535>=le){if(A+2>=I)break;w[A++]=224|le>>12}else{if(A+3>=I)break;w[A++]=240|le>>18,w[A++]=128|le>>12&63}w[A++]=128|le>>6&63}w[A++]=128|le&63}}return w[A]=0,A-U};function Be(v,w){var A=Array(ot(v)+1);return v=Ht(v,A,0,A.length),w&&(A.length=v),A}var wt=[];function vt(v,w){wt[v]={input:[],G:[],V:w},En(v,Ct)}var Ct={open(v){var w=wt[v.node.xa];if(!w)throw new Ye(43);v.s=w,v.seekable=!1},close(v){v.s.V.oa(v.s)},oa(v){v.s.V.oa(v.s)},read(v,w,A,I){if(!v.s||!v.s.V.hb)throw new Ye(60);for(var U=0,q=0;q<I;q++){try{var le=v.s.V.hb(v.s)}catch{throw new Ye(29)}if(le===void 0&&U===0)throw new Ye(6);if(le==null)break;U++,w[A+q]=le}return U&&(v.node.timestamp=Date.now()),U},write(v,w,A,I){if(!v.s||!v.s.V.Ma)throw new Ye(60);try{for(var U=0;U<I;U++)v.s.V.Ma(v.s,w[A+U])}catch{throw new Ye(29)}return I&&(v.node.timestamp=Date.now()),U}},Ge={hb(){e:{if(!Fe.length){var v=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(v=window.prompt("Input: "),v!==null&&(v+=`
`)),!v){v=null;break e}Fe=Be(v,!0)}v=Fe.shift()}return v},Ma(v,w){w===null||w===10?(Y(Pe(v.G,0)),v.G=[]):w!=0&&v.G.push(w)},oa(v){v.G&&0<v.G.length&&(Y(Pe(v.G,0)),v.G=[])},Xb(){return{zc:25856,Bc:5,yc:191,Ac:35387,xc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Yb(){return 0},Zb(){return[24,80]}},Rn={Ma(v,w){w===null||w===10?(Z(Pe(v.G,0)),v.G=[]):w!=0&&v.G.push(w)},oa(v){v.G&&0<v.G.length&&(Z(Pe(v.G,0)),v.G=[])}};function $t(v,w){var A=v.l?v.l.length:0;A>=w||(w=Math.max(w,A*(1048576>A?2:1.125)>>>0),A!=0&&(w=Math.max(w,256)),A=v.l,v.l=new Uint8Array(w),0<v.v&&v.l.set(A.subarray(0,v.v),0))}var qe={N:null,U(){return qe.createNode(null,"/",16895,0)},createNode(v,w,A,I){if((A&61440)===24576||(A&61440)===4096)throw new Ye(63);return qe.N||(qe.N={dir:{node:{X:qe.j.X,P:qe.j.P,ja:qe.j.ja,ta:qe.j.ta,sb:qe.j.sb,yb:qe.j.yb,tb:qe.j.tb,rb:qe.j.rb,Ca:qe.j.Ca},stream:{aa:qe.m.aa}},file:{node:{X:qe.j.X,P:qe.j.P},stream:{aa:qe.m.aa,read:qe.m.read,write:qe.m.write,Xa:qe.m.Xa,kb:qe.m.kb,mb:qe.m.mb}},link:{node:{X:qe.j.X,P:qe.j.P,la:qe.j.la},stream:{}},$a:{node:{X:qe.j.X,P:qe.j.P},stream:br}}),A=au(v,w,A,I),(A.mode&61440)===16384?(A.j=qe.N.dir.node,A.m=qe.N.dir.stream,A.l={}):(A.mode&61440)===32768?(A.j=qe.N.file.node,A.m=qe.N.file.stream,A.v=0,A.l=null):(A.mode&61440)===40960?(A.j=qe.N.link.node,A.m=qe.N.link.stream):(A.mode&61440)===8192&&(A.j=qe.N.$a.node,A.m=qe.N.$a.stream),A.timestamp=Date.now(),v&&(v.l[w]=A,v.timestamp=A.timestamp),A},Fc(v){return v.l?v.l.subarray?v.l.subarray(0,v.v):new Uint8Array(v.l):new Uint8Array(0)},j:{X(v){var w={};return w.Dc=(v.mode&61440)===8192?v.id:1,w.Hc=v.id,w.mode=v.mode,w.Kc=1,w.uid=0,w.Gc=0,w.xa=v.xa,(v.mode&61440)===16384?w.size=4096:(v.mode&61440)===32768?w.size=v.v:(v.mode&61440)===40960?w.size=v.link.length:w.size=0,w.vc=new Date(v.timestamp),w.Jc=new Date(v.timestamp),w.Cc=new Date(v.timestamp),w.Gb=4096,w.wc=Math.ceil(w.size/w.Gb),w},P(v,w){if(w.mode!==void 0&&(v.mode=w.mode),w.timestamp!==void 0&&(v.timestamp=w.timestamp),w.size!==void 0&&(w=w.size,v.v!=w))if(w==0)v.l=null,v.v=0;else{var A=v.l;v.l=new Uint8Array(w),A&&v.l.set(A.subarray(0,Math.min(w,v.v))),v.v=w}},ja(){throw no[44]},ta(v,w,A,I){return qe.createNode(v,w,A,I)},sb(v,w,A){if((v.mode&61440)===16384){try{var I=so(w,A)}catch{}if(I)for(var U in I.l)throw new Ye(55)}delete v.parent.l[v.name],v.parent.timestamp=Date.now(),v.name=A,w.l[A]=v,w.timestamp=v.parent.timestamp},yb(v,w){delete v.l[w],v.timestamp=Date.now()},tb(v,w){var A=so(v,w),I;for(I in A.l)throw new Ye(55);delete v.l[w],v.timestamp=Date.now()},rb(v){var w=[".",".."],A;for(A of Object.keys(v.l))w.push(A);return w},Ca(v,w,A){return v=qe.createNode(v,w,41471,0),v.link=A,v},la(v){if((v.mode&61440)!==40960)throw new Ye(28);return v.link}},m:{read(v,w,A,I,U){var q=v.node.l;if(U>=v.node.v)return 0;if(v=Math.min(v.node.v-U,I),8<v&&q.subarray)w.set(q.subarray(U,U+v),A);else for(I=0;I<v;I++)w[A+I]=q[U+I];return v},write(v,w,A,I,U,q){if(w.buffer===F.buffer&&(q=!1),!I)return 0;if(v=v.node,v.timestamp=Date.now(),w.subarray&&(!v.l||v.l.subarray)){if(q)return v.l=w.subarray(A,A+I),v.v=I;if(v.v===0&&U===0)return v.l=w.slice(A,A+I),v.v=I;if(U+I<=v.v)return v.l.set(w.subarray(A,A+I),U),I}if($t(v,U+I),v.l.subarray&&w.subarray)v.l.set(w.subarray(A,A+I),U);else for(q=0;q<I;q++)v.l[U+q]=w[A+q];return v.v=Math.max(v.v,U+I),I},aa(v,w,A){if(A===1?w+=v.position:A===2&&(v.node.mode&61440)===32768&&(w+=v.node.v),0>w)throw new Ye(28);return w},Xa(v,w,A){$t(v.node,w+A),v.node.v=Math.max(v.node.v,w+A)},kb(v,w,A,I,U){if((v.node.mode&61440)!==32768)throw new Ye(43);if(v=v.node.l,U&2||v.buffer!==F.buffer){if((0<A||A+w<v.length)&&(v.subarray?v=v.subarray(A,A+w):v=Array.prototype.slice.call(v,A,A+w)),A=!0,Ze(),w=void 0,!w)throw new Ye(48);F.set(v,w)}else A=!1,w=v.byteOffset;return{o:w,uc:A}},mb(v,w,A,I){return qe.m.write(v,w,0,I,A,!1),0}}},pt=(v,w)=>{var A=0;return v&&(A|=365),w&&(A|=146),A},yi=null,Rl={},vr=[],ru=1,Ls=null,to=!0,Ye=class{constructor(v){this.name="ErrnoError",this.$=v}},no={},gs=class{constructor(){this.h={},this.node=null}get flags(){return this.h.flags}set flags(v){this.h.flags=v}get position(){return this.h.position}set position(v){this.h.position=v}},Bn=class{constructor(v,w,A,I){v||(v=this),this.parent=v,this.U=v.U,this.ua=null,this.id=ru++,this.name=w,this.mode=A,this.j={},this.m={},this.xa=I}get read(){return(this.mode&365)===365}set read(v){v?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(v){v?this.mode|=146:this.mode&=-147}};function Tn(v,w={}){if(v=Ue(v),!v)return{path:"",node:null};if(w=Object.assign({gb:!0,Oa:0},w),8<w.Oa)throw new Ye(32);v=v.split("/").filter(le=>!!le);for(var A=yi,I="/",U=0;U<v.length;U++){var q=U===v.length-1;if(q&&w.parent)break;if(A=so(A,v[U]),I=ae(I+"/"+v[U]),A.ua&&(!q||q&&w.gb)&&(A=A.ua.root),!q||w.fb){for(q=0;(A.mode&61440)===40960;)if(A=ou(I),I=Ue(be(I),A),A=Tn(I,{Oa:w.Oa+1}).node,40<q++)throw new Ye(32)}}return{path:I,node:A}}function Us(v){for(var w;;){if(v===v.parent)return v=v.U.lb,w?v[v.length-1]!=="/"?`${v}/${w}`:v+w:v;w=w?`${v.name}/${w}`:v.name,v=v.parent}}function io(v,w){for(var A=0,I=0;I<w.length;I++)A=(A<<5)-A+w.charCodeAt(I)|0;return(v+A>>>0)%Ls.length}function so(v,w){var A=(v.mode&61440)===16384?(A=ys(v,"x"))?A:v.j.ja?0:2:54;if(A)throw new Ye(A);for(A=Ls[io(v.id,w)];A;A=A.ec){var I=A.name;if(A.parent.id===v.id&&I===w)return A}return v.j.ja(v,w)}function au(v,w,A,I){return v=new Bn(v,w,A,I),w=io(v.parent.id,v.name),v.ec=Ls[w],Ls[w]=v}function Il(v){var w=["r","w","rw"][v&3];return v&512&&(w+="w"),w}function ys(v,w){if(to)return 0;if(!w.includes("r")||v.mode&292){if(w.includes("w")&&!(v.mode&146)||w.includes("x")&&!(v.mode&73))return 2}else return 2;return 0}function ro(v,w){try{return so(v,w),20}catch{}return ys(v,"wx")}function oi(v){if(v=vr[v],!v)throw new Ye(8);return v}function Vs(v,w=-1){if(v=Object.assign(new gs,v),w==-1)e:{for(w=0;4096>=w;w++)if(!vr[w])break e;throw new Ye(33)}return v.W=w,vr[w]=v}function ca(v,w=-1){var A,I;return v=Vs(v,w),(I=(A=v.m)==null?void 0:A.Ec)==null||I.call(A,v),v}var br={open(v){var w,A;v.m=Rl[v.node.xa].m,(A=(w=v.m).open)==null||A.call(w,v)},aa(){throw new Ye(70)}};function En(v,w){Rl[v]={m:w}}function jl(v,w){var A=w==="/";if(A&&yi)throw new Ye(10);if(!A&&w){var I=Tn(w,{gb:!1});if(w=I.path,I=I.node,I.ua)throw new Ye(10);if((I.mode&61440)!==16384)throw new Ye(54)}w={type:v,Mc:{},lb:w,dc:[]},v=v.U(w),v.U=w,w.root=v,A?yi=v:I&&(I.ua=w,I.U&&I.U.dc.push(w))}function ao(v,w,A){var I=Tn(v,{parent:!0}).node;if(v=Re(v),!v||v==="."||v==="..")throw new Ye(28);var U=ro(I,v);if(U)throw new Ye(U);if(!I.j.ta)throw new Ye(63);return I.j.ta(I,v,w,A)}function Kn(v){return ao(v,16895,0)}function ts(v,w,A){typeof A>"u"&&(A=w,w=438),ao(v,w|8192,A)}function Ml(v,w){if(!Ue(v))throw new Ye(44);var A=Tn(w,{parent:!0}).node;if(!A)throw new Ye(44);w=Re(w);var I=ro(A,w);if(I)throw new Ye(I);if(!A.j.Ca)throw new Ye(63);A.j.Ca(A,w,v)}function ou(v){if(v=Tn(v).node,!v)throw new Ye(44);if(!v.j.la)throw new Ye(28);return Ue(Us(v.parent),v.j.la(v))}function ua(v,w,A){if(v==="")throw new Ye(44);if(typeof w=="string"){var I={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[w];if(typeof I>"u")throw Error(`Unknown file open mode: ${w}`);w=I}if(A=w&64?(typeof A>"u"?438:A)&4095|32768:0,typeof v=="object")var U=v;else{v=ae(v);try{U=Tn(v,{fb:!(w&131072)}).node}catch{}}if(I=!1,w&64)if(U){if(w&128)throw new Ye(20)}else U=ao(v,A,0),I=!0;if(!U)throw new Ye(44);if((U.mode&61440)===8192&&(w&=-513),w&65536&&(U.mode&61440)!==16384)throw new Ye(54);if(!I&&(A=U?(U.mode&61440)===40960?32:(U.mode&61440)===16384&&(Il(w)!=="r"||w&512)?31:ys(U,Il(w)):44))throw new Ye(A);if(w&512&&!I){if(A=U,A=typeof A=="string"?Tn(A,{fb:!0}).node:A,!A.j.P)throw new Ye(63);if((A.mode&61440)===16384)throw new Ye(31);if((A.mode&61440)!==32768)throw new Ye(28);if(I=ys(A,"w"))throw new Ye(I);A.j.P(A,{size:0,timestamp:Date.now()})}return w&=-131713,U=Vs({node:U,path:Us(U),flags:w,seekable:!0,position:0,m:U.m,sc:[],error:!1}),U.m.open&&U.m.open(U),!N.logReadFiles||w&1||(oo||(oo={}),v in oo||(oo[v]=1)),U}function lu(v,w,A){if(v.W===null)throw new Ye(8);if(!v.seekable||!v.m.aa)throw new Ye(70);if(A!=0&&A!=1&&A!=2)throw new Ye(28);v.position=v.m.aa(v,w,A),v.sc=[]}var da;function xs(v,w,A){v=ae("/dev/"+v);var I=pt(!!w,!!A);Vi||(Vi=64);var U=Vi++<<8|0;En(U,{open(q){q.seekable=!1},close(){var q;(q=A==null?void 0:A.buffer)!=null&&q.length&&A(10)},read(q,le,se,ve){for(var ge=0,je=0;je<ve;je++){try{var He=w()}catch{throw new Ye(29)}if(He===void 0&&ge===0)throw new Ye(6);if(He==null)break;ge++,le[se+je]=He}return ge&&(q.node.timestamp=Date.now()),ge},write(q,le,se,ve){for(var ge=0;ge<ve;ge++)try{A(le[se+ge])}catch{throw new Ye(29)}return ve&&(q.node.timestamp=Date.now()),ge}}),ts(v,I,U)}var Vi,kn={},oo,fa=void 0,vs=(v,w)=>Object.defineProperty(w,"name",{value:v}),lo=[],xi=[],ft,yn=v=>{if(!v)throw new ft("Cannot use deleted val. handle = "+v);return xi[v]},vi=v=>{switch(v){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:const w=lo.pop()||xi.length;return xi[w]=v,xi[w+1]=1,w}},kl=v=>{var w=Error,A=vs(v,function(I){this.name=v,this.message=I,I=Error(I).stack,I!==void 0&&(this.stack=this.toString()+`
`+I.replace(/^Error(:[^\n]*)?\n/,""))});return A.prototype=Object.create(w.prototype),A.prototype.constructor=A,A.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},A},co,zs,pn=v=>{for(var w="";ne[v];)w+=zs[ne[v++]];return w},wr=[],bs=()=>{for(;wr.length;){var v=wr.pop();v.g.ea=!1,v.delete()}},ha,zi={},uo=(v,w)=>{if(w===void 0)throw new ft("ptr should not be undefined");for(;v.C;)w=v.ma(w),v=v.C;return w},ns={},cu=v=>{v=_a(v);var w=pn(v);return ui(v),w},pa=(v,w)=>{var A=ns[v];if(A===void 0)throw v=`${w} has unknown type ${cu(v)}`,new ft(v);return A},Fs=()=>{},Ci=!1,fo=(v,w,A)=>w===A?v:A.C===void 0?null:(v=fo(v,w,A.C),v===null?null:A.Lb(v)),ho={},_r=(v,w)=>(w=uo(v,w),zi[w]),Fi,ma=(v,w)=>{if(!w.u||!w.o)throw new Fi("makeClassHandle requires ptr and ptrType");if(!!w.J!=!!w.F)throw new Fi("Both smartPtrType and smartPtr must be specified");return w.count={value:1},ws(Object.create(v,{g:{value:w,writable:!0}}))},ws=v=>typeof FinalizationRegistry>"u"?(ws=w=>w,v):(Ci=new FinalizationRegistry(w=>{w=w.g,--w.count.value,w.count.value===0&&(w.F?w.J.O(w.F):w.u.i.O(w.o))}),ws=w=>{var A=w.g;return A.F&&Ci.register(w,{g:A},w),w},Fs=w=>{Ci.unregister(w)},ws(v)),ga={},is=v=>{for(;v.length;){var w=v.pop();v.pop()(w)}};function li(v){return this.fromWireType(Me[v>>2])}var _s={},Ts={},Sn=(v,w,A)=>{function I(se){if(se=A(se),se.length!==v.length)throw new Fi("Mismatched type converter count");for(var ve=0;ve<v.length;++ve)ci(v[ve],se[ve])}v.forEach(function(se){Ts[se]=w});var U=Array(w.length),q=[],le=0;w.forEach((se,ve)=>{ns.hasOwnProperty(se)?U[ve]=ns[se]:(q.push(se),_s.hasOwnProperty(se)||(_s[se]=[]),_s[se].push(()=>{U[ve]=ns[se],++le,le===q.length&&I(U)}))}),q.length===0&&I(U)};function Dl(v,w,A={}){var I=w.name;if(!v)throw new ft(`type "${I}" must have a positive integer typeid pointer`);if(ns.hasOwnProperty(v)){if(A.Vb)return;throw new ft(`Cannot register type '${I}' twice`)}ns[v]=w,delete Ts[v],_s.hasOwnProperty(v)&&(w=_s[v],delete _s[v],w.forEach(U=>U()))}function ci(v,w,A={}){if(!("argPackAdvance"in w))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Dl(v,w,A)}var po=v=>{throw new ft(v.g.u.i.name+" instance already deleted")};function Hs(){}var Tr=(v,w,A)=>{if(v[w].A===void 0){var I=v[w];v[w]=function(...U){if(!v[w].A.hasOwnProperty(U.length))throw new ft(`Function '${A}' called with an invalid number of arguments (${U.length}) - expects one of (${v[w].A})!`);return v[w].A[U.length].apply(this,U)},v[w].A=[],v[w].A[I.da]=I}},mo=(v,w,A)=>{if(N.hasOwnProperty(v)){if(A===void 0||N[v].A!==void 0&&N[v].A[A]!==void 0)throw new ft(`Cannot register public name '${v}' twice`);if(Tr(N,v,v),N.hasOwnProperty(A))throw new ft(`Cannot register multiple overloads of a function with the same number of arguments (${A})!`);N[v].A[A]=w}else N[v]=w,A!==void 0&&(N[v].Lc=A)},ii=v=>{if(v===void 0)return"_unknown";v=v.replace(/[^a-zA-Z0-9_]/g,"$");var w=v.charCodeAt(0);return 48<=w&&57>=w?`_${v}`:v};function Bs(v,w,A,I,U,q,le,se){this.name=v,this.constructor=w,this.M=A,this.O=I,this.C=U,this.Qb=q,this.ma=le,this.Lb=se,this.pb=[]}var Gs=(v,w,A)=>{for(;w!==A;){if(!w.ma)throw new ft(`Expected null or instance of ${A.name}, got an instance of ${w.name}`);v=w.ma(v),w=w.C}return v};function ya(v,w){if(w===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!w.g)throw new ft(`Cannot pass "${xa(w)}" as a ${this.name}`);if(!w.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);return Gs(w.g.o,w.g.u.i,this.i)}function hf(v,w){if(w===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);if(this.sa){var A=this.Na();return v!==null&&v.push(this.O,A),A}return 0}if(!w||!w.g)throw new ft(`Cannot pass "${xa(w)}" as a ${this.name}`);if(!w.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.ra&&w.g.u.ra)throw new ft(`Cannot convert argument of type ${w.g.J?w.g.J.name:w.g.u.name} to parameter type ${this.name}`);if(A=Gs(w.g.o,w.g.u.i,this.i),this.sa){if(w.g.F===void 0)throw new ft("Passing raw pointer to smart pointer is illegal");switch(this.mc){case 0:if(w.g.J===this)A=w.g.F;else throw new ft(`Cannot convert argument of type ${w.g.J?w.g.J.name:w.g.u.name} to parameter type ${this.name}`);break;case 1:A=w.g.F;break;case 2:if(w.g.J===this)A=w.g.F;else{var I=w.clone();A=this.ic(A,vi(()=>I.delete())),v!==null&&v.push(this.O,A)}break;default:throw new ft("Unsupporting sharing policy")}}return A}function Pl(v,w){if(w===null){if(this.La)throw new ft(`null is not a valid ${this.name}`);return 0}if(!w.g)throw new ft(`Cannot pass "${xa(w)}" as a ${this.name}`);if(!w.g.o)throw new ft(`Cannot pass deleted object as a pointer of type ${this.name}`);if(w.g.u.ra)throw new ft(`Cannot convert argument of type ${w.g.u.name} to parameter type ${this.name}`);return Gs(w.g.o,w.g.u.i,this.i)}function Er(v,w,A,I,U,q,le,se,ve,ge,je){this.name=v,this.i=w,this.La=A,this.ra=I,this.sa=U,this.hc=q,this.mc=le,this.qb=se,this.Na=ve,this.ic=ge,this.O=je,U||w.C!==void 0?this.toWireType=hf:(this.toWireType=I?ya:Pl,this.L=null)}var Sr=(v,w,A)=>{if(!N.hasOwnProperty(v))throw new Fi("Replacing nonexistent public symbol");N[v].A!==void 0&&A!==void 0?N[v].A[A]=w:(N[v]=w,N[v].da=A)},qs=[],Ol,uu=v=>{var w=qs[v];return w||(v>=qs.length&&(qs.length=v+1),qs[v]=w=Ol.get(v)),w},pf=(v,w,A=[])=>(v.includes("j")?(v=v.replace(/p/g,"i"),w=(0,N["dynCall_"+v])(w,...A)):w=uu(w)(...A),w),mf=(v,w)=>(...A)=>pf(v,w,A),Dn=(v,w)=>{v=pn(v);var A=v.includes("j")?mf(v,w):uu(w);if(typeof A!="function")throw new ft(`unknown function pointer with signature ${v}: ${w}`);return A},du,ss=(v,w)=>{function A(q){U[q]||ns[q]||(Ts[q]?Ts[q].forEach(A):(I.push(q),U[q]=!0))}var I=[],U={};throw w.forEach(A),new du(`${v}: `+I.map(cu).join([", "]))};function gf(v){for(var w=1;w<v.length;++w)if(v[w]!==null&&v[w].L===void 0)return!0;return!1}function go(v,w,A,I,U){var q=w.length;if(2>q)throw new ft("argTypes array size mismatch! Must at least get return value and 'this' types!");var le=w[1]!==null&&A!==null,se=gf(w),ve=w[0].name!=="void",ge=q-2,je=Array(ge),He=[],$e=[];return vs(v,function(...ue){if(ue.length!==ge)throw new ft(`function ${v} called with ${ue.length} arguments, expected ${ge}`);if($e.length=0,He.length=le?2:1,He[0]=U,le){var ke=w[1].toWireType($e,this);He[1]=ke}for(var Ce=0;Ce<ge;++Ce)je[Ce]=w[Ce+2].toWireType($e,ue[Ce]),He.push(je[Ce]);if(ue=I(...He),se)is($e);else for(Ce=le?1:2;Ce<w.length;Ce++){var yt=Ce===1?ke:je[Ce-2];w[Ce].L!==null&&w[Ce].L(yt)}return ke=ve?w[0].fromWireType(ue):void 0,ke})}var yo=(v,w)=>{for(var A=[],I=0;I<v;I++)A.push(Me[w+4*I>>2]);return A},xo=v=>{v=v.trim();const w=v.indexOf("(");return w!==-1?v.substr(0,w):v},fu=(v,w,A)=>{if(!(v instanceof Object))throw new ft(`${A} with invalid "this": ${v}`);if(!(v instanceof w.i.constructor))throw new ft(`${A} incompatible with "this" of type ${v.constructor.name}`);if(!v.g.o)throw new ft(`cannot call emscripten binding method ${A} on deleted object`);return Gs(v.g.o,v.g.u.i,w.i)},Ll=v=>{9<v&&--xi[v+1]===0&&(xi[v]=void 0,lo.push(v))},yf={name:"emscripten::val",fromWireType:v=>{var w=yn(v);return Ll(v),w},toWireType:(v,w)=>vi(w),argPackAdvance:8,readValueFromPointer:li,L:null},xf=(v,w,A)=>{switch(w){case 1:return A?function(I){return this.fromWireType(F[I])}:function(I){return this.fromWireType(ne[I])};case 2:return A?function(I){return this.fromWireType(xe[I>>1])}:function(I){return this.fromWireType(Ae[I>>1])};case 4:return A?function(I){return this.fromWireType(Ne[I>>2])}:function(I){return this.fromWireType(Me[I>>2])};default:throw new TypeError(`invalid integer width (${w}): ${v}`)}},xa=v=>{if(v===null)return"null";var w=typeof v;return w==="object"||w==="array"||w==="function"?v.toString():""+v},vf=(v,w)=>{switch(w){case 4:return function(A){return this.fromWireType(Qe[A>>2])};case 8:return function(A){return this.fromWireType(it[A>>3])};default:throw new TypeError(`invalid float width (${w}): ${v}`)}},bf=(v,w,A)=>{switch(w){case 1:return A?I=>F[I]:I=>ne[I];case 2:return A?I=>xe[I>>1]:I=>Ae[I>>1];case 4:return A?I=>Ne[I>>2]:I=>Me[I>>2];default:throw new TypeError(`invalid integer width (${w}): ${v}`)}},hu=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,pu=(v,w)=>{for(var A=v>>1,I=A+w/2;!(A>=I)&&Ae[A];)++A;if(A<<=1,32<A-v&&hu)return hu.decode(ne.subarray(v,A));for(A="",I=0;!(I>=w/2);++I){var U=xe[v+2*I>>1];if(U==0)break;A+=String.fromCharCode(U)}return A},wf=(v,w,A)=>{if(A??(A=2147483647),2>A)return 0;A-=2;var I=w;A=A<2*v.length?A/2:v.length;for(var U=0;U<A;++U)xe[w>>1]=v.charCodeAt(U),w+=2;return xe[w>>1]=0,w-I},_f=v=>2*v.length,Tf=(v,w)=>{for(var A=0,I="";!(A>=w/4);){var U=Ne[v+4*A>>2];if(U==0)break;++A,65536<=U?(U-=65536,I+=String.fromCharCode(55296|U>>10,56320|U&1023)):I+=String.fromCharCode(U)}return I},Ef=(v,w,A)=>{if(A??(A=2147483647),4>A)return 0;var I=w;A=I+A-4;for(var U=0;U<v.length;++U){var q=v.charCodeAt(U);if(55296<=q&&57343>=q){var le=v.charCodeAt(++U);q=65536+((q&1023)<<10)|le&1023}if(Ne[w>>2]=q,w+=4,w+4>A)break}return Ne[w>>2]=0,w-I},Sf=v=>{for(var w=0,A=0;A<v.length;++A){var I=v.charCodeAt(A);55296<=I&&57343>=I&&++A,w+=4}return w},mu=(v,w,A)=>{var I=[];return v=v.toWireType(I,A),I.length&&(Me[w>>2]=vi(I)),v},Nf={},Ul=v=>{var w=Nf[v];return w===void 0?pn(v):w},Vl=[],zl=v=>{var w=Vl.length;return Vl.push(v),w},va=(v,w)=>{for(var A=Array(v),I=0;I<v;++I)A[I]=pa(Me[w+4*I>>2],"parameter "+I);return A},Cf=Reflect.construct,vo=[],bo={},Fl=()=>{if(!wo){var v={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ce||"./this.program"},w;for(w in bo)bo[w]===void 0?delete v[w]:v[w]=bo[w];var A=[];for(w in v)A.push(`${w}=${v[w]}`);wo=A}return wo},wo,ba=v=>v%4===0&&(v%100!==0||v%400===0),$s=[31,29,31,30,31,30,31,31,30,31,30,31],gu=[31,28,31,30,31,30,31,31,30,31,30,31],Af=(v,w,A,I)=>{function U(ue,ke,Ce){for(ue=typeof ue=="number"?ue.toString():ue||"";ue.length<ke;)ue=Ce[0]+ue;return ue}function q(ue,ke){return U(ue,ke,"0")}function le(ue,ke){function Ce(_t){return 0>_t?-1:0<_t?1:0}var yt;return(yt=Ce(ue.getFullYear()-ke.getFullYear()))===0&&(yt=Ce(ue.getMonth()-ke.getMonth()))===0&&(yt=Ce(ue.getDate()-ke.getDate())),yt}function se(ue){switch(ue.getDay()){case 0:return new Date(ue.getFullYear()-1,11,29);case 1:return ue;case 2:return new Date(ue.getFullYear(),0,3);case 3:return new Date(ue.getFullYear(),0,2);case 4:return new Date(ue.getFullYear(),0,1);case 5:return new Date(ue.getFullYear()-1,11,31);case 6:return new Date(ue.getFullYear()-1,11,30)}}function ve(ue){var ke=ue.ba;for(ue=new Date(new Date(ue.ca+1900,0,1).getTime());0<ke;){var Ce=ue.getMonth(),yt=(ba(ue.getFullYear())?$s:gu)[Ce];if(ke>yt-ue.getDate())ke-=yt-ue.getDate()+1,ue.setDate(1),11>Ce?ue.setMonth(Ce+1):(ue.setMonth(0),ue.setFullYear(ue.getFullYear()+1));else{ue.setDate(ue.getDate()+ke);break}}return Ce=new Date(ue.getFullYear()+1,0,4),ke=se(new Date(ue.getFullYear(),0,4)),Ce=se(Ce),0>=le(ke,ue)?0>=le(Ce,ue)?ue.getFullYear()+1:ue.getFullYear():ue.getFullYear()-1}var ge=Me[I+40>>2];I={pc:Ne[I>>2],oc:Ne[I+4>>2],Da:Ne[I+8>>2],Qa:Ne[I+12>>2],Ea:Ne[I+16>>2],ca:Ne[I+20>>2],R:Ne[I+24>>2],ba:Ne[I+28>>2],Nc:Ne[I+32>>2],nc:Ne[I+36>>2],qc:ge&&ge?Pe(ne,ge):""},A=A?Pe(ne,A):"",ge={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var je in ge)A=A.replace(new RegExp(je,"g"),ge[je]);var He="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),$e="January February March April May June July August September October November December".split(" ");ge={"%a":ue=>He[ue.R].substring(0,3),"%A":ue=>He[ue.R],"%b":ue=>$e[ue.Ea].substring(0,3),"%B":ue=>$e[ue.Ea],"%C":ue=>q((ue.ca+1900)/100|0,2),"%d":ue=>q(ue.Qa,2),"%e":ue=>U(ue.Qa,2," "),"%g":ue=>ve(ue).toString().substring(2),"%G":ve,"%H":ue=>q(ue.Da,2),"%I":ue=>(ue=ue.Da,ue==0?ue=12:12<ue&&(ue-=12),q(ue,2)),"%j":ue=>{for(var ke=0,Ce=0;Ce<=ue.Ea-1;ke+=(ba(ue.ca+1900)?$s:gu)[Ce++]);return q(ue.Qa+ke,3)},"%m":ue=>q(ue.Ea+1,2),"%M":ue=>q(ue.oc,2),"%n":()=>`
`,"%p":ue=>0<=ue.Da&&12>ue.Da?"AM":"PM","%S":ue=>q(ue.pc,2),"%t":()=>"	","%u":ue=>ue.R||7,"%U":ue=>q(Math.floor((ue.ba+7-ue.R)/7),2),"%V":ue=>{var ke=Math.floor((ue.ba+7-(ue.R+6)%7)/7);if(2>=(ue.R+371-ue.ba-2)%7&&ke++,ke)ke==53&&(Ce=(ue.R+371-ue.ba)%7,Ce==4||Ce==3&&ba(ue.ca)||(ke=1));else{ke=52;var Ce=(ue.R+7-ue.ba-1)%7;(Ce==4||Ce==5&&ba(ue.ca%400-1))&&ke++}return q(ke,2)},"%w":ue=>ue.R,"%W":ue=>q(Math.floor((ue.ba+7-(ue.R+6)%7)/7),2),"%y":ue=>(ue.ca+1900).toString().substring(2),"%Y":ue=>ue.ca+1900,"%z":ue=>{ue=ue.nc;var ke=0<=ue;return ue=Math.abs(ue)/60,(ke?"+":"-")+("0000"+(ue/60*100+ue%60)).slice(-4)},"%Z":ue=>ue.qc,"%%":()=>"%"},A=A.replace(/%%/g,"\0\0");for(je in ge)A.includes(je)&&(A=A.replace(new RegExp(je,"g"),ge[je](I)));return A=A.replace(/\0\0/g,"%"),je=Be(A,!1),je.length>w?0:(F.set(je,v),je.length-1)};[44].forEach(v=>{no[v]=new Ye(v),no[v].stack="<generic error, no stack>"}),Ls=Array(4096),jl(qe,"/"),Kn("/tmp"),Kn("/home"),Kn("/home/web_user"),(function(){Kn("/dev"),En(259,{read:()=>0,write:(I,U,q,le)=>le}),ts("/dev/null",259),vt(1280,Ge),vt(1536,Rn),ts("/dev/tty",1280),ts("/dev/tty1",1536);var v=new Uint8Array(1024),w=0,A=()=>(w===0&&(w=Xe(v).byteLength),v[--w]);xs("random",A),xs("urandom",A),Kn("/dev/shm"),Kn("/dev/shm/tmp")})(),(function(){Kn("/proc");var v=Kn("/proc/self");Kn("/proc/self/fd"),jl({U(){var w=au(v,"fd",16895,73);return w.j={ja(A,I){var U=oi(+I);return A={parent:null,U:{lb:"fake"},j:{la:()=>U.path}},A.parent=A}},w}},"/proc/self/fd")})(),ft=N.BindingError=class extends Error{constructor(v){super(v),this.name="BindingError"}},xi.push(0,1,void 0,1,null,1,!0,1,!1,1),N.count_emval_handles=()=>xi.length/2-5-lo.length,co=N.PureVirtualError=kl("PureVirtualError");for(var yu=Array(256),wa=0;256>wa;++wa)yu[wa]=String.fromCharCode(wa);zs=yu,N.getInheritedInstanceCount=()=>Object.keys(zi).length,N.getLiveInheritedInstances=()=>{var v=[],w;for(w in zi)zi.hasOwnProperty(w)&&v.push(zi[w]);return v},N.flushPendingDeletes=bs,N.setDelayFunction=v=>{ha=v,wr.length&&ha&&ha(bs)},Fi=N.InternalError=class extends Error{constructor(v){super(v),this.name="InternalError"}},Object.assign(Hs.prototype,{isAliasOf:function(v){if(!(this instanceof Hs&&v instanceof Hs))return!1;var w=this.g.u.i,A=this.g.o;v.g=v.g;var I=v.g.u.i;for(v=v.g.o;w.C;)A=w.ma(A),w=w.C;for(;I.C;)v=I.ma(v),I=I.C;return w===I&&A===v},clone:function(){if(this.g.o||po(this),this.g.ha)return this.g.count.value+=1,this;var v=ws,w=Object,A=w.create,I=Object.getPrototypeOf(this),U=this.g;return v=v(A.call(w,I,{g:{value:{count:U.count,ea:U.ea,ha:U.ha,o:U.o,u:U.u,F:U.F,J:U.J}}})),v.g.count.value+=1,v.g.ea=!1,v},delete(){if(this.g.o||po(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");Fs(this);var v=this.g;--v.count.value,v.count.value===0&&(v.F?v.J.O(v.F):v.u.i.O(v.o)),this.g.ha||(this.g.F=void 0,this.g.o=void 0)},isDeleted:function(){return!this.g.o},deleteLater:function(){if(this.g.o||po(this),this.g.ea&&!this.g.ha)throw new ft("Object already scheduled for deletion");return wr.push(this),wr.length===1&&ha&&ha(bs),this.g.ea=!0,this}}),Object.assign(Er.prototype,{Rb(v){return this.qb&&(v=this.qb(v)),v},ab(v){var w;(w=this.O)==null||w.call(this,v)},argPackAdvance:8,readValueFromPointer:li,fromWireType:function(v){function w(){return this.sa?ma(this.i.M,{u:this.hc,o:A,J:this,F:v}):ma(this.i.M,{u:this,o:v})}var A=this.Rb(v);if(!A)return this.ab(v),null;var I=_r(this.i,A);if(I!==void 0)return I.g.count.value===0?(I.g.o=A,I.g.F=v,I.clone()):(I=I.clone(),this.ab(v),I);if(I=this.i.Qb(A),I=ho[I],!I)return w.call(this);I=this.ra?I.Hb:I.pointerType;var U=fo(A,this.i,I.i);return U===null?w.call(this):this.sa?ma(I.i.M,{u:I,o:U,J:this,F:v}):ma(I.i.M,{u:I,o:U})}}),du=N.UnboundTypeError=kl("UnboundTypeError");var Hl={__syscall_fcntl64:function(v,w,A){fa=A;try{var I=oi(v);switch(w){case 0:var U=C();if(0>U)break;for(;vr[U];)U++;return ca(I,U).W;case 1:case 2:return 0;case 3:return I.flags;case 4:return U=C(),I.flags|=U,0;case 12:return U=C(),xe[U+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(q){if(typeof kn>"u"||q.name!=="ErrnoError")throw q;return-q.$}},__syscall_ioctl:function(v,w,A){fa=A;try{var I=oi(v);switch(w){case 21509:return I.s?0:-59;case 21505:if(!I.s)return-59;if(I.s.V.Xb){v=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var U=C();Ne[U>>2]=25856,Ne[U+4>>2]=5,Ne[U+8>>2]=191,Ne[U+12>>2]=35387;for(var q=0;32>q;q++)F[U+q+17]=v[q]||0}return 0;case 21510:case 21511:case 21512:return I.s?0:-59;case 21506:case 21507:case 21508:if(!I.s)return-59;if(I.s.V.Yb)for(U=C(),v=[],q=0;32>q;q++)v.push(F[U+q+17]);return 0;case 21519:return I.s?(U=C(),Ne[U>>2]=0):-59;case 21520:return I.s?-28:-59;case 21531:if(U=C(),!I.m.Wb)throw new Ye(59);return I.m.Wb(I,w,U);case 21523:return I.s?(I.s.V.Zb&&(q=[24,80],U=C(),xe[U>>1]=q[0],xe[U+2>>1]=q[1]),0):-59;case 21524:return I.s?0:-59;case 21515:return I.s?0:-59;default:return-28}}catch(le){if(typeof kn>"u"||le.name!=="ErrnoError")throw le;return-le.$}},__syscall_openat:function(v,w,A,I){fa=I;try{w=w?Pe(ne,w):"";var U=w;if(U.charAt(0)==="/")w=U;else{var q=v===-100?"/":oi(v).path;if(U.length==0)throw new Ye(44);w=ae(q+"/"+U)}var le=I?C():0;return ua(w,A,le).W}catch(se){if(typeof kn>"u"||se.name!=="ErrnoError")throw se;return-se.$}},_abort_js:()=>{Ze("")},_embind_create_inheriting_constructor:(v,w,A)=>{v=pn(v),w=pa(w,"wrapper"),A=yn(A);var I=w.i,U=I.M,q=I.C.M,le=I.C.constructor;return v=vs(v,function(...se){I.C.pb.forEach((function(ve){if(this[ve]===q[ve])throw new co(`Pure virtual function ${ve} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:U}),this.__construct(...se)}),U.__construct=function(...se){if(this===U)throw new ft("Pass correct 'this' to __construct");se=le.implement(this,...se),Fs(se);var ve=se.g;if(se.notifyOnDestruction(),ve.ha=!0,Object.defineProperties(this,{g:{value:ve}}),ws(this),se=ve.o,se=uo(I,se),zi.hasOwnProperty(se))throw new ft(`Tried to register registered instance: ${se}`);zi[se]=this},U.__destruct=function(){if(this===U)throw new ft("Pass correct 'this' to __destruct");Fs(this);var se=this.g.o;if(se=uo(I,se),zi.hasOwnProperty(se))delete zi[se];else throw new ft(`Tried to unregister unregistered instance: ${se}`)},v.prototype=Object.create(U),Object.assign(v.prototype,A),vi(v)},_embind_finalize_value_object:v=>{var w=ga[v];delete ga[v];var A=w.Na,I=w.O,U=w.eb,q=U.map(le=>le.Ub).concat(U.map(le=>le.kc));Sn([v],q,le=>{var se={};return U.forEach((ve,ge)=>{var je=le[ge],He=ve.Sb,$e=ve.Tb,ue=le[ge+U.length],ke=ve.jc,Ce=ve.lc;se[ve.Ob]={read:yt=>je.fromWireType(He($e,yt)),write:(yt,_t)=>{var Ve=[];ke(Ce,yt,ue.toWireType(Ve,_t)),is(Ve)}}}),[{name:w.name,fromWireType:ve=>{var ge={},je;for(je in se)ge[je]=se[je].read(ve);return I(ve),ge},toWireType:(ve,ge)=>{for(var je in se)if(!(je in ge))throw new TypeError(`Missing field: "${je}"`);var He=A();for(je in se)se[je].write(He,ge[je]);return ve!==null&&ve.push(I,He),He},argPackAdvance:8,readValueFromPointer:li,L:I}]})},_embind_register_bigint:()=>{},_embind_register_bool:(v,w,A,I)=>{w=pn(w),ci(v,{name:w,fromWireType:function(U){return!!U},toWireType:function(U,q){return q?A:I},argPackAdvance:8,readValueFromPointer:function(U){return this.fromWireType(ne[U])},L:null})},_embind_register_class:(v,w,A,I,U,q,le,se,ve,ge,je,He,$e)=>{je=pn(je),q=Dn(U,q),se&&(se=Dn(le,se)),ge&&(ge=Dn(ve,ge)),$e=Dn(He,$e);var ue=ii(je);mo(ue,function(){ss(`Cannot construct ${je} due to unbound types`,[I])}),Sn([v,w,A],I?[I]:[],ke=>{if(ke=ke[0],I)var Ce=ke.i,yt=Ce.M;else yt=Hs.prototype;ke=vs(je,function(...an){if(Object.getPrototypeOf(this)!==_t)throw new ft("Use 'new' to construct "+je);if(Ve.Z===void 0)throw new ft(je+" has no accessible constructor");var Pn=Ve.Z[an.length];if(Pn===void 0)throw new ft(`Tried to invoke ctor of ${je} with invalid number of parameters (${an.length}) - expected (${Object.keys(Ve.Z).toString()}) parameters instead!`);return Pn.apply(this,an)});var _t=Object.create(yt,{constructor:{value:ke}});ke.prototype=_t;var Ve=new Bs(je,ke,_t,$e,Ce,q,se,ge);if(Ve.C){var Yt;(Yt=Ve.C).na??(Yt.na=[]),Ve.C.na.push(Ve)}return Ce=new Er(je,Ve,!0,!1,!1),Yt=new Er(je+"*",Ve,!1,!1,!1),yt=new Er(je+" const*",Ve,!1,!0,!1),ho[v]={pointerType:Yt,Hb:yt},Sr(ue,ke),[Ce,Yt,yt]})},_embind_register_class_class_function:(v,w,A,I,U,q,le)=>{var se=yo(A,I);w=pn(w),w=xo(w),q=Dn(U,q),Sn([],[v],ve=>{function ge(){ss(`Cannot call ${je} due to unbound types`,se)}ve=ve[0];var je=`${ve.name}.${w}`;w.startsWith("@@")&&(w=Symbol[w.substring(2)]);var He=ve.i.constructor;return He[w]===void 0?(ge.da=A-1,He[w]=ge):(Tr(He,w,je),He[w].A[A-1]=ge),Sn([],se,$e=>{if($e=go(je,[$e[0],null].concat($e.slice(1)),null,q,le),He[w].A===void 0?($e.da=A-1,He[w]=$e):He[w].A[A-1]=$e,ve.i.na)for(const ue of ve.i.na)ue.constructor.hasOwnProperty(w)||(ue.constructor[w]=$e);return[]}),[]})},_embind_register_class_class_property:(v,w,A,I,U,q,le,se)=>{w=pn(w),q=Dn(U,q),Sn([],[v],ve=>{ve=ve[0];var ge=`${ve.name}.${w}`,je={get(){ss(`Cannot access ${ge} due to unbound types`,[A])},enumerable:!0,configurable:!0};return je.set=se?()=>{ss(`Cannot access ${ge} due to unbound types`,[A])}:()=>{throw new ft(`${ge} is a read-only property`)},Object.defineProperty(ve.i.constructor,w,je),Sn([],[A],He=>{He=He[0];var $e={get(){return He.fromWireType(q(I))},enumerable:!0};return se&&(se=Dn(le,se),$e.set=ue=>{var ke=[];se(I,He.toWireType(ke,ue)),is(ke)}),Object.defineProperty(ve.i.constructor,w,$e),[]}),[]})},_embind_register_class_constructor:(v,w,A,I,U,q)=>{var le=yo(w,A);U=Dn(I,U),Sn([],[v],se=>{se=se[0];var ve=`constructor ${se.name}`;if(se.i.Z===void 0&&(se.i.Z=[]),se.i.Z[w-1]!==void 0)throw new ft(`Cannot register multiple constructors with identical number of parameters (${w-1}) for class '${se.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return se.i.Z[w-1]=()=>{ss(`Cannot construct ${se.name} due to unbound types`,le)},Sn([],le,ge=>(ge.splice(1,0,null),se.i.Z[w-1]=go(ve,ge,null,U,q),[])),[]})},_embind_register_class_function:(v,w,A,I,U,q,le,se)=>{var ve=yo(A,I);w=pn(w),w=xo(w),q=Dn(U,q),Sn([],[v],ge=>{function je(){ss(`Cannot call ${He} due to unbound types`,ve)}ge=ge[0];var He=`${ge.name}.${w}`;w.startsWith("@@")&&(w=Symbol[w.substring(2)]),se&&ge.i.pb.push(w);var $e=ge.i.M,ue=$e[w];return ue===void 0||ue.A===void 0&&ue.className!==ge.name&&ue.da===A-2?(je.da=A-2,je.className=ge.name,$e[w]=je):(Tr($e,w,He),$e[w].A[A-2]=je),Sn([],ve,ke=>(ke=go(He,ke,ge,q,le),$e[w].A===void 0?(ke.da=A-2,$e[w]=ke):$e[w].A[A-2]=ke,[])),[]})},_embind_register_class_property:(v,w,A,I,U,q,le,se,ve,ge)=>{w=pn(w),U=Dn(I,U),Sn([],[v],je=>{je=je[0];var He=`${je.name}.${w}`,$e={get(){ss(`Cannot access ${He} due to unbound types`,[A,le])},enumerable:!0,configurable:!0};return $e.set=ve?()=>ss(`Cannot access ${He} due to unbound types`,[A,le]):()=>{throw new ft(He+" is a read-only property")},Object.defineProperty(je.i.M,w,$e),Sn([],ve?[A,le]:[A],ue=>{var ke=ue[0],Ce={get(){var _t=fu(this,je,He+" getter");return ke.fromWireType(U(q,_t))},enumerable:!0};if(ve){ve=Dn(se,ve);var yt=ue[1];Ce.set=function(_t){var Ve=fu(this,je,He+" setter"),Yt=[];ve(ge,Ve,yt.toWireType(Yt,_t)),is(Yt)}}return Object.defineProperty(je.i.M,w,Ce),[]}),[]})},_embind_register_emval:v=>ci(v,yf),_embind_register_enum:(v,w,A,I)=>{function U(){}w=pn(w),U.values={},ci(v,{name:w,constructor:U,fromWireType:function(q){return this.constructor.values[q]},toWireType:(q,le)=>le.value,argPackAdvance:8,readValueFromPointer:xf(w,A,I),L:null}),mo(w,U)},_embind_register_enum_value:(v,w,A)=>{var I=pa(v,"enum");w=pn(w),v=I.constructor,I=Object.create(I.constructor.prototype,{value:{value:A},constructor:{value:vs(`${I.name}_${w}`,function(){})}}),v.values[A]=I,v[w]=I},_embind_register_float:(v,w,A)=>{w=pn(w),ci(v,{name:w,fromWireType:I=>I,toWireType:(I,U)=>U,argPackAdvance:8,readValueFromPointer:vf(w,A),L:null})},_embind_register_function:(v,w,A,I,U,q)=>{var le=yo(w,A);v=pn(v),v=xo(v),U=Dn(I,U),mo(v,function(){ss(`Cannot call ${v} due to unbound types`,le)},w-1),Sn([],le,se=>(Sr(v,go(v,[se[0],null].concat(se.slice(1)),null,U,q),w-1),[]))},_embind_register_integer:(v,w,A,I,U)=>{if(w=pn(w),U===-1&&(U=4294967295),U=se=>se,I===0){var q=32-8*A;U=se=>se<<q>>>q}var le=w.includes("unsigned")?function(se,ve){return ve>>>0}:function(se,ve){return ve};ci(v,{name:w,fromWireType:U,toWireType:le,argPackAdvance:8,readValueFromPointer:bf(w,A,I!==0),L:null})},_embind_register_memory_view:(v,w,A)=>{function I(q){return new U(F.buffer,Me[q+4>>2],Me[q>>2])}var U=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][w];A=pn(A),ci(v,{name:A,fromWireType:I,argPackAdvance:8,readValueFromPointer:I},{Vb:!0})},_embind_register_std_string:(v,w)=>{w=pn(w);var A=w==="std::string";ci(v,{name:w,fromWireType:function(I){var U=Me[I>>2],q=I+4;if(A)for(var le=q,se=0;se<=U;++se){var ve=q+se;if(se==U||ne[ve]==0){if(le=le?Pe(ne,le,ve-le):"",ge===void 0)var ge=le;else ge+="\0",ge+=le;le=ve+1}}else{for(ge=Array(U),se=0;se<U;++se)ge[se]=String.fromCharCode(ne[q+se]);ge=ge.join("")}return ui(I),ge},toWireType:function(I,U){U instanceof ArrayBuffer&&(U=new Uint8Array(U));var q=typeof U=="string";if(!(q||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int8Array))throw new ft("Cannot pass non-string to std::string");var le=A&&q?ot(U):U.length,se=Bl(4+le+1),ve=se+4;if(Me[se>>2]=le,A&&q)Ht(U,ne,ve,le+1);else if(q)for(q=0;q<le;++q){var ge=U.charCodeAt(q);if(255<ge)throw ui(ve),new ft("String has UTF-16 code units that do not fit in 8 bits");ne[ve+q]=ge}else for(q=0;q<le;++q)ne[ve+q]=U[q];return I!==null&&I.push(ui,se),se},argPackAdvance:8,readValueFromPointer:li,L(I){ui(I)}})},_embind_register_std_wstring:(v,w,A)=>{if(A=pn(A),w===2)var I=pu,U=wf,q=_f,le=se=>Ae[se>>1];else w===4&&(I=Tf,U=Ef,q=Sf,le=se=>Me[se>>2]);ci(v,{name:A,fromWireType:se=>{for(var ve=Me[se>>2],ge,je=se+4,He=0;He<=ve;++He){var $e=se+4+He*w;(He==ve||le($e)==0)&&(je=I(je,$e-je),ge===void 0?ge=je:(ge+="\0",ge+=je),je=$e+w)}return ui(se),ge},toWireType:(se,ve)=>{if(typeof ve!="string")throw new ft(`Cannot pass non-string to C++ string type ${A}`);var ge=q(ve),je=Bl(4+ge+w);return Me[je>>2]=ge/w,U(ve,je+4,ge+w),se!==null&&se.push(ui,je),je},argPackAdvance:8,readValueFromPointer:li,L(se){ui(se)}})},_embind_register_value_object:(v,w,A,I,U,q)=>{ga[v]={name:pn(w),Na:Dn(A,I),O:Dn(U,q),eb:[]}},_embind_register_value_object_field:(v,w,A,I,U,q,le,se,ve,ge)=>{ga[v].eb.push({Ob:pn(w),Ub:A,Sb:Dn(I,U),Tb:q,kc:le,jc:Dn(se,ve),lc:ge})},_embind_register_void:(v,w)=>{w=pn(w),ci(v,{Ic:!0,name:w,argPackAdvance:0,fromWireType:()=>{},toWireType:()=>{}})},_emscripten_get_now_is_monotonic:()=>1,_emscripten_memcpy_js:(v,w,A)=>ne.copyWithin(v,w,w+A),_emval_as:(v,w,A)=>(v=yn(v),w=pa(w,"emval::as"),mu(w,A,v)),_emval_call_method:(v,w,A,I,U)=>(v=Vl[v],w=yn(w),A=Ul(A),v(w,w[A],I,U)),_emval_decref:Ll,_emval_get_method_caller:(v,w,A)=>{var I=va(v,w),U=I.shift();v--;var q=Array(v);return w=`methodCaller<(${I.map(le=>le.name).join(", ")}) => ${U.name}>`,zl(vs(w,(le,se,ve,ge)=>{for(var je=0,He=0;He<v;++He)q[He]=I[He].readValueFromPointer(ge+je),je+=I[He].argPackAdvance;return le=A===1?Cf(se,q):se.apply(le,q),mu(U,ve,le)}))},_emval_get_module_property:v=>(v=Ul(v),vi(N[v])),_emval_get_property:(v,w)=>(v=yn(v),w=yn(w),vi(v[w])),_emval_incref:v=>{9<v&&(xi[v+1]+=1)},_emval_new_array:()=>vi([]),_emval_new_cstring:v=>vi(Ul(v)),_emval_new_object:()=>vi({}),_emval_run_destructors:v=>{var w=yn(v);is(w),Ll(v)},_emval_set_property:(v,w,A)=>{v=yn(v),w=yn(w),A=yn(A),v[w]=A},_emval_take_value:(v,w)=>(v=pa(v,"_emval_take_value"),v=v.readValueFromPointer(w),vi(v)),emscripten_asm_const_int:(v,w,A)=>{vo.length=0;for(var I;I=ne[w++];){var U=I!=105;U&=I!=112,A+=U&&A%8?4:0,vo.push(I==112?Me[A>>2]:I==105?Ne[A>>2]:it[A>>3]),A+=U?8:4}return M[v](...vo)},emscripten_date_now:()=>Date.now(),emscripten_get_now:()=>performance.now(),emscripten_resize_heap:v=>{var w=ne.length;if(v>>>=0,2147483648<v)return!1;for(var A=1;4>=A;A*=2){var I=w*(1+.2/A);I=Math.min(I,v+100663296);var U=Math;I=Math.max(v,I);e:{U=(U.min.call(U,2147483648,I+(65536-I%65536)%65536)-he.buffer.byteLength+65535)/65536;try{he.grow(U),ut();var q=1;break e}catch{}q=void 0}if(q)return!0}return!1},environ_get:(v,w)=>{var A=0;return Fl().forEach((I,U)=>{var q=w+A;for(U=Me[v+4*U>>2]=q,q=0;q<I.length;++q)F[U++]=I.charCodeAt(q);F[U]=0,A+=I.length+1}),0},environ_sizes_get:(v,w)=>{var A=Fl();Me[v>>2]=A.length;var I=0;return A.forEach(U=>I+=U.length+1),Me[w>>2]=I,0},fd_close:function(v){try{var w=oi(v);if(w.W===null)throw new Ye(8);w.Ka&&(w.Ka=null);try{w.m.close&&w.m.close(w)}catch(A){throw A}finally{vr[w.W]=null}return w.W=null,0}catch(A){if(typeof kn>"u"||A.name!=="ErrnoError")throw A;return A.$}},fd_read:function(v,w,A,I){try{e:{var U=oi(v);v=w;for(var q,le=w=0;le<A;le++){var se=Me[v>>2],ve=Me[v+4>>2];v+=8;var ge=U,je=q,He=F;if(0>ve||0>je)throw new Ye(28);if(ge.W===null)throw new Ye(8);if((ge.flags&2097155)===1)throw new Ye(8);if((ge.node.mode&61440)===16384)throw new Ye(31);if(!ge.m.read)throw new Ye(28);var $e=typeof je<"u";if(!$e)je=ge.position;else if(!ge.seekable)throw new Ye(70);var ue=ge.m.read(ge,He,se,ve,je);$e||(ge.position+=ue);var ke=ue;if(0>ke){var Ce=-1;break e}if(w+=ke,ke<ve)break;typeof q<"u"&&(q+=ke)}Ce=w}return Me[I>>2]=Ce,0}catch(yt){if(typeof kn>"u"||yt.name!=="ErrnoError")throw yt;return yt.$}},fd_seek:function(v,w,A,I,U){w=A+2097152>>>0<4194305-!!w?(w>>>0)+4294967296*A:NaN;try{if(isNaN(w))return 61;var q=oi(v);return lu(q,w,I),lt=[q.position>>>0,(Nt=q.position,1<=+Math.abs(Nt)?0<Nt?+Math.floor(Nt/4294967296)>>>0:~~+Math.ceil((Nt-+(~~Nt>>>0))/4294967296)>>>0:0)],Ne[U>>2]=lt[0],Ne[U+4>>2]=lt[1],q.Ka&&w===0&&I===0&&(q.Ka=null),0}catch(le){if(typeof kn>"u"||le.name!=="ErrnoError")throw le;return le.$}},fd_write:function(v,w,A,I){try{e:{var U=oi(v);v=w;for(var q,le=w=0;le<A;le++){var se=Me[v>>2],ve=Me[v+4>>2];v+=8;var ge=U,je=se,He=ve,$e=q,ue=F;if(0>He||0>$e)throw new Ye(28);if(ge.W===null)throw new Ye(8);if((ge.flags&2097155)===0)throw new Ye(8);if((ge.node.mode&61440)===16384)throw new Ye(31);if(!ge.m.write)throw new Ye(28);ge.seekable&&ge.flags&1024&&lu(ge,0,2);var ke=typeof $e<"u";if(!ke)$e=ge.position;else if(!ge.seekable)throw new Ye(70);var Ce=ge.m.write(ge,ue,je,He,$e,void 0);ke||(ge.position+=Ce);var yt=Ce;if(0>yt){var _t=-1;break e}w+=yt,typeof q<"u"&&(q+=yt)}_t=w}return Me[I>>2]=_t,0}catch(Ve){if(typeof kn>"u"||Ve.name!=="ErrnoError")throw Ve;return Ve.$}},strftime_l:(v,w,A,I)=>Af(v,w,A,I)},Qt=(function(){var A;function v(I){var U;return Qt=I.exports,he=Qt.memory,ut(),Ol=Qt.__indirect_function_table,Ft.unshift(Qt.__wasm_call_ctors),At--,(U=N.monitorRunDependencies)==null||U.call(N,At),At==0&&jt&&(I=jt,jt=null,I()),Qt}var w={env:Hl,wasi_snapshot_preview1:Hl};if(At++,(A=N.monitorRunDependencies)==null||A.call(N,At),N.instantiateWasm)try{return N.instantiateWasm(w,v)}catch(I){Z(`Module.instantiateWasm callback failed with error: ${I}`),V(I)}return De||(De=Xt("canvas_advanced.wasm")?"canvas_advanced.wasm":N.locateFile?N.locateFile("canvas_advanced.wasm",ee):ee+"canvas_advanced.wasm"),gi(w,function(I){v(I.instance)}).catch(V),{}})(),ui=v=>(ui=Qt.free)(v),Bl=v=>(Bl=Qt.malloc)(v),_a=v=>(_a=Qt.__getTypeName)(v),Gl=N._ma_device__on_notification_unlocked=v=>(Gl=N._ma_device__on_notification_unlocked=Qt.ma_device__on_notification_unlocked)(v);N._ma_malloc_emscripten=(v,w)=>(N._ma_malloc_emscripten=Qt.ma_malloc_emscripten)(v,w),N._ma_free_emscripten=(v,w)=>(N._ma_free_emscripten=Qt.ma_free_emscripten)(v,w);var ql=N._ma_device_process_pcm_frames_capture__webaudio=(v,w,A)=>(ql=N._ma_device_process_pcm_frames_capture__webaudio=Qt.ma_device_process_pcm_frames_capture__webaudio)(v,w,A),_o=N._ma_device_process_pcm_frames_playback__webaudio=(v,w,A)=>(_o=N._ma_device_process_pcm_frames_playback__webaudio=Qt.ma_device_process_pcm_frames_playback__webaudio)(v,w,A);N.dynCall_iiji=(v,w,A,I,U)=>(N.dynCall_iiji=Qt.dynCall_iiji)(v,w,A,I,U),N.dynCall_jiji=(v,w,A,I,U)=>(N.dynCall_jiji=Qt.dynCall_jiji)(v,w,A,I,U),N.dynCall_iiiji=(v,w,A,I,U,q)=>(N.dynCall_iiiji=Qt.dynCall_iiiji)(v,w,A,I,U,q),N.dynCall_iij=(v,w,A,I)=>(N.dynCall_iij=Qt.dynCall_iij)(v,w,A,I),N.dynCall_jii=(v,w,A)=>(N.dynCall_jii=Qt.dynCall_jii)(v,w,A),N.dynCall_viijii=(v,w,A,I,U,q,le)=>(N.dynCall_viijii=Qt.dynCall_viijii)(v,w,A,I,U,q,le),N.dynCall_iiiiij=(v,w,A,I,U,q,le)=>(N.dynCall_iiiiij=Qt.dynCall_iiiiij)(v,w,A,I,U,q,le),N.dynCall_iiiiijj=(v,w,A,I,U,q,le,se,ve)=>(N.dynCall_iiiiijj=Qt.dynCall_iiiiijj)(v,w,A,I,U,q,le,se,ve),N.dynCall_iiiiiijj=(v,w,A,I,U,q,le,se,ve,ge)=>(N.dynCall_iiiiiijj=Qt.dynCall_iiiiiijj)(v,w,A,I,U,q,le,se,ve,ge);var Nr;jt=function v(){Nr||$l(),Nr||(jt=v)};function $l(){function v(){if(!Nr&&(Nr=!0,N.calledRun=!0,!Ee)){if(N.noFSInit||da||(da=!0,N.stdin=N.stdin,N.stdout=N.stdout,N.stderr=N.stderr,N.stdin?xs("stdin",N.stdin):Ml("/dev/tty","/dev/stdin"),N.stdout?xs("stdout",null,N.stdout):Ml("/dev/tty","/dev/stdout"),N.stderr?xs("stderr",null,N.stderr):Ml("/dev/tty1","/dev/stderr"),ua("/dev/stdin",0),ua("/dev/stdout",1),ua("/dev/stderr",1)),to=!1,E(Ft),P(N),N.onRuntimeInitialized&&N.onRuntimeInitialized(),N.postRun)for(typeof N.postRun=="function"&&(N.postRun=[N.postRun]);N.postRun.length;){var w=N.postRun.shift();st.unshift(w)}E(st)}}if(!(0<At)){if(N.preRun)for(typeof N.preRun=="function"&&(N.preRun=[N.preRun]);N.preRun.length;)mt();E(gt),0<At||(N.setStatus?(N.setStatus("Running..."),setTimeout(function(){setTimeout(function(){N.setStatus("")},1),v()},1)):v())}}if(N.preInit)for(typeof N.preInit=="function"&&(N.preInit=[N.preInit]);0<N.preInit.length;)N.preInit.pop()();return $l(),j=D,j})})();const g=h}),(u=>{u.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.32.0","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)}),((u,d,p)=>{p.r(d),p.d(d,{Animation:()=>h.Animation});var h=p(4)}),((u,d,p)=>{p.r(d),p.d(d,{Animation:()=>h});var h=(function(){function g(b,T,S,j){this.animation=b,this.artboard=T,this.playing=j,this.loopCount=0,this.scrubTo=null,this.instance=new S.LinearAnimationInstance(b,T)}return Object.defineProperty(g.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"time",{get:function(){return this.instance.time},set:function(b){this.instance.time=b},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),g.prototype.advance=function(b){this.scrubTo===null?this.instance.advance(b):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},g.prototype.apply=function(b){this.instance.apply(b)},g.prototype.cleanup=function(){this.instance.delete()},g})()}),((u,d,p)=>{p.r(d),p.d(d,{AudioAssetWrapper:()=>b.AudioAssetWrapper,AudioWrapper:()=>b.AudioWrapper,BLANK_URL:()=>g.BLANK_URL,CustomFileAssetLoaderWrapper:()=>b.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>b.FileAssetWrapper,FileFinalizer:()=>b.FileFinalizer,FontAssetWrapper:()=>b.FontAssetWrapper,FontWrapper:()=>b.FontWrapper,ImageAssetWrapper:()=>b.ImageAssetWrapper,ImageWrapper:()=>b.ImageWrapper,createFinalization:()=>b.createFinalization,finalizationRegistry:()=>b.finalizationRegistry,registerTouchInteractions:()=>h.registerTouchInteractions,sanitizeUrl:()=>g.sanitizeUrl});var h=p(6),g=p(7),b=p(8)}),((u,d,p)=>{p.r(d),p.d(d,{registerTouchInteractions:()=>b});var h=void 0,g=function(T,S,j){var N,P,V=[];if(["touchstart","touchmove"].indexOf(T.type)>-1&&(!((N=T.changedTouches)===null||N===void 0)&&N.length)){S||T.preventDefault();for(var D=0,k=j?T.changedTouches.length:1;D<k;){var G=T.changedTouches[D];V.push({clientX:G.clientX,clientY:G.clientY,identifier:G.identifier}),D++}}else if(T.type==="touchend"&&(!((P=T.changedTouches)===null||P===void 0)&&P.length))for(var D=0,k=j?T.changedTouches.length:1;D<k;){var G=T.changedTouches[D];V.push({clientX:G.clientX,clientY:G.clientY,identifier:G.identifier}),D++}else V.push({clientX:T.clientX,clientY:T.clientY,identifier:0});return V},b=function(T){var S=T.canvas,j=T.artboard,N=T.stateMachines,P=N===void 0?[]:N,V=T.renderer,D=T.rive,k=T.fit,G=T.alignment,J=T.isTouchScrollEnabled,K=J===void 0?!1:J,te=T.dispatchPointerExit,re=te===void 0?!0:te,B=T.enableMultiTouch,oe=B===void 0?!1:B,$=T.layoutScaleFactor,ce=$===void 0?1:$;if(!S||!P.length||!V||!D||!j||typeof window>"u")return null;var ee=null,W=!1,de=function(Z){if(W&&Z instanceof MouseEvent){Z.type=="mouseup"&&(W=!1);return}W=K&&Z.type==="touchend"&&ee==="touchstart",ee=Z.type;var Q=Z.currentTarget.getBoundingClientRect(),he=g(Z,K,oe),Ee=D.computeAlignment(k,G,{minX:0,minY:0,maxX:Q.width,maxY:Q.height},j.bounds,ce),F=new D.Mat2D;switch(Ee.invert(F),he.forEach(function(et){var De=et.clientX,nn=et.clientY;if(!(!De&&!nn)){var sn=De-Q.left,gn=nn-Q.top,gi=new D.Vec2D(sn,gn),Nt=D.mapXY(F,gi),lt=Nt.x(),M=Nt.y();et.transformedX=lt,et.transformedY=M,Nt.delete(),gi.delete()}}),F.delete(),Ee.delete(),Z.type){case"mouseout":for(var ne=function(et){re?he.forEach(function(De){et.pointerExit(De.transformedX,De.transformedY,De.identifier)}):he.forEach(function(De){et.pointerMove(De.transformedX,De.transformedY,De.identifier)})},xe=0,Ae=P;xe<Ae.length;xe++){var Ne=Ae[xe];ne(Ne)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Me=function(et){he.forEach(function(De){et.pointerMove(De.transformedX,De.transformedY,De.identifier)})},Qe=0,it=P;Qe<it.length;Qe++){var Ne=it[Qe];Me(Ne)}break}case"touchstart":case"mousedown":{for(var ut=function(et){he.forEach(function(De){et.pointerDown(De.transformedX,De.transformedY,De.identifier)})},gt=0,Ft=P;gt<Ft.length;gt++){var Ne=Ft[gt];ut(Ne)}break}case"touchend":{for(var st=function(et){he.forEach(function(De){et.pointerUp(De.transformedX,De.transformedY,De.identifier),et.pointerExit(De.transformedX,De.transformedY,De.identifier)})},mt=0,At=P;mt<At.length;mt++){var Ne=At[mt];st(Ne)}break}case"mouseup":{for(var jt=function(et){he.forEach(function(De){et.pointerUp(De.transformedX,De.transformedY,De.identifier)})},Ze=0,Xt=P;Ze<Xt.length;Ze++){var Ne=Xt[Ze];jt(Ne)}break}}},Y=de.bind(h);return S.addEventListener("mouseover",Y),S.addEventListener("mouseout",Y),S.addEventListener("mousemove",Y),S.addEventListener("mousedown",Y),S.addEventListener("mouseup",Y),S.addEventListener("touchmove",Y,{passive:K}),S.addEventListener("touchstart",Y,{passive:K}),S.addEventListener("touchend",Y),function(){S.removeEventListener("mouseover",Y),S.removeEventListener("mouseout",Y),S.removeEventListener("mousemove",Y),S.removeEventListener("mousedown",Y),S.removeEventListener("mouseup",Y),S.removeEventListener("touchmove",Y),S.removeEventListener("touchstart",Y),S.removeEventListener("touchend",Y)}}}),((u,d,p)=>{p.r(d),p.d(d,{BLANK_URL:()=>N,sanitizeUrl:()=>D});var h=/^([^\w]*)(javascript|data|vbscript)/im,g=/&#(\w+)(^\w|;)?/g,b=/&(newline|tab);/gi,T=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,S=/^.+(:|&colon;)/gim,j=[".","/"],N="about:blank";function P(k){return j.indexOf(k[0])>-1}function V(k){var G=k.replace(T,"");return G.replace(g,function(J,K){return String.fromCharCode(K)})}function D(k){if(!k)return N;var G=V(k).replace(b,"").replace(T,"").trim();if(!G)return N;if(P(G))return G;var J=G.match(S);if(!J)return G;var K=J[0];return h.test(K)?N:G}}),((u,d,p)=>{p.r(d),p.d(d,{AudioAssetWrapper:()=>k,AudioWrapper:()=>j,CustomFileAssetLoaderWrapper:()=>P,FileAssetWrapper:()=>V,FileFinalizer:()=>g,FontAssetWrapper:()=>G,FontWrapper:()=>N,ImageAssetWrapper:()=>D,ImageWrapper:()=>S,createFinalization:()=>re,finalizationRegistry:()=>te});var h=(function(){var B=function(oe,$){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,ee){ce.__proto__=ee}||function(ce,ee){for(var W in ee)Object.prototype.hasOwnProperty.call(ee,W)&&(ce[W]=ee[W])},B(oe,$)};return function(oe,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");B(oe,$);function ce(){this.constructor=oe}oe.prototype=$===null?Object.create($):(ce.prototype=$.prototype,new ce)}})(),g=(function(){function B(oe){this.selfUnref=!1,this._file=oe}return B.prototype.unref=function(){this._file&&this._file.unref()},B})(),b=(function(){function B(oe){this._finalizableObject=oe}return B.prototype.unref=function(){this._finalizableObject.unref()},B})(),T=(function(){function B(){this.selfUnref=!1}return B.prototype.unref=function(){},B})(),S=(function(B){h(oe,B);function oe($){var ce=B.call(this)||this;return ce._nativeImage=$,ce}return Object.defineProperty(oe.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),oe.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},oe})(T),j=(function(B){h(oe,B);function oe($){var ce=B.call(this)||this;return ce._nativeAudio=$,ce}return Object.defineProperty(oe.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),oe.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},oe})(T),N=(function(B){h(oe,B);function oe($){var ce=B.call(this)||this;return ce._nativeFont=$,ce}return Object.defineProperty(oe.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),oe.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},oe})(T),P=(function(){function B(oe,$){this._assetLoaderCallback=$,this.assetLoader=new oe.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return B.prototype.loadContents=function(oe,$){var ce;return oe.isImage?ce=new D(oe):oe.isAudio?ce=new k(oe):oe.isFont&&(ce=new G(oe)),this._assetLoaderCallback(ce,$)},B})(),V=(function(){function B(oe){this._nativeFileAsset=oe}return B.prototype.decode=function(oe){this._nativeFileAsset.decode(oe)},Object.defineProperty(B.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),B})(),D=(function(B){h(oe,B);function oe(){return B!==null&&B.apply(this,arguments)||this}return oe.prototype.setRenderImage=function($){this._nativeFileAsset.setRenderImage($.nativeImage)},oe})(V),k=(function(B){h(oe,B);function oe(){return B!==null&&B.apply(this,arguments)||this}return oe.prototype.setAudioSource=function($){this._nativeFileAsset.setAudioSource($.nativeAudio)},oe})(V),G=(function(B){h(oe,B);function oe(){return B!==null&&B.apply(this,arguments)||this}return oe.prototype.setFont=function($){this._nativeFileAsset.setFont($.nativeFont)},oe})(V),J=(function(){function B(oe){}return B.prototype.register=function(oe){oe.selfUnref=!0},B.prototype.unregister=function(oe){},B})(),K=typeof FinalizationRegistry<"u"?FinalizationRegistry:J,te=new K(function(B){B==null||B.unref()}),re=function(B,oe){var $=new b(oe);te.register(B,$)}})],s={};function a(u){var d=s[u];if(d!==void 0)return d.exports;var p=s[u]={exports:{}};return n[u](p,p.exports,a),p.exports}a.d=(u,d)=>{for(var p in d)a.o(d,p)&&!a.o(u,p)&&Object.defineProperty(u,p,{enumerable:!0,get:d[p]})},a.o=(u,d)=>Object.prototype.hasOwnProperty.call(u,d),a.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var l={};return(()=>{a.r(l),a.d(l,{Alignment:()=>D,DataEnum:()=>Qe,EventType:()=>ee,Fit:()=>V,Layout:()=>k,LoopType:()=>W,Rive:()=>Ne,RiveEventType:()=>te,RiveFile:()=>Ae,RuntimeLoader:()=>G,StateMachineInput:()=>K,StateMachineInputType:()=>J,Testing:()=>gn,ViewModel:()=>Me,ViewModelInstance:()=>ut,ViewModelInstanceArtboard:()=>De,ViewModelInstanceAssetImage:()=>et,ViewModelInstanceBoolean:()=>mt,ViewModelInstanceColor:()=>Xt,ViewModelInstanceEnum:()=>jt,ViewModelInstanceList:()=>Ze,ViewModelInstanceNumber:()=>st,ViewModelInstanceString:()=>Ft,ViewModelInstanceTrigger:()=>At,ViewModelInstanceValue:()=>gt,decodeAudio:()=>gi,decodeFont:()=>lt,decodeImage:()=>Nt});var u=a(1),d=a(2),p=a(3),h=a(5),g=(function(){var M=function(E,C){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,ae){z.__proto__=ae}||function(z,ae){for(var be in ae)Object.prototype.hasOwnProperty.call(ae,be)&&(z[be]=ae[be])},M(E,C)};return function(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");M(E,C);function z(){this.constructor=E}E.prototype=C===null?Object.create(C):(z.prototype=C.prototype,new z)}})(),b=function(){return b=Object.assign||function(M){for(var E,C=1,z=arguments.length;C<z;C++){E=arguments[C];for(var ae in E)Object.prototype.hasOwnProperty.call(E,ae)&&(M[ae]=E[ae])}return M},b.apply(this,arguments)},T=function(M,E,C,z){function ae(be){return be instanceof C?be:new C(function(Re){Re(be)})}return new(C||(C=Promise))(function(be,Re){function Ke(rt){try{Ue(z.next(rt))}catch(Pe){Re(Pe)}}function Xe(rt){try{Ue(z.throw(rt))}catch(Pe){Re(Pe)}}function Ue(rt){rt.done?be(rt.value):ae(rt.value).then(Ke,Xe)}Ue((z=z.apply(M,E||[])).next())})},S=function(M,E){var C={label:0,sent:function(){if(be[0]&1)throw be[1];return be[1]},trys:[],ops:[]},z,ae,be,Re=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return Re.next=Ke(0),Re.throw=Ke(1),Re.return=Ke(2),typeof Symbol=="function"&&(Re[Symbol.iterator]=function(){return this}),Re;function Ke(Ue){return function(rt){return Xe([Ue,rt])}}function Xe(Ue){if(z)throw new TypeError("Generator is already executing.");for(;Re&&(Re=0,Ue[0]&&(C=0)),C;)try{if(z=1,ae&&(be=Ue[0]&2?ae.return:Ue[0]?ae.throw||((be=ae.return)&&be.call(ae),0):ae.next)&&!(be=be.call(ae,Ue[1])).done)return be;switch(ae=0,be&&(Ue=[Ue[0]&2,be.value]),Ue[0]){case 0:case 1:be=Ue;break;case 4:return C.label++,{value:Ue[1],done:!1};case 5:C.label++,ae=Ue[1],Ue=[0];continue;case 7:Ue=C.ops.pop(),C.trys.pop();continue;default:if(be=C.trys,!(be=be.length>0&&be[be.length-1])&&(Ue[0]===6||Ue[0]===2)){C=0;continue}if(Ue[0]===3&&(!be||Ue[1]>be[0]&&Ue[1]<be[3])){C.label=Ue[1];break}if(Ue[0]===6&&C.label<be[1]){C.label=be[1],be=Ue;break}if(be&&C.label<be[2]){C.label=be[2],C.ops.push(Ue);break}be[2]&&C.ops.pop(),C.trys.pop();continue}Ue=E.call(M,C)}catch(rt){Ue=[6,rt],ae=0}finally{z=be=0}if(Ue[0]&5)throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}},j=function(M,E,C){if(C||arguments.length===2)for(var z=0,ae=E.length,be;z<ae;z++)(be||!(z in E))&&(be||(be=Array.prototype.slice.call(E,0,z)),be[z]=E[z]);return M.concat(be||Array.prototype.slice.call(E))},N=(function(M){g(E,M);function E(){var C=M!==null&&M.apply(this,arguments)||this;return C.isHandledError=!0,C}return E})(Error),P=function(M){return M&&M.isHandledError?M.message:"Problem loading file; may be corrupt!"},V;(function(M){M.Cover="cover",M.Contain="contain",M.Fill="fill",M.FitWidth="fitWidth",M.FitHeight="fitHeight",M.None="none",M.ScaleDown="scaleDown",M.Layout="layout"})(V||(V={}));var D;(function(M){M.Center="center",M.TopLeft="topLeft",M.TopCenter="topCenter",M.TopRight="topRight",M.CenterLeft="centerLeft",M.CenterRight="centerRight",M.BottomLeft="bottomLeft",M.BottomCenter="bottomCenter",M.BottomRight="bottomRight"})(D||(D={}));var k=(function(){function M(E){var C,z,ae,be,Re,Ke,Xe;this.fit=(C=E==null?void 0:E.fit)!==null&&C!==void 0?C:V.Contain,this.alignment=(z=E==null?void 0:E.alignment)!==null&&z!==void 0?z:D.Center,this.layoutScaleFactor=(ae=E==null?void 0:E.layoutScaleFactor)!==null&&ae!==void 0?ae:1,this.minX=(be=E==null?void 0:E.minX)!==null&&be!==void 0?be:0,this.minY=(Re=E==null?void 0:E.minY)!==null&&Re!==void 0?Re:0,this.maxX=(Ke=E==null?void 0:E.maxX)!==null&&Ke!==void 0?Ke:0,this.maxY=(Xe=E==null?void 0:E.maxY)!==null&&Xe!==void 0?Xe:0}return M.new=function(E){var C=E.fit,z=E.alignment,ae=E.minX,be=E.minY,Re=E.maxX,Ke=E.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new M({fit:C,alignment:z,minX:ae,minY:be,maxX:Re,maxY:Ke})},M.prototype.copyWith=function(E){var C=E.fit,z=E.alignment,ae=E.layoutScaleFactor,be=E.minX,Re=E.minY,Ke=E.maxX,Xe=E.maxY;return new M({fit:C??this.fit,alignment:z??this.alignment,layoutScaleFactor:ae??this.layoutScaleFactor,minX:be??this.minX,minY:Re??this.minY,maxX:Ke??this.maxX,maxY:Xe??this.maxY})},M.prototype.runtimeFit=function(E){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var C;return this.fit===V.Cover?C=E.Fit.cover:this.fit===V.Contain?C=E.Fit.contain:this.fit===V.Fill?C=E.Fit.fill:this.fit===V.FitWidth?C=E.Fit.fitWidth:this.fit===V.FitHeight?C=E.Fit.fitHeight:this.fit===V.ScaleDown?C=E.Fit.scaleDown:this.fit===V.Layout?C=E.Fit.layout:C=E.Fit.none,this.cachedRuntimeFit=C,C},M.prototype.runtimeAlignment=function(E){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var C;return this.alignment===D.TopLeft?C=E.Alignment.topLeft:this.alignment===D.TopCenter?C=E.Alignment.topCenter:this.alignment===D.TopRight?C=E.Alignment.topRight:this.alignment===D.CenterLeft?C=E.Alignment.centerLeft:this.alignment===D.CenterRight?C=E.Alignment.centerRight:this.alignment===D.BottomLeft?C=E.Alignment.bottomLeft:this.alignment===D.BottomCenter?C=E.Alignment.bottomCenter:this.alignment===D.BottomRight?C=E.Alignment.bottomRight:C=E.Alignment.center,this.cachedRuntimeAlignment=C,C},M})(),G=(function(){function M(){}return M.loadRuntime=function(){u.default({locateFile:function(){return M.wasmURL}}).then(function(E){var C;for(M.runtime=E;M.callBackQueue.length>0;)(C=M.callBackQueue.shift())===null||C===void 0||C(M.runtime)}).catch(function(E){var C={message:(E==null?void 0:E.message)||"Unknown error",type:(E==null?void 0:E.name)||"Error",wasmError:E instanceof WebAssembly.CompileError||E instanceof WebAssembly.RuntimeError,originalError:E};console.debug("Rive WASM load error details:",C);var z="https://cdn.jsdelivr.net/npm/".concat(d.name,"@").concat(d.version,"/rive_fallback.wasm");if(M.wasmURL.toLowerCase()!==z)console.warn("Failed to load WASM from ".concat(M.wasmURL," (").concat(C.message,"), trying jsdelivr as a backup")),M.setWasmUrl(z),M.loadRuntime();else{var ae=["Could not load Rive WASM file from ".concat(M.wasmURL," or ").concat(z,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(C.type),"- Message: ".concat(C.message),"- WebAssembly-specific error: ".concat(C.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(ae)}})},M.getInstance=function(E){M.isLoading||(M.isLoading=!0,M.loadRuntime()),M.runtime?E(M.runtime):M.callBackQueue.push(E)},M.awaitInstance=function(){return new Promise(function(E){return M.getInstance(function(C){return E(C)})})},M.setWasmUrl=function(E){M.wasmURL=E},M.getWasmUrl=function(){return M.wasmURL},M.isLoading=!1,M.callBackQueue=[],M.wasmURL="https://unpkg.com/".concat(d.name,"@").concat(d.version,"/rive.wasm"),M})(),J;(function(M){M[M.Number=56]="Number",M[M.Trigger=58]="Trigger",M[M.Boolean=59]="Boolean"})(J||(J={}));var K=(function(){function M(E,C){this.type=E,this.runtimeInput=C}return Object.defineProperty(M.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(E){this.runtimeInput.value=E},enumerable:!1,configurable:!0}),M.prototype.fire=function(){this.type===J.Trigger&&this.runtimeInput.fire()},M.prototype.delete=function(){this.runtimeInput=null},M})(),te;(function(M){M[M.General=128]="General",M[M.OpenUrl=131]="OpenUrl"})(te||(te={}));var re=(function(){function M(E){this.isBindableArtboard=!1,this.isBindableArtboard=E}return M})(),B=(function(M){g(E,M);function E(C,z){var ae=M.call(this,!1)||this;return ae.nativeArtboard=C,ae.file=z,ae}return E})(re),oe=(function(M){g(E,M);function E(C){var z=M.call(this,!0)||this;return z.selfUnref=!1,z.nativeArtboard=C,z}return E.prototype.destroy=function(){this.selfUnref&&this.nativeArtboard.unref()},E})(re),$=(function(){function M(E,C,z,ae){this.stateMachine=E,this.playing=z,this.artboard=ae,this.inputs=[],this.instance=new C.StateMachineInstance(E,ae),this.initInputs(C)}return Object.defineProperty(M.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"statesChanged",{get:function(){for(var E=[],C=0;C<this.instance.stateChangedCount();C++)E.push(this.instance.stateChangedNameByIndex(C));return E},enumerable:!1,configurable:!0}),M.prototype.advance=function(E){this.instance.advance(E)},M.prototype.advanceAndApply=function(E){this.instance.advanceAndApply(E)},M.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},M.prototype.reportedEventAt=function(E){return this.instance.reportedEventAt(E)},M.prototype.initInputs=function(E){for(var C=0;C<this.instance.inputCount();C++){var z=this.instance.input(C);this.inputs.push(this.mapRuntimeInput(z,E))}},M.prototype.mapRuntimeInput=function(E,C){if(E.type===C.SMIInput.bool)return new K(J.Boolean,E.asBool());if(E.type===C.SMIInput.number)return new K(J.Number,E.asNumber());if(E.type===C.SMIInput.trigger)return new K(J.Trigger,E.asTrigger())},M.prototype.cleanup=function(){this.inputs.forEach(function(E){E.delete()}),this.inputs.length=0,this.instance.delete()},M.prototype.bindViewModelInstance=function(E){E.runtimeInstance!=null&&this.instance.bindViewModelInstance(E.runtimeInstance)},M})(),ce=(function(){function M(E,C,z,ae,be){ae===void 0&&(ae=[]),be===void 0&&(be=[]),this.runtime=E,this.artboard=C,this.eventManager=z,this.animations=ae,this.stateMachines=be}return M.prototype.add=function(E,C,z){if(z===void 0&&(z=!0),E=sn(E),E.length===0)this.animations.forEach(function(ot){return ot.playing=C}),this.stateMachines.forEach(function(ot){return ot.playing=C});else for(var ae=this.animations.map(function(ot){return ot.name}),be=this.stateMachines.map(function(ot){return ot.name}),Re=0;Re<E.length;Re++){var Ke=ae.indexOf(E[Re]),Xe=be.indexOf(E[Re]);if(Ke>=0||Xe>=0)Ke>=0?this.animations[Ke].playing=C:this.stateMachines[Xe].playing=C;else{var Ue=this.artboard.animationByName(E[Re]);if(Ue){var rt=new p.Animation(Ue,this.artboard,this.runtime,C);rt.advance(0),rt.apply(1),this.animations.push(rt)}else{var Pe=this.artboard.stateMachineByName(E[Re]);if(Pe){var Fe=new $(Pe,this.runtime,C,this.artboard);this.stateMachines.push(Fe)}}}}return z&&(C?this.eventManager.fire({type:ee.Play,data:this.playing}):this.eventManager.fire({type:ee.Pause,data:this.paused})),C?this.playing:this.paused},M.prototype.initLinearAnimations=function(E,C){for(var z=this.animations.map(function(Xe){return Xe.name}),ae=0;ae<E.length;ae++){var be=z.indexOf(E[ae]);if(be>=0)this.animations[be].playing=C;else{var Re=this.artboard.animationByName(E[ae]);if(Re){var Ke=new p.Animation(Re,this.artboard,this.runtime,C);Ke.advance(0),Ke.apply(1),this.animations.push(Ke)}else console.error("Animation with name ".concat(E[ae]," not found."))}}},M.prototype.initStateMachines=function(E,C){for(var z=this.stateMachines.map(function(Xe){return Xe.name}),ae=0;ae<E.length;ae++){var be=z.indexOf(E[ae]);if(be>=0)this.stateMachines[be].playing=C;else{var Re=this.artboard.stateMachineByName(E[ae]);if(Re){var Ke=new $(Re,this.runtime,C,this.artboard);this.stateMachines.push(Ke)}else console.warn("State Machine with name ".concat(E[ae]," not found.")),this.initLinearAnimations([E[ae]],C)}}},M.prototype.play=function(E){return this.add(E,!0)},M.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(E){E.playing||E.advanceAndApply(0)})},M.prototype.pause=function(E){return this.add(E,!1)},M.prototype.scrub=function(E,C){var z=this.animations.filter(function(ae){return E.includes(ae.name)});return z.forEach(function(ae){return ae.scrubTo=C}),z.map(function(ae){return ae.name})},Object.defineProperty(M.prototype,"playing",{get:function(){return this.animations.filter(function(E){return E.playing}).map(function(E){return E.name}).concat(this.stateMachines.filter(function(E){return E.playing}).map(function(E){return E.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"paused",{get:function(){return this.animations.filter(function(E){return!E.playing}).map(function(E){return E.name}).concat(this.stateMachines.filter(function(E){return!E.playing}).map(function(E){return E.name}))},enumerable:!1,configurable:!0}),M.prototype.stop=function(E){var C=this;E=sn(E);var z=[];if(E.length===0)z=this.animations.map(function(Re){return Re.name}).concat(this.stateMachines.map(function(Re){return Re.name})),this.animations.forEach(function(Re){return Re.cleanup()}),this.stateMachines.forEach(function(Re){return Re.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var ae=this.animations.filter(function(Re){return E.includes(Re.name)});ae.forEach(function(Re){Re.cleanup(),C.animations.splice(C.animations.indexOf(Re),1)});var be=this.stateMachines.filter(function(Re){return E.includes(Re.name)});be.forEach(function(Re){Re.cleanup(),C.stateMachines.splice(C.stateMachines.indexOf(Re),1)}),z=ae.map(function(Re){return Re.name}).concat(be.map(function(Re){return Re.name}))}return this.eventManager.fire({type:ee.Stop,data:z}),z},Object.defineProperty(M.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(E,C){return E||C.playing},!1)||this.stateMachines.reduce(function(E,C){return E||C.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),M.prototype.atLeastOne=function(E,C){C===void 0&&(C=!0);var z;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([z=this.artboard.animationByIndex(0).name],E,C):this.artboard.stateMachineCount()>0&&this.add([z=this.artboard.stateMachineByIndex(0).name],E,C)),z},M.prototype.handleLooping=function(){for(var E=0,C=this.animations.filter(function(ae){return ae.playing});E<C.length;E++){var z=C[E];z.loopValue===0&&z.loopCount?(z.loopCount=0,this.stop(z.name)):z.loopValue===1&&z.loopCount?(this.eventManager.fire({type:ee.Loop,data:{animation:z.name,type:W.Loop}}),z.loopCount=0):z.loopValue===2&&z.loopCount>1&&(this.eventManager.fire({type:ee.Loop,data:{animation:z.name,type:W.PingPong}}),z.loopCount=0)}},M.prototype.handleStateChanges=function(){for(var E=[],C=0,z=this.stateMachines.filter(function(be){return be.playing});C<z.length;C++){var ae=z[C];E.push.apply(E,ae.statesChanged)}E.length>0&&this.eventManager.fire({type:ee.StateChange,data:E})},M.prototype.handleAdvancing=function(E){this.eventManager.fire({type:ee.Advance,data:E})},M})(),ee;(function(M){M.Load="load",M.LoadError="loaderror",M.Play="play",M.Pause="pause",M.Stop="stop",M.Loop="loop",M.Draw="draw",M.Advance="advance",M.StateChange="statechange",M.RiveEvent="riveevent",M.AudioStatusChange="audiostatuschange"})(ee||(ee={}));var W;(function(M){M.OneShot="oneshot",M.Loop="loop",M.PingPong="pingpong"})(W||(W={}));var de=(function(){function M(E){E===void 0&&(E=[]),this.listeners=E}return M.prototype.getListeners=function(E){return this.listeners.filter(function(C){return C.type===E})},M.prototype.add=function(E){this.listeners.includes(E)||this.listeners.push(E)},M.prototype.remove=function(E){for(var C=0;C<this.listeners.length;C++){var z=this.listeners[C];if(z.type===E.type&&z.callback===E.callback){this.listeners.splice(C,1);break}}},M.prototype.removeAll=function(E){var C=this;E?this.listeners.filter(function(z){return z.type===E}).forEach(function(z){return C.remove(z)}):this.listeners.splice(0,this.listeners.length)},M.prototype.fire=function(E){var C=this.getListeners(E.type);C.forEach(function(z){return z.callback(E)})},M})(),Y=(function(){function M(E){this.eventManager=E,this.queue=[]}return M.prototype.add=function(E){this.queue.push(E)},M.prototype.process=function(){for(;this.queue.length>0;){var E=this.queue.shift();E!=null&&E.action&&E.action(),E!=null&&E.event&&this.eventManager.fire(E.event)}},M})(),Z;(function(M){M[M.AVAILABLE=0]="AVAILABLE",M[M.UNAVAILABLE=1]="UNAVAILABLE"})(Z||(Z={}));var Q=(function(M){g(E,M);function E(){var C=M!==null&&M.apply(this,arguments)||this;return C._started=!1,C._enabled=!1,C._status=Z.UNAVAILABLE,C}return E.prototype.delay=function(C){return T(this,void 0,void 0,function(){return S(this,function(z){return[2,new Promise(function(ae){return setTimeout(ae,C)})]})})},E.prototype.timeout=function(){return T(this,void 0,void 0,function(){return S(this,function(C){return[2,new Promise(function(z,ae){return setTimeout(ae,50)})]})})},E.prototype.reportToListeners=function(){this.fire({type:ee.AudioStatusChange}),this.removeAll()},E.prototype.enableAudio=function(){return T(this,void 0,void 0,function(){return S(this,function(C){return this._enabled||(this._enabled=!0,this._status=Z.AVAILABLE,this.reportToListeners()),[2]})})},E.prototype.testAudio=function(){return T(this,void 0,void 0,function(){return S(this,function(C){switch(C.label){case 0:if(!(this._status===Z.UNAVAILABLE&&this._audioContext!==null))return[3,4];C.label=1;case 1:return C.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return C.sent(),this.enableAudio(),[3,4];case 3:return C.sent(),[3,4];case 4:return[2]}})})},E.prototype._establishAudio=function(){return T(this,void 0,void 0,function(){return S(this,function(C){switch(C.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),C.label=2;case 2:return this._status!==Z.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return C.sent(),[4,this.delay(1e3)];case 4:return C.sent(),[3,2];case 5:return[2]}})})},E.prototype.listenForUserAction=function(){var C=this,z=function(){return T(C,void 0,void 0,function(){return S(this,function(ae){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",z,{once:!0})},E.prototype.establishAudio=function(){return T(this,void 0,void 0,function(){return S(this,function(C){return this._establishAudio(),[2]})})},Object.defineProperty(E.prototype,"systemVolume",{get:function(){return this._status===Z.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),E})(de),he=new Q,Ee=(function(){function M(){}return M.prototype.observe=function(){},M.prototype.unobserve=function(){},M.prototype.disconnect=function(){},M})(),F=globalThis.ResizeObserver||Ee,ne=(function(){function M(){var E=this;this._elementsMap=new Map,this._onObservedEntry=function(C){var z=E._elementsMap.get(C.target);z!==null?z.onResize(C.target.clientWidth==0||C.target.clientHeight==0):E._resizeObserver.unobserve(C.target)},this._onObserved=function(C){C.forEach(E._onObservedEntry)},this._resizeObserver=new F(this._onObserved)}return M.prototype.add=function(E,C){var z={onResize:C,element:E};return this._elementsMap.set(E,z),this._resizeObserver.observe(E),z},M.prototype.remove=function(E){this._resizeObserver.unobserve(E.element),this._elementsMap.delete(E.element)},M})(),xe=new ne,Ae=(function(){function M(E){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.bindableArtboards=[],this.src=E.src,this.buffer=E.buffer,E.assetLoader&&(this.assetLoader=E.assetLoader),this.enableRiveAssetCDN=typeof E.enableRiveAssetCDN=="boolean"?E.enableRiveAssetCDN:!0,this.eventManager=new de,E.onLoad&&this.on(ee.Load,E.onLoad),E.onLoadError&&this.on(ee.LoadError,E.onLoadError)}return M.prototype.releaseFile=function(){var E;this.selfUnref&&((E=this.file)===null||E===void 0||E.unref()),this.file=null},M.prototype.releaseBindableArtboards=function(){this.bindableArtboards.forEach(function(E){return E.destroy()})},M.prototype.initData=function(){return T(this,void 0,void 0,function(){var E,C,z,ae,be;return S(this,function(Re){switch(Re.label){case 0:return this.src?(E=this,[4,nn(this.src)]):[3,2];case 1:E.buffer=Re.sent(),Re.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(z=new h.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),C=z.assetLoader),ae=this,[4,this.runtime.load(new Uint8Array(this.buffer),C,this.enableRiveAssetCDN)]);case 3:return ae.file=Re.sent(),be=new h.FileFinalizer(this.file),h.finalizationRegistry.register(this,be),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:ee.Load,data:this}):this.fireLoadError(M.fileLoadErrorMessage),[2])}})})},M.prototype.init=function(){return T(this,void 0,void 0,function(){var E,C;return S(this,function(z){switch(z.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(M.missingErrorMessage),[2];z.label=1;case 1:return z.trys.push([1,4,,5]),E=this,[4,G.awaitInstance()];case 2:return E.runtime=z.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return z.sent(),[3,5];case 4:return C=z.sent(),this.fireLoadError(C instanceof Error?C.message:M.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},M.prototype.fireLoadError=function(E){throw this.eventManager.fire({type:ee.LoadError,data:E}),new Error(E)},M.prototype.on=function(E,C){this.eventManager.add({type:E,callback:C})},M.prototype.off=function(E,C){this.eventManager.remove({type:E,callback:C})},M.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.releaseBindableArtboards(),this.destroyed=!0)},M.prototype.removeAllRiveEventListeners=function(E){this.eventManager.removeAll(E)},M.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},M.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},M.prototype.createBindableArtboard=function(E){if(E!=null){var C=new oe(E);return(0,h.createFinalization)(C,C.nativeArtboard),this.bindableArtboards.push(C),C}return null},M.prototype.getArtboard=function(E){var C=this.file.artboardByName(E);if(C!=null)return new B(C,this)},M.prototype.getBindableArtboard=function(E){var C=this.file.bindableArtboardByName(E);return this.createBindableArtboard(C)},M.prototype.getDefaultBindableArtboard=function(){var E=this.file.bindableArtboardDefault();return this.createBindableArtboard(E)},M.prototype.internalBindableArtboardFromArtboard=function(E){var C=this.file.internalBindableArtboardFromArtboard(E);return this.createBindableArtboard(C)},M.missingErrorMessage="Rive source file or data buffer required",M.fileLoadErrorMessage="The file failed to load",M})(),Ne=(function(){function M(E){var C=this,z;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.dispatchPointerExit=!0,this.enableMultiTouch=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(ae){var be=C._hasZeroSize!==ae;C._hasZeroSize=ae,ae?(!C._layout.maxX||!C._layout.maxY)&&C.resizeToCanvas():be&&C.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=E.canvas,E.canvas.constructor===HTMLCanvasElement&&(this._observed=xe.add(this.canvas,this.onCanvasResize)),this.src=E.src,this.buffer=E.buffer,this.riveFile=E.riveFile,this.layout=(z=E.layout)!==null&&z!==void 0?z:new k,this.shouldDisableRiveListeners=!!E.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!E.isTouchScrollEnabled,this.automaticallyHandleEvents=!!E.automaticallyHandleEvents,this.dispatchPointerExit=E.dispatchPointerExit===!1?E.dispatchPointerExit:this.dispatchPointerExit,this.enableMultiTouch=!!E.enableMultiTouch,this.enableRiveAssetCDN=E.enableRiveAssetCDN===void 0?!0:E.enableRiveAssetCDN,this.eventManager=new de,E.onLoad&&this.on(ee.Load,E.onLoad),E.onLoadError&&this.on(ee.LoadError,E.onLoadError),E.onPlay&&this.on(ee.Play,E.onPlay),E.onPause&&this.on(ee.Pause,E.onPause),E.onStop&&this.on(ee.Stop,E.onStop),E.onLoop&&this.on(ee.Loop,E.onLoop),E.onStateChange&&this.on(ee.StateChange,E.onStateChange),E.onAdvance&&this.on(ee.Advance,E.onAdvance),E.onload&&!E.onLoad&&this.on(ee.Load,E.onload),E.onloaderror&&!E.onLoadError&&this.on(ee.LoadError,E.onloaderror),E.onplay&&!E.onPlay&&this.on(ee.Play,E.onplay),E.onpause&&!E.onPause&&this.on(ee.Pause,E.onpause),E.onstop&&!E.onStop&&this.on(ee.Stop,E.onstop),E.onloop&&!E.onLoop&&this.on(ee.Loop,E.onloop),E.onstatechange&&!E.onStateChange&&this.on(ee.StateChange,E.onstatechange),E.assetLoader&&(this.assetLoader=E.assetLoader),this.taskQueue=new Y(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:E.autoplay,autoBind:E.autoBind,animations:E.animations,stateMachines:E.stateMachines,artboard:E.artboard,useOffscreenRenderer:E.useOffscreenRenderer})}return Object.defineProperty(M.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),M.new=function(E){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new M(E)},M.prototype.onSystemAudioChanged=function(){this.volume=this._volume},M.prototype.init=function(E){var C=this,z=E.src,ae=E.buffer,be=E.riveFile,Re=E.animations,Ke=E.stateMachines,Xe=E.artboard,Ue=E.autoplay,rt=Ue===void 0?!1:Ue,Pe=E.useOffscreenRenderer,Fe=Pe===void 0?!1:Pe,ot=E.autoBind,Ht=ot===void 0?!1:ot;if(!this.destroyed){if(this.src=z,this.buffer=ae,this.riveFile=be,!this.src&&!this.buffer&&!this.riveFile)throw new N(M.missingErrorMessage);var Be=sn(Re),wt=sn(Ke);this.loaded=!1,this.readyForPlaying=!1,G.awaitInstance().then(function(vt){C.destroyed||(C.runtime=vt,C.removeRiveListeners(),C.deleteRiveRenderer(),C.renderer=C.runtime.makeRenderer(C.canvas,Fe),C.canvas.width||C.canvas.height||C.resizeDrawingSurfaceToCanvas(),C.initData(Xe,Be,wt,rt,Ht).then(function(Ct){if(Ct)return C.setupRiveListeners()}).catch(function(Ct){console.error(Ct)}))}).catch(function(vt){console.error(vt)})}},M.prototype.setupRiveListeners=function(E){var C=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var z=(this.animator.stateMachines||[]).filter(function(Ke){return Ke.playing&&C.runtime.hasListeners(Ke.instance)}).map(function(Ke){return Ke.instance}),ae=this.isTouchScrollEnabled,be=this.dispatchPointerExit,Re=this.enableMultiTouch;E&&"isTouchScrollEnabled"in E&&(ae=E.isTouchScrollEnabled),this.eventCleanup=(0,h.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:z,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:ae,dispatchPointerExit:be,enableMultiTouch:Re,layoutScaleFactor:this._layout.layoutScaleFactor})}},M.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},M.prototype.initializeAudio=function(){var E=this,C;he.status==Z.UNAVAILABLE&&!((C=this.artboard)===null||C===void 0)&&C.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:ee.AudioStatusChange,callback:function(){return E.onSystemAudioChanged()}},he.add(this._audioEventListener),he.establishAudio())},M.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},M.prototype.initData=function(E,C,z,ae,be){return T(this,void 0,void 0,function(){var Re,Ke,Xe,Ue;return S(this,function(rt){switch(rt.label){case 0:return rt.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(Re=new Ae({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=Re,[4,Re.init()]);case 1:if(rt.sent(),this.destroyed)return Re.destroyIfUnused(),[2,!1];rt.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(E,C,z,ae,be),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:ee.Load,data:(Ue=this.src)!==null&&Ue!==void 0?Ue:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Ke=rt.sent(),Xe=P(Ke),console.warn(Xe),this.eventManager.fire({type:ee.LoadError,data:Xe}),[2,Promise.reject(Xe)];case 4:return[2]}})})},M.prototype.initArtboard=function(E,C,z,ae,be){if(this.file){var Re=E?this.file.artboardByName(E):this.file.defaultArtboard();if(!Re){var Ke="Invalid artboard name or no default artboard";console.warn(Ke),this.eventManager.fire({type:ee.LoadError,data:Ke});return}this.artboard=Re,Re.volume=this._volume*he.systemVolume,this.animator=new ce(this.runtime,this.artboard,this.eventManager);var Xe;if(C.length>0||z.length>0?(Xe=C.concat(z),this.animator.initLinearAnimations(C,ae),this.animator.initStateMachines(z,ae)):Xe=[this.animator.atLeastOne(ae,!1)],this.taskQueue.add({event:{type:ae?ee.Play:ee.Pause,data:Xe}}),be){var Ue=this.file.defaultArtboardViewModel(Re);if(Ue!==null){var rt=Ue.defaultInstance();if(rt!==null){var Pe=new ut(rt,null);(0,h.createFinalization)(Pe,Pe.runtimeInstance),this.bindViewModelInstance(Pe)}}}}},M.prototype.drawFrame=function(){var E,C;!((E=document==null?void 0:document.timeline)===null||E===void 0)&&E.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(C=this.runtime)===null||C===void 0||C.resolveAnimationFrame()):this.startRendering()},M.prototype.draw=function(E,C){var z;this.frameRequestId=null;var ae=performance.now();this.lastRenderTime||(this.lastRenderTime=E),this.renderSecondTimer+=E-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,C==null||C());var be=(E-this.lastRenderTime)/1e3;this.lastRenderTime=E;for(var Re=this.animator.animations.filter(function(yi){return yi.playing||yi.needsScrub}).sort(function(yi){return yi.needsScrub?-1:1}),Ke=0,Xe=Re;Ke<Xe.length;Ke++){var Ue=Xe[Ke];Ue.advance(be),Ue.instance.didLoop&&(Ue.loopCount+=1),Ue.apply(1)}for(var rt=this.animator.stateMachines.filter(function(yi){return yi.playing}),Pe=0,Fe=rt;Pe<Fe.length;Pe++){var ot=Fe[Pe],Ht=ot.reportedEventCount();if(Ht)for(var Be=0;Be<Ht;Be++){var wt=ot.reportedEventAt(Be);if(wt)if(wt.type===te.OpenUrl){if(this.eventManager.fire({type:ee.RiveEvent,data:wt}),this.automaticallyHandleEvents){var vt=document.createElement("a"),Ct=wt,Ge=Ct.url,Rn=Ct.target,$t=(0,h.sanitizeUrl)(Ge);Ge&&vt.setAttribute("href",$t),Rn&&vt.setAttribute("target",Rn),$t&&$t!==h.BLANK_URL&&vt.click()}}else this.eventManager.fire({type:ee.RiveEvent,data:wt})}ot.advanceAndApply(be)}this.animator.stateMachines.length==0&&this.artboard.advance(be);var qe=this.renderer;qe.clear(),qe.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(qe),qe.restore(),qe.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(be),this.frameCount++;var pt=performance.now();for(this.frameTimes.push(pt),this.durations.push(pt-ae);this.frameTimes[0]<=pt-1e3;)this.frameTimes.shift(),this.durations.shift();(z=this._viewModelInstance)===null||z===void 0||z.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},M.prototype.alignRenderer=function(){var E=this,C=E.renderer,z=E.runtime,ae=E._layout,be=E.artboard;C.align(ae.runtimeFit(z),ae.runtimeAlignment(z),{minX:ae.minX,minY:ae.minY,maxX:ae.maxX,maxY:ae.maxY},be.bounds,this._devicePixelRatioUsed*ae.layoutScaleFactor)},Object.defineProperty(M.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(E,C){return E+C},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),M.prototype.cleanup=function(){var E,C;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&xe.remove(this._observed),this.removeRiveListeners(),this.file&&((E=this.riveFile)===null||E===void 0||E.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(he.remove(this._audioEventListener),this._audioEventListener=null),(C=this._viewModelInstance)===null||C===void 0||C.cleanup(),this._viewModelInstance=null,this._dataEnums=null},M.prototype.deleteRiveRenderer=function(){var E;(E=this.renderer)===null||E===void 0||E.delete(),this.renderer=null},M.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},M.prototype.retrieveTextRun=function(E){var C;if(!E){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var z=this.artboard.textRun(E);if(!z){console.warn("Could not access a text run with name '".concat(E,"' in the '").concat((C=this.artboard)===null||C===void 0?void 0:C.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return z},M.prototype.getTextRunValue=function(E){var C=this.retrieveTextRun(E);return C?C.text:void 0},M.prototype.setTextRunValue=function(E,C){var z=this.retrieveTextRun(E);z&&(z.text=C)},M.prototype.play=function(E,C){var z=this;if(E=sn(E),!this.readyForPlaying){this.taskQueue.add({action:function(){return z.play(E,C)}});return}this.animator.play(E),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},M.prototype.pause=function(E){var C=this;if(E=sn(E),!this.readyForPlaying){this.taskQueue.add({action:function(){return C.pause(E)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(E)},M.prototype.scrub=function(E,C){var z=this;if(E=sn(E),!this.readyForPlaying){this.taskQueue.add({action:function(){return z.scrub(E,C)}});return}this.animator.scrub(E,C||0),this.drawFrame()},M.prototype.stop=function(E){var C=this;if(E=sn(E),!this.readyForPlaying){this.taskQueue.add({action:function(){return C.stop(E)}});return}this.animator&&this.animator.stop(E),this.eventCleanup&&this.eventCleanup()},M.prototype.reset=function(E){var C,z,ae=E==null?void 0:E.artboard,be=sn(E==null?void 0:E.animations),Re=sn(E==null?void 0:E.stateMachines),Ke=(C=E==null?void 0:E.autoplay)!==null&&C!==void 0?C:!1,Xe=(z=E==null?void 0:E.autoBind)!==null&&z!==void 0?z:!1;this.cleanupInstances(),this.initArtboard(ae,be,Re,Ke,Xe),this.taskQueue.process()},M.prototype.load=function(E){this.file=null,this.stop(),this.init(E)},Object.defineProperty(M.prototype,"layout",{get:function(){return this._layout},set:function(E){this._layout=E,(!E.maxX||!E.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),M.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},M.prototype.resizeDrawingSurfaceToCanvas=function(E){if(this.canvas instanceof HTMLCanvasElement&&window){var C=this.canvas.getBoundingClientRect(),z=C.width,ae=C.height,be=E||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=be,this.canvas.width=be*z,this.canvas.height=be*ae,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===V.Layout){var Re=this._layout.layoutScaleFactor;this.artboard.width=z/Re,this.artboard.height=ae/Re}}},Object.defineProperty(M.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var E=[],C=0;C<this.artboard.animationCount();C++)E.push(this.artboard.animationByIndex(C).name);return E},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var E=[],C=0;C<this.artboard.stateMachineCount();C++)E.push(this.artboard.stateMachineByIndex(C).name);return E},enumerable:!1,configurable:!0}),M.prototype.stateMachineInputs=function(E){if(this.loaded){var C=this.animator.stateMachines.find(function(z){return z.name===E});return C==null?void 0:C.inputs}},M.prototype.retrieveInputAtPath=function(E,C){if(!E){console.warn("No input name provided for path '".concat(C,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(E,"', at path: '").concat(C,"', but the Artboard is null"));return}var z=this.artboard.inputByPath(E,C);if(!z){console.warn("Could not access an input with name: '".concat(E,"', at path:'").concat(C,"'"));return}return z},M.prototype.setBooleanStateAtPath=function(E,C,z){var ae=this.retrieveInputAtPath(E,z);ae&&(ae.type===J.Boolean?ae.asBool().value=C:console.warn("Input with name: '".concat(E,"', at path:'").concat(z,"' is not a boolean")))},M.prototype.setNumberStateAtPath=function(E,C,z){var ae=this.retrieveInputAtPath(E,z);ae&&(ae.type===J.Number?ae.asNumber().value=C:console.warn("Input with name: '".concat(E,"', at path:'").concat(z,"' is not a number")))},M.prototype.fireStateAtPath=function(E,C){var z=this.retrieveInputAtPath(E,C);z&&(z.type===J.Trigger?z.asTrigger().fire():console.warn("Input with name: '".concat(E,"', at path:'").concat(C,"' is not a trigger")))},M.prototype.retrieveTextAtPath=function(E,C){if(!E){console.warn("No text name provided for path '".concat(C,"'"));return}if(!C){console.warn("No path provided for text '".concat(E,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(E,"', at path: '").concat(C,"', but the Artboard is null"));return}var z=this.artboard.textByPath(E,C);if(!z){console.warn("Could not access text with name: '".concat(E,"', at path:'").concat(C,"'"));return}return z},M.prototype.getTextRunValueAtPath=function(E,C){var z=this.retrieveTextAtPath(E,C);if(!z){console.warn("Could not get text with name: '".concat(E,"', at path:'").concat(C,"'"));return}return z.text},M.prototype.setTextRunValueAtPath=function(E,C,z){var ae=this.retrieveTextAtPath(E,z);if(!ae){console.warn("Could not set text with name: '".concat(E,"', at path:'").concat(z,"'"));return}ae.text=C},Object.defineProperty(M.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(E){return E.playing}).map(function(E){return E.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(E){return E.playing}).map(function(E){return E.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(E){return!E.playing}).map(function(E){return E.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(E){return!E.playing}).map(function(E){return E.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),M.prototype.on=function(E,C){this.eventManager.add({type:E,callback:C})},M.prototype.off=function(E,C){this.eventManager.remove({type:E,callback:C})},M.prototype.unsubscribe=function(E,C){console.warn("This function is deprecated: please use `off()` instead."),this.off(E,C)},M.prototype.removeAllRiveEventListeners=function(E){this.eventManager.removeAll(E)},M.prototype.unsubscribeAll=function(E){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(E)},M.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},M.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},M.prototype.enableFPSCounter=function(E){this.runtime.enableFPSCounter(E)},M.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(M.prototype,"contents",{get:function(){if(this.loaded){for(var E={artboards:[]},C=0;C<this.file.artboardCount();C++){for(var z=this.file.artboardByIndex(C),ae={name:z.name,animations:[],stateMachines:[]},be=0;be<z.animationCount();be++){var Re=z.animationByIndex(be);ae.animations.push(Re.name)}for(var Ke=0;Ke<z.stateMachineCount();Ke++){for(var Xe=z.stateMachineByIndex(Ke),Ue=Xe.name,rt=new this.runtime.StateMachineInstance(Xe,z),Pe=[],Fe=0;Fe<rt.inputCount();Fe++){var ot=rt.input(Fe);Pe.push({name:ot.name,type:ot.type})}ae.stateMachines.push({name:Ue,inputs:Pe})}E.artboards.push(ae)}return E}},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(E){this._volume=E,this.artboard&&(this.artboard.volume=E*he.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"artboardWidth",{get:function(){var E;return this.artboard?this.artboard.width:(E=this._artboardWidth)!==null&&E!==void 0?E:0},set:function(E){this._artboardWidth=E,this.artboard&&(this.artboard.width=E)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"artboardHeight",{get:function(){var E;return this.artboard?this.artboard.height:(E=this._artboardHeight)!==null&&E!==void 0?E:0},set:function(E){this._artboardHeight=E,this.artboard&&(this.artboard.height=E)},enumerable:!1,configurable:!0}),M.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(M.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(E){this._devicePixelRatioUsed=E},enumerable:!1,configurable:!0}),M.prototype.bindViewModelInstance=function(E){var C;this.artboard&&!this.destroyed&&E&&E.runtimeInstance&&(E.internalIncrementReferenceCount(),(C=this._viewModelInstance)===null||C===void 0||C.cleanup(),this._viewModelInstance=E,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(z){return z.bindViewModelInstance(E)}):this.artboard.bindViewModelInstance(E.runtimeInstance))},Object.defineProperty(M.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),M.prototype.viewModelByIndex=function(E){var C=this.file.viewModelByIndex(E);return C!==null?new Me(C):null},M.prototype.viewModelByName=function(E){var C=this.file.viewModelByName(E);return C!==null?new Me(C):null},M.prototype.enums=function(){if(this._dataEnums===null){var E=this.file.enums();this._dataEnums=E.map(function(C){return new Qe(C)})}return this._dataEnums},M.prototype.defaultViewModel=function(){if(this.artboard){var E=this.file.defaultArtboardViewModel(this.artboard);if(E)return new Me(E)}return null},M.prototype.getArtboard=function(E){var C,z;return(z=(C=this.riveFile)===null||C===void 0?void 0:C.getArtboard(E))!==null&&z!==void 0?z:null},M.prototype.getBindableArtboard=function(E){var C,z;return(z=(C=this.riveFile)===null||C===void 0?void 0:C.getBindableArtboard(E))!==null&&z!==void 0?z:null},M.prototype.getDefaultBindableArtboard=function(){var E,C;return(C=(E=this.riveFile)===null||E===void 0?void 0:E.getDefaultBindableArtboard())!==null&&C!==void 0?C:null},M.missingErrorMessage="Rive source file or data buffer required",M.cleanupErrorMessage="Attempt to use file after calling cleanup.",M})(),Me=(function(){function M(E){this._viewModel=E}return Object.defineProperty(M.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),M.prototype.instanceByIndex=function(E){var C=this._viewModel.instanceByIndex(E);if(C!==null){var z=new ut(C,null);return(0,h.createFinalization)(z,C),z}return null},M.prototype.instanceByName=function(E){var C=this._viewModel.instanceByName(E);if(C!==null){var z=new ut(C,null);return(0,h.createFinalization)(z,C),z}return null},M.prototype.defaultInstance=function(){var E=this._viewModel.defaultInstance();if(E!==null){var C=new ut(E,null);return(0,h.createFinalization)(C,E),C}return null},M.prototype.instance=function(){var E=this._viewModel.instance();if(E!==null){var C=new ut(E,null);return(0,h.createFinalization)(C,E),C}return null},Object.defineProperty(M.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),M})(),Qe=(function(){function M(E){this._dataEnum=E}return Object.defineProperty(M.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),M})(),it;(function(M){M.Number="number",M.String="string",M.Boolean="boolean",M.Color="color",M.Trigger="trigger",M.Enum="enum",M.List="list",M.Image="image",M.Artboard="artboard"})(it||(it={}));var ut=(function(){function M(E,C){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this.selfUnref=!1,this._runtimeInstance=E,C!==null&&this._parents.push(C)}return Object.defineProperty(M.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"nativeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),M.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(E){E.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(E){E.clearChanges()})),this._children.forEach(function(E){return E.handleCallbacks()})},M.prototype.addParent=function(E){this._parents.includes(E)||(this._parents.push(E),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&E.addToViewModelCallbacks(this))},M.prototype.removeParent=function(E){var C=this._parents.indexOf(E);if(C!==-1){var z=this._parents[C];z.removeFromViewModelCallbacks(this),this._parents.splice(C,1)}},M.prototype.addToPropertyCallbacks=function(E){var C=this;this._propertiesWithCallbacks.includes(E)||(this._propertiesWithCallbacks.push(E),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(z){z.addToViewModelCallbacks(C)}))},M.prototype.removeFromPropertyCallbacks=function(E){var C=this;this._propertiesWithCallbacks.includes(E)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(z){return z!==E}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(z){z.removeFromViewModelCallbacks(C)}))},M.prototype.addToViewModelCallbacks=function(E){var C=this;this._children.includes(E)||(this._children.push(E),this._parents.forEach(function(z){z.addToViewModelCallbacks(C)}))},M.prototype.removeFromViewModelCallbacks=function(E){var C=this;this._children.includes(E)&&(this._children=this._children.filter(function(z){return z!==E}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(z){z.removeFromViewModelCallbacks(C)}))},M.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(E){E.clearCallbacks()})},M.prototype.propertyFromPath=function(E,C){var z=E.split("/");return this.propertyFromPathSegments(z,0,C)},M.prototype.viewModelFromPathSegments=function(E,C){var z=this.internalViewModelInstance(E[C]);return z!==null?C==E.length-1?z:z.viewModelFromPathSegments(E,C++):null},M.prototype.propertyFromPathSegments=function(E,C,z){var ae,be,Re,Ke,Xe,Ue,rt,Pe,Fe,ot,Ht,Be,wt,vt,Ct,Ge,Rn,$t;if(C<E.length-1){var qe=this.internalViewModelInstance(E[C]);return qe!==null?qe.propertyFromPathSegments(E,C+1,z):null}var pt=null;switch(z){case it.Number:if(pt=(be=(ae=this._runtimeInstance)===null||ae===void 0?void 0:ae.number(E[C]))!==null&&be!==void 0?be:null,pt!==null)return new st(pt,this);break;case it.String:if(pt=(Ke=(Re=this._runtimeInstance)===null||Re===void 0?void 0:Re.string(E[C]))!==null&&Ke!==void 0?Ke:null,pt!==null)return new Ft(pt,this);break;case it.Boolean:if(pt=(Ue=(Xe=this._runtimeInstance)===null||Xe===void 0?void 0:Xe.boolean(E[C]))!==null&&Ue!==void 0?Ue:null,pt!==null)return new mt(pt,this);break;case it.Color:if(pt=(Pe=(rt=this._runtimeInstance)===null||rt===void 0?void 0:rt.color(E[C]))!==null&&Pe!==void 0?Pe:null,pt!==null)return new Xt(pt,this);break;case it.Trigger:if(pt=(ot=(Fe=this._runtimeInstance)===null||Fe===void 0?void 0:Fe.trigger(E[C]))!==null&&ot!==void 0?ot:null,pt!==null)return new At(pt,this);break;case it.Enum:if(pt=(Be=(Ht=this._runtimeInstance)===null||Ht===void 0?void 0:Ht.enum(E[C]))!==null&&Be!==void 0?Be:null,pt!==null)return new jt(pt,this);break;case it.List:if(pt=(vt=(wt=this._runtimeInstance)===null||wt===void 0?void 0:wt.list(E[C]))!==null&&vt!==void 0?vt:null,pt!==null)return new Ze(pt,this);break;case it.Image:if(pt=(Ge=(Ct=this._runtimeInstance)===null||Ct===void 0?void 0:Ct.image(E[C]))!==null&&Ge!==void 0?Ge:null,pt!==null)return new et(pt,this);break;case it.Artboard:if(pt=($t=(Rn=this._runtimeInstance)===null||Rn===void 0?void 0:Rn.artboard(E[C]))!==null&&$t!==void 0?$t:null,pt!==null)return new De(pt,this);break}return null},M.prototype.internalViewModelInstance=function(E){var C;if(this._viewModelInstances.has(E))return this._viewModelInstances.get(E);var z=(C=this._runtimeInstance)===null||C===void 0?void 0:C.viewModel(E);if(z!==null){var ae=new M(z,this);return(0,h.createFinalization)(ae,z),ae.internalIncrementReferenceCount(),this._viewModelInstances.set(E,ae),ae}return null},M.prototype.number=function(E){var C=this.propertyFromPath(E,it.Number);return C},M.prototype.string=function(E){var C=this.propertyFromPath(E,it.String);return C},M.prototype.boolean=function(E){var C=this.propertyFromPath(E,it.Boolean);return C},M.prototype.color=function(E){var C=this.propertyFromPath(E,it.Color);return C},M.prototype.trigger=function(E){var C=this.propertyFromPath(E,it.Trigger);return C},M.prototype.enum=function(E){var C=this.propertyFromPath(E,it.Enum);return C},M.prototype.list=function(E){var C=this.propertyFromPath(E,it.List);return C},M.prototype.image=function(E){var C=this.propertyFromPath(E,it.Image);return C},M.prototype.artboard=function(E){var C=this.propertyFromPath(E,it.Artboard);return C},M.prototype.viewModel=function(E){var C=E.split("/"),z=C.length>1?this.viewModelFromPathSegments(C.slice(0,C.length-1),0):this;return z!=null?z.internalViewModelInstance(C[C.length-1]):null},M.prototype.internalReplaceViewModel=function(E,C){var z;if(C.runtimeInstance!==null){var ae=((z=this._runtimeInstance)===null||z===void 0?void 0:z.replaceViewModel(E,C.runtimeInstance))||!1;if(ae){C.internalIncrementReferenceCount();var be=this.internalViewModelInstance(E);be!==null&&(be.removeParent(this),this._children.includes(be)&&(this._children=this._children.filter(function(Re){return Re!==be})),be.cleanup()),this._viewModelInstances.set(E,C),C.addParent(this)}return ae}return!1},M.prototype.replaceViewModel=function(E,C){var z,ae=E.split("/"),be=ae.length>1?this.viewModelFromPathSegments(ae.slice(0,ae.length-1),0):this;return(z=be==null?void 0:be.internalReplaceViewModel(ae[ae.length-1],C))!==null&&z!==void 0?z:!1},M.prototype.incrementReferenceCount=function(){var E;this._referenceCount++,(E=this._runtimeInstance)===null||E===void 0||E.incrementReferenceCount()},M.prototype.decrementReferenceCount=function(){var E;this._referenceCount--,(E=this._runtimeInstance)===null||E===void 0||E.decrementReferenceCount()},Object.defineProperty(M.prototype,"properties",{get:function(){var E;return((E=this._runtimeInstance)===null||E===void 0?void 0:E.getProperties().map(function(C){return b({},C)}))||[]},enumerable:!1,configurable:!0}),M.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},M.prototype.cleanup=function(){var E=this,C;if(this._referenceCount--,this._referenceCount<=0){this.selfUnref&&((C=this._runtimeInstance)===null||C===void 0||C.unref()),this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(be){be.cleanup()}),this._viewModelInstances.clear();var z=j([],this._children,!0);this._children.length=0;var ae=j([],this._parents,!0);this._parents.length=0,z.forEach(function(be){be.removeParent(E)}),ae.forEach(function(be){be.removeFromViewModelCallbacks(E)})}},M})(),gt=(function(){function M(E,C){this.callbacks=[],this._viewModelInstanceValue=E,this._parentViewModel=C}return M.prototype.on=function(E){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(E)||(this.callbacks.push(E),this._parentViewModel.addToPropertyCallbacks(this))},M.prototype.off=function(E){E?this.callbacks=this.callbacks.filter(function(C){return C!==E}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},M.prototype.internalHandleCallback=function(E){},M.prototype.handleCallbacks=function(){var E=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(C){E.internalHandleCallback(C)})},M.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},M.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(M.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),M})(),Ft=(function(M){g(E,M);function E(C,z){return M.call(this,C,z)||this}return Object.defineProperty(E.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(C){this._viewModelInstanceValue.value=C},enumerable:!1,configurable:!0}),E.prototype.internalHandleCallback=function(C){C(this.value)},E})(gt),st=(function(M){g(E,M);function E(C,z){return M.call(this,C,z)||this}return Object.defineProperty(E.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(C){this._viewModelInstanceValue.value=C},enumerable:!1,configurable:!0}),E.prototype.internalHandleCallback=function(C){C(this.value)},E})(gt),mt=(function(M){g(E,M);function E(C,z){return M.call(this,C,z)||this}return Object.defineProperty(E.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(C){this._viewModelInstanceValue.value=C},enumerable:!1,configurable:!0}),E.prototype.internalHandleCallback=function(C){C(this.value)},E})(gt),At=(function(M){g(E,M);function E(C,z){return M.call(this,C,z)||this}return E.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},E.prototype.internalHandleCallback=function(C){C()},E})(gt),jt=(function(M){g(E,M);function E(C,z){return M.call(this,C,z)||this}return Object.defineProperty(E.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(C){this._viewModelInstanceValue.value=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(C){this._viewModelInstanceValue.valueIndex=C},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),E.prototype.internalHandleCallback=function(C){C(this.value)},E})(gt),Ze=(function(M){g(E,M);function E(C,z){return M.call(this,C,z)||this}return Object.defineProperty(E.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),E.prototype.addInstance=function(C){C.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(C.runtimeInstance),C.addParent(this._parentViewModel))},E.prototype.addInstanceAt=function(C,z){return C.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(C.runtimeInstance,z)?(C.addParent(this._parentViewModel),!0):!1},E.prototype.removeInstance=function(C){C.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(C.runtimeInstance),C.removeParent(this._parentViewModel))},E.prototype.removeInstanceAt=function(C){this._viewModelInstanceValue.removeInstanceAt(C)},E.prototype.instanceAt=function(C){var z=this._viewModelInstanceValue.instanceAt(C);if(z!=null){var ae=new ut(z,this._parentViewModel);return(0,h.createFinalization)(ae,z),ae}return null},E.prototype.swap=function(C,z){this._viewModelInstanceValue.swap(C,z)},E.prototype.internalHandleCallback=function(C){C()},E})(gt),Xt=(function(M){g(E,M);function E(C,z){return M.call(this,C,z)||this}return Object.defineProperty(E.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(C){this._viewModelInstanceValue.value=C},enumerable:!1,configurable:!0}),E.prototype.rgb=function(C,z,ae){this._viewModelInstanceValue.rgb(C,z,ae)},E.prototype.rgba=function(C,z,ae,be){this._viewModelInstanceValue.argb(be,C,z,ae)},E.prototype.argb=function(C,z,ae,be){this._viewModelInstanceValue.argb(C,z,ae,be)},E.prototype.alpha=function(C){this._viewModelInstanceValue.alpha(C)},E.prototype.opacity=function(C){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,C))*255))},E.prototype.internalHandleCallback=function(C){C(this.value)},E})(gt),et=(function(M){g(E,M);function E(C,z){return M.call(this,C,z)||this}return Object.defineProperty(E.prototype,"value",{set:function(C){var z;this._viewModelInstanceValue.value((z=C==null?void 0:C.nativeImage)!==null&&z!==void 0?z:null)},enumerable:!1,configurable:!0}),E.prototype.internalHandleCallback=function(C){C()},E})(gt),De=(function(M){g(E,M);function E(C,z){return M.call(this,C,z)||this}return Object.defineProperty(E.prototype,"value",{set:function(C){var z,ae;C.isBindableArtboard?ae=C:ae=C.file.internalBindableArtboardFromArtboard(C.nativeArtboard),this._viewModelInstanceValue.value((z=ae==null?void 0:ae.nativeArtboard)!==null&&z!==void 0?z:null)},enumerable:!1,configurable:!0}),E.prototype.internalHandleCallback=function(C){C()},E})(gt),nn=function(M){return T(void 0,void 0,void 0,function(){var E,C,z;return S(this,function(ae){switch(ae.label){case 0:return E=new Request(M),[4,fetch(E)];case 1:return C=ae.sent(),[4,C.arrayBuffer()];case 2:return z=ae.sent(),[2,z]}})})},sn=function(M){return typeof M=="string"?[M]:M instanceof Array?M:[]},gn={EventManager:de,TaskQueueManager:Y},gi=function(M){return T(void 0,void 0,void 0,function(){var E,C,z;return S(this,function(ae){switch(ae.label){case 0:return E=new Promise(function(be){return G.getInstance(function(Re){Re.decodeAudio(M,be)})}),[4,E];case 1:return C=ae.sent(),z=new h.AudioWrapper(C),h.finalizationRegistry.register(z,C),[2,z]}})})},Nt=function(M){return T(void 0,void 0,void 0,function(){var E,C,z;return S(this,function(ae){switch(ae.label){case 0:return E=new Promise(function(be){return G.getInstance(function(Re){Re.decodeImage(M,be)})}),[4,E];case 1:return C=ae.sent(),z=new h.ImageWrapper(C),h.finalizationRegistry.register(z,C),[2,z]}})})},lt=function(M){return T(void 0,void 0,void 0,function(){var E,C,z;return S(this,function(ae){switch(ae.label){case 0:return E=new Promise(function(be){return G.getInstance(function(Re){Re.decodeFont(M,be)})}),[4,E];case 1:return C=ae.sent(),z=new h.FontWrapper(C),h.finalizationRegistry.register(z,C),[2,z]}})})}})(),l})())})(Od)),Od.exports}var Dw;function tU(){return Dw||(Dw=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Qd(),n=eU();function s($){return $&&typeof $=="object"&&"default"in $?$:{default:$}}var a=s(e),l=function(){return l=Object.assign||function($){for(var ce,ee=1,W=arguments.length;ee<W;ee++)for(var de in ce=arguments[ee])Object.prototype.hasOwnProperty.call(ce,de)&&($[de]=ce[de]);return $},l.apply(this,arguments)};function u($,ce){var ee={};for(var W in $)Object.prototype.hasOwnProperty.call($,W)&&ce.indexOf(W)<0&&(ee[W]=$[W]);if($!=null&&typeof Object.getOwnPropertySymbols=="function"){var de=0;for(W=Object.getOwnPropertySymbols($);de<W.length;de++)ce.indexOf(W[de])<0&&Object.prototype.propertyIsEnumerable.call($,W[de])&&(ee[W[de]]=$[W[de]])}return ee}function d($,ce,ee,W){return new(ee||(ee=Promise))(function(de,Y){function Z(Ee){try{he(W.next(Ee))}catch(F){Y(F)}}function Q(Ee){try{he(W.throw(Ee))}catch(F){Y(F)}}function he(Ee){var F;Ee.done?de(Ee.value):(F=Ee.value,F instanceof ee?F:new ee(function(ne){ne(F)})).then(Z,Q)}he((W=W.apply($,[])).next())})}function p($,ce){var ee,W,de,Y,Z={label:0,sent:function(){if(1&de[0])throw de[1];return de[1]},trys:[],ops:[]};return Y={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function Q(he){return function(Ee){return(function(F){if(ee)throw new TypeError("Generator is already executing.");for(;Z;)try{if(ee=1,W&&(de=2&F[0]?W.return:F[0]?W.throw||((de=W.return)&&de.call(W),0):W.next)&&!(de=de.call(W,F[1])).done)return de;switch(W=0,de&&(F=[2&F[0],de.value]),F[0]){case 0:case 1:de=F;break;case 4:return Z.label++,{value:F[1],done:!1};case 5:Z.label++,W=F[1],F=[0];continue;case 7:F=Z.ops.pop(),Z.trys.pop();continue;default:if(de=Z.trys,!((de=de.length>0&&de[de.length-1])||F[0]!==6&&F[0]!==2)){Z=0;continue}if(F[0]===3&&(!de||F[1]>de[0]&&F[1]<de[3])){Z.label=F[1];break}if(F[0]===6&&Z.label<de[1]){Z.label=de[1],de=F;break}if(de&&Z.label<de[2]){Z.label=de[2],Z.ops.push(F);break}de[2]&&Z.ops.pop(),Z.trys.pop();continue}F=ce.call($,Z)}catch(ne){F=[6,ne],W=0}finally{ee=de=0}if(5&F[0])throw F[1];return{value:F[0]?F[1]:void 0,done:!0}})([he,Ee])}}}function h($){var ce=$||g(),ee=e.useState(ce),W=ee[0],de=ee[1];return e.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var Y=function(){var Q=$||g();de(Q)},Z=window.matchMedia("screen and (resolution: ".concat(W,"dppx)"));return Z.hasOwnProperty("addEventListener")?Z.addEventListener("change",Y):Z.addListener(Y),function(){Z.hasOwnProperty("removeEventListener")?Z.removeEventListener("change",Y):Z.removeListener(Y)}}},[W,$]),W}function g(){var $=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,$),3)}var b=(function(){function $(){}return $.prototype.observe=function(){},$.prototype.unobserve=function(){},$.prototype.disconnect=function(){},$})(),T=globalThis.ResizeObserver||b,S=globalThis.ResizeObserver!==void 0,j=!S;function N($,ce){ce===void 0&&(ce=!0);var ee=e.useState({width:0,height:0}),W=ee[0],de=ee[1];e.useEffect(function(){if(typeof window<"u"&&ce){var Ee=function(){de({width:window.innerWidth,height:window.innerHeight})};return j&&(Ee(),window.addEventListener("resize",Ee)),function(){return window.removeEventListener("resize",Ee)}}},[]);var Y,Z,Q,he=e.useRef(new T((Y=function(Ee){S&&de({width:Ee[Ee.length-1].contentRect.width,height:Ee[Ee.length-1].contentRect.height})},Z=0,Q=0,function(){for(var Ee=this,F=[],ne=0;ne<arguments.length;ne++)F[ne]=arguments[ne];clearTimeout(Q),Q=window.setTimeout(function(){return Y.apply(Ee,F)},Z)})));return e.useEffect(function(){var Ee=he.current;if(ce){var F=$.current;return $.current&&S&&Ee.observe($.current),function(){Ee.disconnect(),F&&S&&Ee.unobserve(F)}}Ee.disconnect()},[$,he]),W}var P={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function V($){return Object.assign({},P,$)}function D($){var ce=$.riveLoaded,ee=ce!==void 0&&ce,W=$.canvasElem,de=$.containerRef,Y=$.options,Z=Y===void 0?{}:Y,Q=$.onCanvasHasResized,he=$.artboardBounds,Ee=V(Z),F=e.useState({height:0,width:0}),ne=F[0],xe=ne.height,Ae=ne.width,Ne=F[1],Me=e.useState({height:0,width:0}),Qe=Me[0],it=Qe.height,ut=Qe.width,gt=Me[1],Ft=e.useState(!0),st=Ft[0],mt=Ft[1],At=Ee.fitCanvasToArtboardHeight,jt=Ee.shouldResizeCanvasToContainer,Ze=Ee.useDevicePixelRatio,Xt=Ee.customDevicePixelRatio,et=N(de,jt),De=h(Xt),nn=he??{},sn=nn.maxX,gn=nn.maxY,gi=e.useCallback(function(){var Nt,lt,M,E,C=(lt=(Nt=de.current)===null||Nt===void 0?void 0:Nt.clientWidth)!==null&&lt!==void 0?lt:0,z=(E=(M=de.current)===null||M===void 0?void 0:M.clientHeight)!==null&&E!==void 0?E:0;return At&&he?{width:C,height:C*(he.maxY/he.maxX)}:{width:C,height:z}},[de,At,sn,gn]);e.useEffect(function(){if(jt&&de.current&&ee){var Nt=gi(),lt=Nt.width,M=Nt.height,E=!1;if(W){var C=lt!==Ae||M!==xe;if(Ee.fitCanvasToArtboardHeight&&C&&(de.current.style.height=M+"px",E=!0),Ee.useDevicePixelRatio){if(C||lt*De!==ut||M*De!==it){var z=De*lt,ae=De*M;W.width=z,W.height=ae,W.style.width=lt+"px",W.style.height=M+"px",gt({width:z,height:ae}),E=!0}}else C&&(W.width=lt,W.height=M,gt({width:lt,height:M}),E=!0);Ne({width:lt,height:M})}Q&&(st||E)&&Q&&Q(),st&&mt(!1)}},[W,de,et,De,gi,st,mt,it,ut,xe,Ae,Q,jt,At,Ze,ee]),e.useEffect(function(){gt({width:0,height:0})},[W])}var k,G=(function(){function $(){}return $.prototype.observe=function(){},$.prototype.unobserve=function(){},$.prototype.disconnect=function(){},$})(),J=globalThis.IntersectionObserver||G,K=(function(){function $(){var ce=this;this.elementsMap=new Map,this.onObserved=function(ee){ee.forEach(function(W){var de=ce.elementsMap.get(W.target);de&&de(W)})},this.observer=new J(this.onObserved)}return $.prototype.registerCallback=function(ce,ee){this.observer.observe(ce),this.elementsMap.set(ce,ee)},$.prototype.removeCallback=function(ce){this.observer.unobserve(ce),this.elementsMap.delete(ce)},$})(),te=function(){return k||(k=new K),k};function re($){var ce=$.setContainerRef,ee=$.setCanvasRef,W=$.className,de=W===void 0?"":W,Y=$.style,Z=$.children,Q=u($,["setContainerRef","setCanvasRef","className","style","children"]),he=l({width:"100%",height:"100%"},Y);return a.default.createElement("div",l({ref:ce,className:de},!de&&{style:he}),a.default.createElement("canvas",l({ref:ee,style:{verticalAlign:"top",width:0,height:0}},Q),Z))}function B($,ce){ce===void 0&&(ce={});var ee=e.useState(null),W=ee[0],de=ee[1],Y=e.useRef(null),Z=e.useRef(null),Q=e.useState(null),he=Q[0],Ee=Q[1],F=!!$,ne=V(ce),xe=h(),Ae=e.useCallback(function(){if(he){if(he.layout&&he.layout.fit===n.Fit.Layout&&W){var st=xe*he.layout.layoutScaleFactor;he.devicePixelRatioUsed=xe,he.artboardWidth=(W==null?void 0:W.width)/st,he.artboardHeight=(W==null?void 0:W.height)/st}he.startRendering(),he.resizeToCanvas()}},[he,xe]);D({riveLoaded:!!he,canvasElem:W,containerRef:Y,options:ne,onCanvasHasResized:Ae,artboardBounds:he==null?void 0:he.bounds});var Ne=e.useCallback(function(st){st===null&&W&&(W.height=0,W.width=0),de(st)},[]);e.useEffect(function(){if(W&&$){var st,mt=he!=null;if(he==null){var At=ne.useOffscreenRenderer,jt=$.onRiveReady,Ze=u($,["onRiveReady"]);st=new n.Rive(l(l({useOffscreenRenderer:At},Ze),{canvas:W})),Z.current!=null&&Z.current.cleanup(),Z.current=st,st.on(n.EventType.Load,function(){mt=!0,jt&&jt(st),W?Ee(st):st.cleanup()})}return function(){mt||st==null||st.cleanup()}}},[W,F,he]);var Me=e.useCallback(function(st){Y.current=st},[]),Qe={observe:e.useCallback(function(st,mt){te().registerCallback(st,mt)},[]),unobserve:e.useCallback(function(st){te().removeCallback(st)},[])},it=Qe.observe,ut=Qe.unobserve;e.useEffect(function(){var st,mt=!1,At=function(){if(W&&mt){var jt=W.getBoundingClientRect();jt.width>0&&jt.height>0&&jt.top<(window.innerHeight||document.documentElement.clientHeight)&&jt.bottom>0&&jt.left<(window.innerWidth||document.documentElement.clientWidth)&&jt.right>0&&(he==null||he.startRendering(),mt=!1)}};return W&&ne.shouldUseIntersectionObserver!==!1&&it(W,function(jt){jt.isIntersecting?he&&he.startRendering():he&&he.stopRendering(),mt=!jt.isIntersecting,clearTimeout(st),jt.isIntersecting||jt.boundingClientRect.width!==0||(st=setTimeout(At,10))}),function(){W&&ut(W)}},[it,ut,he,W,ne.shouldUseIntersectionObserver]),e.useEffect(function(){return function(){he&&(he.cleanup(),Ee(null))}},[he,W]),e.useEffect(function(){return function(){Z.current!=null&&Z.current.cleanup()}},[]);var gt=$==null?void 0:$.animations;e.useEffect(function(){he&&gt&&(he.isPlaying?(he.stop(he.animationNames),he.play(gt)):he.isPaused&&(he.stop(he.animationNames),he.pause(gt)))},[gt,he]);var Ft=e.useCallback(function(st){return a.default.createElement(re,l({setContainerRef:Me,setCanvasRef:Ne},st))},[Ne,Me]);return{canvas:W,container:Y.current,setCanvasRef:Ne,setContainerRef:Me,rive:he,RiveComponent:Ft}}function oe($,ce,ee){var W=e.useState(null),de=W[0],Y=W[1],Z=e.useState(ee.defaultValue),Q=Z[0],he=Z[1],Ee=e.useState(null),F=Ee[0],ne=Ee[1],xe=e.useRef(null),Ae=e.useRef($),Ne=e.useRef(ee);e.useEffect(function(){Ne.current=ee},[ee]);var Me=e.useCallback(function(){var gt=xe.current,Ft=Ae.current,st=Ne.current;if(!gt||!Ft)return Y(null),he(st.defaultValue),ne(null),function(){};var mt=st.getProperty(gt,Ft);if(mt){Y(mt),he(st.getValue(mt)),st.getExtendedData&&ne(st.getExtendedData(mt));var At=function(){he(st.getValue(mt)),st.getExtendedData&&ne(st.getExtendedData(mt)),st.onPropertyEvent&&st.onPropertyEvent()};return mt.on(At),function(){mt.off(At)}}return function(){}},[]);e.useEffect(function(){return xe.current=ce,Ae.current=$,Me()},[ce,$,Me]);var Qe=e.useCallback(function(gt){if(de&&xe.current===ce)try{return gt(de),void(Ne.current.getExtendedData&&ne(Ne.current.getExtendedData(de)))}catch{}if(xe.current)try{var Ft=Ne.current.getProperty(xe.current,Ae.current);Ft&&(Y(Ft),gt(Ft),Ne.current.getExtendedData&&ne(Ne.current.getExtendedData(Ft)))}catch{}},[de,ce]),it=e.useMemo(function(){return Ne.current.buildPropertyOperations(Qe)},[Qe]),ut=l({value:Q},it);return ee.getExtendedData&&(ut.extendedData=F),ut}t.default=function($){var ce=$.src,ee=$.artboard,W=$.animations,de=$.stateMachines,Y=$.layout,Z=$.useOffscreenRenderer,Q=Z===void 0||Z,he=$.shouldDisableRiveListeners,Ee=he!==void 0&&he,F=$.shouldResizeCanvasToContainer,ne=F===void 0||F,xe=$.automaticallyHandleEvents,Ae=xe!==void 0&&xe,Ne=$.children,Me=u($,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),Qe=B({src:ce,artboard:ee,animations:W,layout:Y,stateMachines:de,autoplay:!0,shouldDisableRiveListeners:Ee,automaticallyHandleEvents:Ae},{useOffscreenRenderer:Q,shouldResizeCanvasToContainer:ne}).RiveComponent;return a.default.createElement(Qe,l({},Me),Ne)},t.useResizeCanvas=D,t.useRive=B,t.useRiveFile=function($){var ce=this,ee=e.useState(null),W=ee[0],de=ee[1],Y=e.useState("idle"),Z=Y[0],Q=Y[1];return e.useEffect(function(){var he=null;return d(ce,void 0,void 0,function(){return p(this,function(Ee){try{Q("loading"),(he=new n.RiveFile($)).init(),he.on(n.EventType.Load,function(){he==null||he.getInstance(),de(he),Q("success")}),he.on(n.EventType.LoadError,function(){Q("failed")}),de(he)}catch(F){console.error(F),Q("failed")}return[2]})}),function(){he==null||he.cleanup()}},[$.src,$.buffer]),{riveFile:W,status:Z}},t.useStateMachineInput=function($,ce,ee,W){var de=e.useState(null),Y=de[0],Z=de[1];return e.useEffect(function(){function Q(){if($&&ce&&ee||Z(null),$&&ce&&ee){var he=$.stateMachineInputs(ce);if(he){var Ee=he.find(function(F){return F.name===ee});W!==void 0&&Ee&&(Ee.value=W),Z(Ee||null)}}else Z(null)}Q(),$&&$.on(n.EventType.Load,function(){Q()})},[$]),Y},t.useViewModel=function($,ce){var ee=ce??{},W=ee.name,de=ee.useDefault,Y=de!==void 0&&de,Z=e.useState(null),Q=Z[0],he=Z[1];return e.useEffect(function(){function Ee(){var F;if($){var ne=null;ne=W!=null?((F=$.viewModelByName)===null||F===void 0?void 0:F.call($,W))||null:$.defaultViewModel()||null,he(ne)}else he(null)}return Ee(),$&&$.on(n.EventType.Load,Ee),function(){$&&$.off(n.EventType.Load,Ee)}},[$,W,Y]),Q},t.useViewModelInstance=function($,ce){var ee=ce??{},W=ee.name,de=ee.useDefault,Y=de!==void 0&&de,Z=ee.useNew,Q=Z!==void 0&&Z,he=ee.rive,Ee=e.useState(null),F=Ee[0],ne=Ee[1];return e.useEffect(function(){var xe,Ae,Ne;if($){var Me=null;Me=W!=null?$.instanceByName(W)||null:Y?((xe=$.defaultInstance)===null||xe===void 0?void 0:xe.call($))||null:Q?((Ae=$.instance)===null||Ae===void 0?void 0:Ae.call($))||null:((Ne=$.defaultInstance)===null||Ne===void 0?void 0:Ne.call($))||null,ne(Me),he&&Me&&he.viewModelInstance!==Me&&he.bindViewModelInstance(Me)}else ne(null)},[$,W,Y,Q,he]),F},t.useViewModelInstanceArtboard=function($,ce){return{setValue:oe($,ce,{getProperty:e.useCallback(function(ee,W){return ee.artboard(W)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(ee){return{setValue:function(W){ee(function(de){de.value=W})}}},[])}).setValue}},t.useViewModelInstanceBoolean=function($,ce){var ee=oe($,ce,{getProperty:e.useCallback(function(W,de){return W.boolean(de)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(de){W(function(Y){Y.value=de})}}},[])});return{value:ee.value,setValue:ee.setValue}},t.useViewModelInstanceColor=function($,ce){var ee=oe($,ce,{getProperty:e.useCallback(function(W,de){return W.color(de)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(de){W(function(Y){Y.value=de})},setRgb:function(de,Y,Z){W(function(Q){Q.rgb(de,Y,Z)})},setRgba:function(de,Y,Z,Q){W(function(he){he.rgba(de,Y,Z,Q)})},setAlpha:function(de){W(function(Y){Y.alpha(de)})},setOpacity:function(de){W(function(Y){Y.opacity(de)})}}},[])});return{value:ee.value,setValue:ee.setValue,setRgb:ee.setRgb,setRgba:ee.setRgba,setAlpha:ee.setAlpha,setOpacity:ee.setOpacity}},t.useViewModelInstanceEnum=function($,ce){var ee=oe($,ce,{getProperty:e.useCallback(function(W,de){return W.enum(de)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,getExtendedData:e.useCallback(function(W){return W.values},[]),buildPropertyOperations:e.useCallback(function(W){return{setValue:function(de){W(function(Y){Y.value=de})}}},[])});return{value:ee.value,values:ee.extendedData||[],setValue:ee.setValue}},t.useViewModelInstanceImage=function($,ce){return{setValue:oe($,ce,{getProperty:e.useCallback(function(ee,W){return ee.image(W)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(ee){return{setValue:function(W){ee(function(de){de.value=W})}}},[])}).setValue}},t.useViewModelInstanceList=function($,ce){var ee,W=e.useState(0)[1],de=oe($,ce,{getProperty:e.useCallback(function(Y,Z){return Y.list(Z)},[]),getValue:e.useCallback(function(Y){return Y.length},[]),defaultValue:null,onPropertyEvent:function(){W(function(Y){return Y+1})},buildPropertyOperations:e.useCallback(function(Y){return{addInstance:function(Z){Y(function(Q){return Q.addInstance(Z)})},addInstanceAt:function(Z,Q){var he=!1;return Y(function(Ee){he=Ee.addInstanceAt(Z,Q)}),he},removeInstance:function(Z){Y(function(Q){return Q.removeInstance(Z)})},removeInstanceAt:function(Z){Y(function(Q){return Q.removeInstanceAt(Z)})},getInstanceAt:function(Z){var Q=null;return Y(function(he){Q=he.instanceAt(Z)}),Q},swap:function(Z,Q){Y(function(he){return he.swap(Z,Q)})}}},[])});return{length:(ee=de.value)!==null&&ee!==void 0?ee:0,addInstance:de.addInstance,addInstanceAt:de.addInstanceAt,removeInstance:de.removeInstance,removeInstanceAt:de.removeInstanceAt,getInstanceAt:de.getInstanceAt,swap:de.swap}},t.useViewModelInstanceNumber=function($,ce){var ee=oe($,ce,{getProperty:e.useCallback(function(W,de){return W.number(de)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(de){W(function(Y){Y.value=de})}}},[])});return{value:ee.value,setValue:ee.setValue}},t.useViewModelInstanceString=function($,ce){var ee=oe($,ce,{getProperty:e.useCallback(function(W,de){return W.string(de)},[]),getValue:e.useCallback(function(W){return W.value},[]),defaultValue:null,buildPropertyOperations:e.useCallback(function(W){return{setValue:function(de){W(function(Y){Y.value=de})}}},[])});return{value:ee.value,setValue:ee.setValue}},t.useViewModelInstanceTrigger=function($,ce,ee){var W=(ee??{}).onTrigger;return{trigger:oe($,ce,{getProperty:e.useCallback(function(de,Y){return de.trigger(Y)},[]),getValue:e.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:W,buildPropertyOperations:e.useCallback(function(de){return{trigger:function(){de(function(Y){Y.trigger()})}}},[])}).trigger}},Object.keys(n).forEach(function($){$==="default"||t.hasOwnProperty($)||Object.defineProperty(t,$,{enumerable:!0,get:function(){return n[$]}})})})(Wp)),Wp}var Kp=tU();const nU=[{text:" ",icon:o.jsx(ni,{size:14})},{text:"   ?",icon:o.jsx(Ni,{size:14})},{text:"  ?",icon:o.jsx(Ui,{size:14})},{text:"  ?",icon:o.jsx(fs,{size:14})}],iU=()=>{const[t,e]=O.useState(!1),[n,s]=O.useState([{id:"0",sender:"katya",text:`${Zx.welcome}

${Zx.mainMessage}`,timestamp:Date.now()}]),[a,l]=O.useState(!0),[u,d]=O.useState(""),[p,h]=O.useState(!1),g=O.useRef(null),[b,T]=O.useState("IDLE"),{rive:S,RiveComponent:j}=Kp.useRive({src:"https://cdn.rive.app/animations/hero_use_case.riv",stateMachines:"State Machine 1",autoplay:!0}),N=Kp.useStateMachineInput(S,"State Machine 1","isSpeaking"),P=Kp.useStateMachineInput(S,"State Machine 1","isListening");O.useEffect(()=>{S&&N&&P&&(b==="SPEAKING"?(N.value=!0,P.value=!1):b==="LISTENING"?(N.value=!1,P.value=!0):(N.value=!1,P.value=!1))},[b,S,N,P]);const V=()=>{var K;(K=g.current)==null||K.scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{V()},[n,t]);const D=async K=>{if(!K.trim())return;l(!1);const te={id:Date.now().toString(),sender:"user",text:K,timestamp:Date.now()};s(re=>[...re,te]),d(""),h(!0),T("LISTENING");try{const B=await Q8(K,`   ,   .   : , ,  . 
          : "   .  ."
             "  ": " !", " ", "5 ",   .
          (2-3 ), ,  .  "" .`,"  ");h(!1),T("SPEAKING");const oe={id:(Date.now()+1).toString(),sender:"katya",text:B,timestamp:Date.now()};s($=>[...$,oe]),setTimeout(()=>{T("IDLE")},Math.min(B.length*50,5e3))}catch{h(!1),T("IDLE");const B={id:(Date.now()+1).toString(),sender:"katya",text:", -   .  :    !     .",timestamp:Date.now()};s(oe=>[...oe,B])}},k=()=>D(u),G=K=>D(K),J=()=>o.jsxs("div",{className:"w-full h-full relative",children:[o.jsx("img",{src:Qx,className:"absolute inset-0 w-full h-full object-cover",alt:"Katya"}),S&&o.jsx("div",{className:"absolute inset-0 bg-[#0A0F1C] bg-opacity-10",children:o.jsx(j,{className:"w-full h-full object-cover"})})]});return o.jsxs(o.Fragment,{children:[!t&&o.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-24 right-4 z-40 group hover:scale-105 transition-transform duration-300",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-indigo-500 rounded-full animate-ping opacity-20"}),o.jsxs("div",{className:"relative w-16 h-16 rounded-full p-0.5 bg-gradient-to-tr from-indigo-500 to-purple-600 shadow-[0_10px_30px_rgba(79,70,229,0.4)] overflow-hidden",children:[o.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-2 border-white bg-slate-900",children:J()}),o.jsx("div",{className:"absolute bottom-1 right-1 w-3.5 h-3.5 bg-green-500 rounded-full border-2 border-[#0A0F1C] z-10 shadow-sm"})]})]})}),t&&o.jsxs("div",{className:"fixed bottom-0 right-0 w-full md:w-96 md:bottom-4 md:right-4 z-50 flex flex-col h-[85vh] md:h-[650px] bg-white/95 backdrop-blur-2xl md:rounded-[2.5rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom-10 duration-500 border border-white/40 ring-1 ring-black/5",children:[o.jsxs("div",{className:"relative bg-gradient-to-b from-indigo-50 to-white/50 p-6 pb-4 border-b border-slate-100 z-10",children:[o.jsx("button",{onClick:()=>e(!1),className:"absolute top-6 right-6 w-10 h-10 rounded-full bg-white/80 hover:bg-white flex items-center justify-center text-slate-500 transition-colors backdrop-blur-sm shadow-md z-50",children:o.jsx(mi,{size:20})}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"relative mb-3",children:[(b==="SPEAKING"||p)&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute -inset-1 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 animate-[spin_3s_linear_infinite] opacity-50"}),o.jsx("div",{className:"absolute -inset-2 rounded-full border border-indigo-200 animate-ping opacity-30"})]}),o.jsx("div",{className:"relative w-24 h-24 rounded-full border-4 border-white shadow-xl overflow-hidden bg-slate-100",children:J()})]}),o.jsx("h3",{className:"font-black text-2xl text-slate-800 tracking-tight leading-none",children:""}),o.jsx("div",{className:"flex items-center gap-1.5 mt-1",children:b==="SPEAKING"||p?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-0.5 items-end h-3",children:[o.jsx("div",{className:"w-1 h-2 bg-indigo-500 rounded-full animate-[bounce_0.8s_infinite]"}),o.jsx("div",{className:"w-1 h-3 bg-indigo-500 rounded-full animate-[bounce_1s_infinite]"}),o.jsx("div",{className:"w-1 h-1.5 bg-indigo-500 rounded-full animate-[bounce_1.2s_infinite]"})]}),o.jsx("span",{className:"text-xs font-bold text-indigo-500",children:"..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full shadow-[0_0_8px_rgba(34,197,94,0.6)]"}),o.jsx("span",{className:"text-xs font-bold text-slate-400",children:" "})]})})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50",children:[n.map(K=>o.jsxs("div",{className:`flex flex-col ${K.sender==="user"?"items-end":"items-start"} animate-in fade-in slide-in-from-bottom-2 duration-300`,children:[K.sender==="katya"&&o.jsx("span",{className:"text-[10px] font-bold text-slate-400 ml-3 mb-1 uppercase tracking-wider",children:""}),o.jsx("div",{className:`max-w-[85%] px-5 py-3.5 rounded-2xl text-sm font-medium leading-relaxed shadow-sm ${K.sender==="user"?"bg-gradient-to-br from-indigo-600 to-indigo-700 text-white rounded-br-none shadow-indigo-500/20":"bg-white text-slate-700 rounded-bl-none border border-slate-100"}`,children:K.text})]},K.id)),p&&o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-full overflow-hidden bg-slate-200 mb-2 opacity-50",children:o.jsx("img",{src:Qx,className:"w-full h-full object-cover",alt:""})}),o.jsxs("div",{className:"bg-white px-4 py-3 rounded-2xl rounded-bl-none shadow-sm border border-slate-100 flex gap-1",children:[o.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce"}),o.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce delay-75"}),o.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce delay-150"})]})]}),o.jsx("div",{ref:g})]}),a&&n.length<=2&&o.jsxs("div",{className:"px-4 py-3 bg-slate-50/80 border-t border-slate-100",children:[o.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-2",children:" "}),o.jsx("div",{className:"flex flex-wrap gap-2",children:nU.map((K,te)=>o.jsxs("button",{onClick:()=>G(K.text),className:"flex items-center gap-1.5 px-3 py-2 bg-white rounded-full text-xs font-medium text-slate-600 border border-slate-200 hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-600 transition-all active:scale-95",children:[K.icon,K.text]},te))})]}),o.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex gap-2 shrink-0 relative z-20",children:[o.jsx("input",{type:"text",value:u,onChange:K=>d(K.target.value),onKeyPress:K=>K.key==="Enter"&&k(),placeholder:" ...",className:"flex-1 bg-slate-100 border-none rounded-[1.2rem] px-5 py-3.5 text-sm font-medium focus:ring-2 focus:ring-indigo-500/20 focus:bg-white transition-all placeholder:text-slate-400"}),o.jsx("button",{onClick:k,disabled:!u.trim()||p,className:"w-12 h-12 flex items-center justify-center bg-indigo-600 text-white rounded-full hover:bg-indigo-700 hover:scale-105 disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed transition-all shadow-lg shadow-indigo-500/30",children:o.jsx(qw,{size:20,className:"ml-0.5",strokeWidth:2.5})})]})]})]})},sU=()=>{const t=window.location.pathname,e=window.location.hash;return t.includes("/parent")||e.includes("parent")?"parent":"teen"},rU=()=>{const[t,e]=O.useState(null),[n,s]=O.useState(!0),[a]=O.useState(sU());O.useEffect(()=>{let u=!0;return(async()=>{oI();const p=aI();try{const h=await _M(p);u&&(e(h),s(!1))}catch(h){console.error("Failed to load user",h),u&&s(!1)}})(),()=>{u=!1}},[]);const l=async u=>{if(!t||t.completedTaskIds.includes(u.id))return;const d={...t,xp:t.xp+u.xpReward,coins:(t.coins||0)+(u.coinsReward||0),completedTaskIds:[...t.completedTaskIds,u.id],level:Math.floor((t.xp+u.xpReward)/500)+1};if(e(d),await AM(t.id,u),Li){const p=await kM(t.id);p&&e(p)}};return n||!t?o.jsxs("div",{className:"h-screen w-screen flex flex-col bg-[#020617] relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 w-[600px] h-[400px] bg-indigo-500/20 rounded-full blur-[120px]"}),o.jsx("div",{className:"absolute bottom-1/4 left-1/3 w-[400px] h-[300px] bg-purple-500/15 rounded-full blur-[100px]"})]}),o.jsxs("div",{className:"relative z-10 flex-1 p-4 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 animate-pulse"}),o.jsx("div",{className:"w-16 h-4 rounded bg-white/5 animate-pulse"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("div",{className:"w-16 h-6 rounded-full bg-white/5 animate-pulse"}),o.jsx("div",{className:"w-16 h-6 rounded-full bg-white/5 animate-pulse"})]})]}),o.jsx("div",{className:"p-4 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 animate-pulse",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10"}),o.jsxs("div",{className:"space-y-2 flex-1",children:[o.jsx("div",{className:"w-32 h-5 rounded bg-white/10"}),o.jsx("div",{className:"w-48 h-3 rounded bg-white/5"})]})]})}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map(u=>o.jsxs("div",{className:"p-3 rounded-xl bg-white/5 animate-pulse",children:[o.jsx("div",{className:"w-8 h-8 mx-auto rounded-full bg-white/10 mb-2"}),o.jsx("div",{className:"w-8 h-4 mx-auto rounded bg-white/10"})]},u))}),o.jsx("div",{className:"space-y-2 mt-4",children:[1,2,3,4].map(u=>o.jsxs("div",{className:"p-4 rounded-xl bg-white/5 animate-pulse flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/10"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx("div",{className:"w-32 h-4 rounded bg-white/10"}),o.jsx("div",{className:"w-20 h-3 rounded bg-white/5"})]})]},u))})]}),o.jsx("div",{className:"flex justify-around py-3 border-t border-white/10 bg-black/20 backdrop-blur-xl",children:[1,2,3,4].map(u=>o.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/5 animate-pulse"},u))})]}):(t.telegramId&&t.telegramId.toString(),o.jsxs("div",{className:"flex flex-col h-full bg-[#020617] relative overflow-hidden animate-in fade-in duration-500",children:[t.role!==Zr.TEEN&&o.jsxs("header",{className:"flex-none bg-white px-4 py-3 flex items-center justify-between border-b border-slate-100 shadow-sm z-30",children:[o.jsx("h1",{className:"font-bold text-lg text-slate-800",children:"AI Teenager"}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("img",{src:t.avatarUrl,className:"w-8 h-8 rounded-full bg-slate-200",alt:"Profile"})})]}),o.jsx("main",{className:"flex-1 overflow-y-auto scroll-smooth bg-[#020617]",children:a==="parent"?o.jsx(_k,{isOpen:!0,onClose:()=>window.location.href="/"}):o.jsxs(o.Fragment,{children:[t.role===Zr.TEEN&&o.jsx(pk,{user:t,onTaskComplete:l,onUserUpdate:u=>{e(u)}}),t.role===Zr.PARENT&&o.jsx(mk,{}),t.role===Zr.CURATOR&&o.jsx(gk,{})]})}),a==="teen"&&t.role===Zr.TEEN&&o.jsx(iU,{})]}))},RT=document.getElementById("root");if(!RT)throw new Error("Could not find root element to mount to");const aU=iS.createRoot(RT);aU.render(o.jsx(Ow.StrictMode,{children:o.jsx(rU,{})}));export{Et as A,fs as B,VS as C,fr as F,Bc as G,Ni as H,Bw as L,Ud as P,D5 as R,Hn as S,Ui as T,Gm as U,uN as W,mi as X,ni as Z,hs as a,iN as b,Le as c,fN as d,Wa as e,js as f,hS as g,aI as h,Qi as i,o as j,ra as k,LM as l,H as m,tN as n,Vm as o,AS as p,Jp as q,O as r,OM as s,Ds as t,O5 as u,Hw as v,Ka as w,kS as x,ll as y};
