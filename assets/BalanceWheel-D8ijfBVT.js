import{c as _,r as x,j as e,m as s,X as B,A as G,S as M,C as L,b as P,R as W,d as J,g as I,l as X,s as q}from"./index-DI5uzzHj.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],z=_("lightbulb",K);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],U=_("trending-up",Q),m=[{id:"study",name:"–£—á—ë–±–∞",emoji:"üìö",color:"#6366f1",image:"https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=300&h=300&fit=crop",tip:"–ü–æ–ø—Ä–æ–±—É–π —Ç–µ—Ö–Ω–∏–∫—É –ü–æ–º–æ–¥–æ—Ä–æ –¥–ª—è –ª—É—á—à–µ–π –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏"},{id:"health",name:"–ó–¥–æ—Ä–æ–≤—å–µ",emoji:"üí™",color:"#22c55e",image:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=300&h=300&fit=crop",tip:"–ù–∞—á–Ω–∏ —Å 10 –º–∏–Ω—É—Ç –∑–∞—Ä—è–¥–∫–∏ –∫–∞–∂–¥–æ–µ —É—Ç—Ä–æ"},{id:"friends",name:"–î—Ä—É–∑—å—è",emoji:"üë•",color:"#f59e0b",image:"https://images.unsplash.com/photo-1529156069898-49953e39b3ac?w=300&h=300&fit=crop",tip:"–ù–∞–ø–∏—à–∏ –¥—Ä—É–≥—É, —Å –∫–æ—Ç–æ—Ä—ã–º –¥–∞–≤–Ω–æ –Ω–µ –æ–±—â–∞–ª—Å—è"},{id:"family",name:"–°–µ–º—å—è",emoji:"üè†",color:"#ec4899",image:"https://images.unsplash.com/photo-1511895426328-dc8714191300?w=300&h=300&fit=crop",tip:"–ü—Ä–æ–≤–µ–¥–∏ –≤–µ—á–µ—Ä –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å —Å–µ–º—å—ë–π"},{id:"hobby",name:"–•–æ–±–±–∏",emoji:"üé®",color:"#8b5cf6",image:"https://images.unsplash.com/photo-1513364776144-60967b0f800f?w=300&h=300&fit=crop",tip:"–í—ã–¥–µ–ª–∏ —á–∞—Å –≤ –Ω–µ–¥–µ–ª—é —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–µ–±—è"},{id:"rest",name:"–û—Ç–¥—ã—Ö",emoji:"üò¥",color:"#14b8a6",image:"https://images.unsplash.com/photo-1520206183501-b80df61043c2?w=300&h=300&fit=crop",tip:"–õ–æ–∂–∏—Å—å —Å–ø–∞—Ç—å –≤ –æ–¥–Ω–æ –≤—Ä–µ–º—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å"},{id:"growth",name:"–†–∞–∑–≤–∏—Ç–∏–µ",emoji:"üå±",color:"#f97316",image:"https://images.unsplash.com/photo-1492552181161-62217fc3076d?w=300&h=300&fit=crop",tip:"–ß–∏—Ç–∞–π 10 —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ–ª–µ–∑–Ω–æ–π –∫–Ω–∏–≥–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å"},{id:"mood",name:"–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ",emoji:"üòä",color:"#3b82f6",image:"https://images.unsplash.com/photo-1489710437720-ebb67ec84dd2?w=300&h=300&fit=crop",tip:"–í–µ–¥–∏ –¥–Ω–µ–≤–Ω–∏–∫ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏"}],T=[{min:1,max:2,label:"–ö—Ä–∏—Ç–∏—á–Ω–æ",emoji:"üò∞",color:"#ef4444"},{min:3,max:4,label:"–°–ª–∞–±–æ",emoji:"üòü",color:"#f97316"},{min:5,max:6,label:"–ù–æ—Ä–º–∞–ª—å–Ω–æ",emoji:"üòê",color:"#eab308"},{min:7,max:8,label:"–•–æ—Ä–æ—à–æ",emoji:"üòä",color:"#22c55e"},{min:9,max:10,label:"–û—Ç–ª–∏—á–Ω–æ!",emoji:"ü§©",color:"#10b981"}],V=g=>T.find(h=>g>=h.min&&g<=h.max)||T[2],ee=({isOpen:g,onClose:h,onComplete:u})=>{var $;const[j,f]=x.useState("intro"),[n,v]=x.useState(0),[c,k]=x.useState(m.map(t=>({...t,score:5}))),[C,y]=x.useState([]),[S,A]=x.useState(!1),[Y,w]=x.useState("idle");x.useEffect(()=>{(async()=>{const a=localStorage.getItem("balance_wheel_history");a&&y(JSON.parse(a));const l=I();if(l!=null&&l.id){await X(l.id.toString());const o=localStorage.getItem("balance_wheel_history");o&&y(JSON.parse(o))}})()},[]);const i=m[n],d=(($=c.find(t=>t.id===(i==null?void 0:i.id)))==null?void 0:$.score)||5,N=V(d),E=t=>{k(a=>a.map(l=>l.id===i.id?{...l,score:t}:l))},D=async()=>{if(n<m.length-1)v(t=>t+1);else{const a=[{date:new Date().toISOString(),scores:[...c]},...C].slice(0,10);y(a),localStorage.setItem("balance_wheel_history",JSON.stringify(a));const l=I();if(l!=null&&l.id){w("syncing");const o=await q(l.id.toString());w(o?"synced":"idle"),o&&setTimeout(()=>w("idle"),2e3)}f("result"),u==null||u(c)}},R=()=>{f("intro"),v(0),k(m.map(t=>({...t,score:5})))},F=c.reduce((t,a)=>t+a.score,0)/c.length,r=[...c].sort((t,a)=>t.score-a.score)[0],b=[...c].sort((t,a)=>a.score-t.score)[0];return g?e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(180deg, #0a0a1a 0%, #1a1a3a 50%, #0a0a1a 100%)"}}),e.jsx(s.div,{className:"absolute top-0 left-0 w-full h-1/2",style:{background:"radial-gradient(ellipse at 50% 0%, rgba(99,102,241,0.3) 0%, transparent 60%)",filter:"blur(60px)"},animate:{opacity:[.5,.8,.5]},transition:{duration:4,repeat:1/0}}),e.jsx(s.div,{className:"absolute bottom-0 right-0 w-full h-1/2",style:{background:"radial-gradient(ellipse at 50% 100%, rgba(139,92,246,0.2) 0%, transparent 60%)",filter:"blur(60px)"},animate:{opacity:[.3,.6,.3]},transition:{duration:5,repeat:1/0,delay:1}}),[...Array(20)].map((t,a)=>e.jsx(s.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,opacity:.3+Math.random()*.4},animate:{opacity:[.2,.8,.2],scale:[.8,1.2,.8]},transition:{duration:2+Math.random()*3,repeat:1/0,delay:Math.random()*2}},a))]}),e.jsx("button",{onClick:h,className:"absolute top-14 right-4 z-50 w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.1)",backdropFilter:"blur(20px)",border:"1px solid rgba(255,255,255,0.1)"},children:e.jsx(B,{size:20,className:"text-white/70"})}),e.jsx("div",{className:"relative z-10 h-full overflow-y-auto pt-6 pb-8 px-4",children:e.jsxs(G,{mode:"wait",children:[j==="intro"&&e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-md mx-auto pt-8",children:[e.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-6 rounded-3xl overflow-hidden",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=200&h=200&fit=crop",alt:"Balance",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-indigo-600/60 to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-5xl",children:"‚öñÔ∏è"})})]}),e.jsx("h2",{className:"text-3xl font-black text-white text-center mb-3",children:"–ö–æ–ª–µ—Å–æ –ë–∞–ª–∞–Ω—Å–∞"}),e.jsx("p",{className:"text-white/60 text-center mb-8 px-4",children:"–û—Ü–µ–Ω–∏ 8 —Å—Ñ–µ—Ä –∂–∏–∑–Ω–∏ –∏ —É–∑–Ω–∞–π, –≥–¥–µ —Ç—ã —Å–µ–π—á–∞—Å. –≠—Ç–æ –∑–∞–π–º—ë—Ç –≤—Å–µ–≥–æ 2 –º–∏–Ω—É—Ç—ã."}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-8",children:m.map((t,a)=>e.jsxs(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:a*.05},className:"aspect-square rounded-xl overflow-hidden relative",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${t.color}60 0%, ${t.color}30 100%)`}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:t.emoji})})]},t.id))}),e.jsxs(s.button,{onClick:()=>f("scoring"),className:"w-full py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",boxShadow:"0 8px 32px rgba(99,102,241,0.4)"},whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(M,{size:20}),"–ù–∞—á–∞—Ç—å –æ—Ü–µ–Ω–∫—É"]})]},"intro"),j==="scoring"&&i&&e.jsxs(s.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"max-w-md mx-auto pt-4",children:[e.jsx("div",{className:"flex gap-1.5 mb-6",children:m.map((t,a)=>e.jsx(s.div,{className:"h-1.5 flex-1 rounded-full",style:{background:a<n?"linear-gradient(90deg, #22c55e, #10b981)":a===n?i.color:"rgba(255,255,255,0.1)"},initial:a===n?{scaleX:0}:{},animate:a===n?{scaleX:1}:{},transition:{duration:.3}},a))}),e.jsxs(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"rounded-3xl overflow-hidden mb-6 relative",style:{boxShadow:`0 20px 60px ${i.color}30`},children:[e.jsxs("div",{className:"h-48 relative",children:[e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(180deg, transparent 0%, ${i.color}90 100%)`}}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-5",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-4xl",children:i.emoji}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-white",children:i.name}),e.jsx("p",{className:"text-white/70 text-sm",children:"–ö–∞–∫ —Ç—ã –æ—Ü–µ–Ω–∏–≤–∞–µ—à—å —ç—Ç—É —Å—Ñ–µ—Ä—É?"})]})]})})]}),e.jsxs("div",{className:"p-5",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.03) 100%)",backdropFilter:"blur(40px)"},children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[e.jsx(s.div,{initial:{scale:1.3},animate:{scale:1},className:"text-7xl font-black",style:{color:N.color},children:d},d),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-3xl mb-1",children:N.emoji}),e.jsx("div",{className:"text-white/60 text-sm",children:N.label})]})]}),e.jsx("div",{className:"grid grid-cols-10 gap-1.5 mb-4",children:[1,2,3,4,5,6,7,8,9,10].map(t=>e.jsx(s.button,{onClick:()=>E(t),className:"aspect-square rounded-xl font-bold text-sm transition-all",style:{background:d===t?i.color:d>=t?`${i.color}40`:"rgba(255,255,255,0.05)",color:d>=t?"white":"rgba(255,255,255,0.4)",boxShadow:d===t?`0 4px 15px ${i.color}50`:"none"},whileHover:{scale:1.1},whileTap:{scale:.9},children:t},t))}),e.jsxs(s.button,{onClick:()=>A(!S),className:"w-full p-3 rounded-xl text-left flex items-center gap-3",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsx(z,{size:18,className:"text-amber-400 shrink-0"}),e.jsx("span",{className:"text-white/60 text-sm flex-1",children:S?i.tip:"–ù–∞–∂–º–∏ –¥–ª—è —Å–æ–≤–µ—Ç–∞"})]})]})]}),e.jsx(s.button,{onClick:D,className:"w-full py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2",style:{background:`linear-gradient(135deg, ${i.color} 0%, ${i.color}cc 100%)`,boxShadow:`0 8px 32px ${i.color}40`},whileHover:{scale:1.02},whileTap:{scale:.98},children:n<m.length-1?e.jsxs(e.Fragment,{children:["–î–∞–ª–µ–µ ",e.jsx(L,{size:20})]}):e.jsxs(e.Fragment,{children:["–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç ",e.jsx(M,{size:20})]})})]},`scoring-${n}`),j==="result"&&e.jsxs(s.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-md mx-auto pt-4",children:[e.jsx("h2",{className:"text-2xl font-black text-white text-center mb-6",children:"‚ú® –¢–≤–æ–π –ë–∞–ª–∞–Ω—Å"}),e.jsx("div",{className:"relative w-72 h-72 mx-auto mb-6",children:e.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full h-full",children:[[2,4,6,8,10].map(t=>e.jsx("circle",{cx:"100",cy:"100",r:t*7,fill:"none",stroke:"rgba(255,255,255,0.08)",strokeWidth:"1"},t)),e.jsx(s.polygon,{initial:{opacity:0,scale:.5},animate:{opacity:.4,scale:1},transition:{duration:.8,type:"spring"},points:c.map((t,a)=>{const o=(a*360/c.length-90)*Math.PI/180,p=t.score*7;return`${100+p*Math.cos(o)},${100+p*Math.sin(o)}`}).join(" "),fill:"url(#wheelGradient)",stroke:"url(#wheelGradient)",strokeWidth:"2"}),c.map((t,a)=>{const o=(a*360/c.length-90)*Math.PI/180,p=t.score*7,H=100+p*Math.cos(o),O=100+p*Math.sin(o);return e.jsxs("g",{children:[e.jsx("line",{x1:"100",y1:"100",x2:100+70*Math.cos(o),y2:100+70*Math.sin(o),stroke:"rgba(255,255,255,0.15)",strokeWidth:"1"}),e.jsx(s.circle,{initial:{scale:0},animate:{scale:1},transition:{delay:.3+a*.1,type:"spring"},cx:H,cy:O,r:"8",fill:t.color,style:{filter:`drop-shadow(0 0 8px ${t.color})`}}),e.jsx("text",{x:100+88*Math.cos(o),y:100+88*Math.sin(o),textAnchor:"middle",dominantBaseline:"middle",className:"text-base",children:t.emoji})]},t.id)}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"wheelGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#6366f1"}),e.jsx("stop",{offset:"50%",stopColor:"#8b5cf6"}),e.jsx("stop",{offset:"100%",stopColor:"#ec4899"})]})})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"p-4 rounded-2xl text-center",style:{background:"linear-gradient(135deg, rgba(99,102,241,0.2) 0%, rgba(99,102,241,0.1) 100%)",border:"1px solid rgba(99,102,241,0.3)"},children:[e.jsx("div",{className:"text-3xl font-black text-indigo-400",children:F.toFixed(1)}),e.jsx("div",{className:"text-white/50 text-xs mt-1",children:"–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª"})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"p-4 rounded-2xl text-center relative overflow-hidden",style:{background:`linear-gradient(135deg, ${b.color}30 0%, ${b.color}15 100%)`,border:`1px solid ${b.color}40`},children:[e.jsx(P,{size:16,className:"absolute top-2 right-2 text-amber-400"}),e.jsx("div",{className:"text-2xl mb-1",children:b.emoji}),e.jsx("div",{className:"text-white/50 text-xs",children:"–¢–≤–æ—è —Å–∏–ª–∞"})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"p-4 rounded-2xl text-center relative overflow-hidden",style:{background:`linear-gradient(135deg, ${r.color}30 0%, ${r.color}15 100%)`,border:`1px solid ${r.color}40`},children:[e.jsx(U,{size:16,className:"absolute top-2 right-2 text-emerald-400"}),e.jsx("div",{className:"text-2xl mb-1",children:r.emoji}),e.jsx("div",{className:"text-white/50 text-xs",children:"–ó–æ–Ω–∞ —Ä–æ—Å—Ç–∞"})]})]}),e.jsx("div",{className:"space-y-2 mb-6",children:[...c].sort((t,a)=>a.score-t.score).map((t,a)=>e.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+a*.05},className:"flex items-center gap-3 p-3 rounded-xl",style:{background:"rgba(255,255,255,0.03)"},children:[e.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden shrink-0",style:{boxShadow:`0 2px 10px ${t.color}30`},children:e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-white font-medium text-sm",children:t.name}),e.jsx("span",{className:"text-lg",children:t.emoji})]})}),e.jsx("div",{className:"text-lg font-bold",style:{color:t.color},children:t.score})]},t.id))}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2},className:"p-4 rounded-2xl mb-6",style:{background:`linear-gradient(135deg, ${r.color}15 0%, ${r.color}05 100%)`,border:`1px solid ${r.color}30`},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(z,{size:20,className:"text-amber-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-white/80 text-sm mb-2",children:[e.jsx("strong",{children:r.name})," ‚Äî —Ç–≤–æ—è –∑–æ–Ω–∞ —Ä–æ—Å—Ç–∞ –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ."]}),e.jsxs("p",{className:"text-white/50 text-xs",children:["üí° ",r.tip]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(s.button,{onClick:R,className:"flex-1 py-4 rounded-2xl font-bold flex items-center justify-center gap-2",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(W,{size:18,className:"text-white/60"}),e.jsx("span",{className:"text-white/70",children:"–ó–∞–Ω–æ–≤–æ"})]}),e.jsxs(s.button,{onClick:h,className:"flex-1 py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",boxShadow:"0 8px 32px rgba(99,102,241,0.4)"},whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(J,{size:18}),"–ì–æ—Ç–æ–≤–æ"]})]})]},"result")]})})]}):null};export{ee as BalanceWheel,ee as default};
