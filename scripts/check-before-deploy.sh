#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
# –ó–∞–ø—É—Å–∫–∞—Ç—å –ø–µ—Ä–µ–¥ git push –∏–ª–∏ git commit

echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º..."

ERRORS=0

# –ü—Ä–æ–≤–µ—Ä–∫–∞ vite.config.ts
if [ ! -f "vite.config.ts" ]; then
    echo "‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: vite.config.ts –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!"
    echo "   –ë–µ–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Å–æ–±–µ—Ä–µ—Ç—Å—è!"
    ERRORS=$((ERRORS + 1))
else
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫—Ä–∏—Ç–∏—á–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ base
    if ! grep -q "base:.*'/ai-pod/'" vite.config.ts; then
        echo "‚ö†Ô∏è  –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –í vite.config.ts –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç—Ä–æ–∫–∞ base: '/ai-pod/'"
        echo "   –°–∞–π—Ç –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ GitHub Pages!"
    else
        echo "‚úÖ vite.config.ts –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç base path"
    fi
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ deploy.yml
if [ ! -f ".github/workflows/deploy.yml" ]; then
    echo "‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: .github/workflows/deploy.yml –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!"
    echo "   –ë–µ–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!"
    ERRORS=$((ERRORS + 1))
else
    echo "‚úÖ deploy.yml –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–ø–∫–∏ agents-md
if [ ! -d "agents-md" ]; then
    echo "‚ö†Ô∏è  –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –ü–∞–ø–∫–∞ agents-md –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!"
elif [ -z "$(ls -A agents-md/*.md 2>/dev/null)" ]; then
    echo "‚ö†Ô∏è  –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï: –ü–∞–ø–∫–∞ agents-md –ø—É—Å—Ç–∞!"
else
    MD_COUNT=$(ls -1 agents-md/*.md 2>/dev/null | wc -l | tr -d ' ')
    echo "‚úÖ –ü–∞–ø–∫–∞ agents-md —Å–æ–¥–µ—Ä–∂–∏—Ç $MD_COUNT —Ñ–∞–π–ª–æ–≤"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ package.json
if [ ! -f "package.json" ]; then
    echo "‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: package.json –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!"
    ERRORS=$((ERRORS + 1))
else
    echo "‚úÖ package.json –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ index.html
if [ ! -f "index.html" ]; then
    echo "‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: index.html –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!"
    ERRORS=$((ERRORS + 1))
else
    echo "‚úÖ index.html –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ index.tsx
if [ ! -f "index.tsx" ]; then
    echo "‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: index.tsx –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç!"
    ERRORS=$((ERRORS + 1))
else
    echo "‚úÖ index.tsx –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç"
fi

echo ""
if [ $ERRORS -gt 0 ]; then
    echo "‚ùå –û–ë–ù–ê–†–£–ñ–ï–ù–´ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –û–®–ò–ë–ö–ò! –î–µ–ø–ª–æ–π –±—É–¥–µ—Ç –ø—Ä–µ—Ä–≤–∞–Ω!"
    echo "   –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º."
    exit 1
else
    echo "‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ. –ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –¥–µ–ø–ª–æ–π."
    exit 0
fi













