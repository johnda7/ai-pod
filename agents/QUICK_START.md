# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è AI –ê–≥–µ–Ω—Ç–æ–≤

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å

### 1. –ü—Ä–æ–µ–∫—Ç - —ç—Ç–æ –≥–µ–π–º–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- –ü–æ–¥—Ä–æ—Å—Ç–∫–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Ä–æ–∫–∏ –∫–∞–∫ –∫–≤–µ—Å—Ç—ã
- –ü–æ–ª—É—á–∞—é—Ç XP, –º–æ–Ω–µ—Ç—ã, –ø—Ä–æ–∫–∞—á–∏–≤–∞—é—Ç —É—Ä–æ–≤–µ–Ω—å
- 19 —É—Ä–æ–∫–æ–≤ –≤ 3 –Ω–µ–¥–µ–ª—è—Ö
- AI-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –ö–∞—Ç—è –ø–æ–º–æ–≥–∞–µ—Ç –∏ –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç

### 2. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è

**–ù–∞—á–Ω–∏—Ç–µ —Å —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤:**
1. `agents/README.md` - –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
2. `types.ts` - –≤—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
3. `constants.ts` - –¥–∞–Ω–Ω—ã–µ (–∑–∞–¥–∞—á–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
4. `App.tsx` - –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
5. `services/db.ts` - –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏

### 3. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

**–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- XP (–æ–ø—ã—Ç) ‚Üí –£—Ä–æ–≤–µ–Ω—å
- –ú–æ–Ω–µ—Ç—ã ‚Üí –ú–∞–≥–∞–∑–∏–Ω
- –°—Ç—Ä–∏–∫–∏ ‚Üí –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –¥–Ω–∏
- –õ–∏–≥–∏ ‚Üí BRONZE, SILVER, GOLD, DIAMOND

**–£—Ä–æ–∫–∏:**
- –ö–∞–∂–¥—ã–π —É—Ä–æ–∫ = Task —Å –º–∞—Å—Å–∏–≤–æ–º —Å–ª–∞–π–¥–æ–≤
- –°–ª–∞–π–¥—ã –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ (QUIZ, GAME, VIDEO, –∏ —Ç.–¥.)
- –ë–æ—Å—Å—ã = —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ —ç–∫–∑–∞–º–µ–Ω—ã –Ω–µ–¥–µ–ª–∏

**–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: Google Sheets ‚Üí Supabase ‚Üí LocalStorage
- –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î (LocalStorage fallback)

### 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —É—Ä–æ–∫–∞

```typescript
Task {
  id: 't1',
  week: 1,
  title: '–ù–∞–∑–≤–∞–Ω–∏–µ',
  slides: [
    { type: 'THEORY', content: '...' },
    { type: 'QUIZ', question: '...', options: [...] },
    { type: 'GAME', gameType: 'FOCUS_DEFENDER' },
    // –∏ —Ç.–¥.
  ]
}
```

### 5. –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

```typescript
// –ü–æ–ª—É—á–∏—Ç—å/—Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const user = await getOrCreateUser(telegramUser);

// –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞–¥–∞—á—É
await completeTask(user.id, task);

// –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
await updateUserProfile(user);
```

### 6. AI-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –ö–∞—Ç—è

```typescript
// –ß–∞—Ç —Å –ö–∞—Ç–µ–π
const response = await askKatya(
  userMessage,
  userContext,
  userInterest // '–ì–µ–π–º–∏–Ω–≥', '–°–ø–æ—Ä—Ç', –∏ —Ç.–¥.
);
```

–ö–∞—Ç—è –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã –ø–æ–¥ –∏–Ω—Ç–µ—Ä–µ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!

### 7. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- `TeenDashboard` - –≥–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥
- `TaskModal` - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É—Ä–æ–∫–∞
- `KatyaChat` - —á–∞—Ç —Å AI
- `MiniGames` - –º–∏–Ω–∏-–∏–≥—Ä—ã
- `ParentDashboard` / `CuratorDashboard` - –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–æ–ª–µ–π

### 8. Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**WebApp:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram
- –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- `telegramService.ts` - —Ä–∞–±–æ—Ç–∞ —Å Telegram API

**Bot:**
- –û—Ç–¥–µ–ª—å–Ω—ã–π –±–æ—Ç –≤ `telegram-bot/`
- –ö–æ–º–∞–Ω–¥—ã: /start, /help, /profile, –∏ —Ç.–¥.

### 9. –ß–∞—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏

**–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É:**
1. –î–æ–±–∞–≤—å—Ç–µ –≤ `constants.ts` –≤ –º–∞—Å—Å–∏–≤ `TASKS`
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–ª–∞–π–¥—ã (THEORY, QUIZ, GAME, –∏ —Ç.–¥.)

**–ò–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É —Ö—Ä–∞–Ω–µ–Ω–∏—è:**
1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `services/db.ts`
2. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –≤ `services/`
3. –û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤ `getOrCreateUser()`

**–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø —Å–ª–∞–π–¥–∞:**
1. –î–æ–±–∞–≤—å—Ç–µ —Ç–∏–ø –≤ `types.ts`
2. –û–±–Ω–æ–≤–∏—Ç–µ `TaskModal.tsx` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–∏–º–µ—Ä –≤ `constants.ts`

### 10. –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: `agents/ARCHITECTURE.md`
- API: `agents/API.md`
- –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö: `agents/DATA_MODELS.md`

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤:**
   ```typescript
   if (isGoogleSheetsEnabled) { ... }
   if (isSupabaseEnabled) { ... }
   ```

2. **LocalStorage - —ç—Ç–æ fallback:**
   - –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞

3. **Telegram WebApp:**
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ `isTelegramApp()` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
   - –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `getTelegramUser()`

4. **AI –ö–∞—Ç—è:**
   - –¢—Ä–µ–±—É–µ—Ç `GEMINI_API_KEY`
   - –ë–µ–∑ –∫–ª—é—á–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç fallback —Å–æ–æ–±—â–µ–Ω–∏–µ

5. **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è:**
   - –£—Ä–æ–≤–µ–Ω—å = `Math.floor(xp / 500) + 1`
   - –õ–∏–≥–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

## üí° –°–æ–≤–µ—Ç—ã

- –ò–∑—É—á–∏—Ç–µ `constants.ts` - —Ç–∞–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á –≤ `TASKS` –º–∞—Å—Å–∏–≤–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∏–ø—ã –≤ `types.ts` –ø–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `agents/` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π

## üîó –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ `agents/README.md` –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. –ò–∑—É—á–∏—Ç–µ `ARCHITECTURE.md` –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ `API.md` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏
4. –ò–∑—É—á–∏—Ç–µ `DATA_MODELS.md` –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

–£–¥–∞—á–∏! üöÄ


















