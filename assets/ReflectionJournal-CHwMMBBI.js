import{r as a,j as e,A as H,m as d,X as T,S as _,h as F,k as P}from"./index-BGNiMd3h.js";const R={daily:{learned:"–ß—Ç–æ –Ω–æ–≤–æ–≥–æ —è —É–∑–Ω–∞–ª —Å–µ–≥–æ–¥–Ω—è?",felt:"–ö–∞–∫–∏–µ —ç–º–æ—Ü–∏–∏ —è –∏—Å–ø—ã—Ç–∞–ª?",did:"–ß—Ç–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ —è —Å–¥–µ–ª–∞–ª?",improved:"–ö–∞–∫ —è –ø–æ–∑–∞–±–æ—Ç–∏–ª—Å—è –æ —Å–µ–±–µ?"},weekly:{learned:"–ì–ª–∞–≤–Ω—ã–π —É—Ä–æ–∫ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–∏?",felt:"–ö–∞–∫ –º–µ–Ω—è–ª–æ—Å—å –º–æ—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ?",did:"–ö–∞–∫–∏–µ —Ü–µ–ª–∏ —è –¥–æ—Å—Ç–∏–≥?",improved:"–ß—Ç–æ —è —Ö–æ—á—É —É–ª—É—á—à–∏—Ç—å?"},milestone:{learned:"–ß–µ–º—É –Ω–∞—É—á–∏–ª –º–µ–Ω—è —ç—Ç–æ—Ç –æ–ø—ã—Ç?",felt:"–ß—Ç–æ —è —á—É–≤—Å—Ç–≤—É—é, –æ–≥–ª—è–¥—ã–≤–∞—è—Å—å –Ω–∞–∑–∞–¥?",did:"–ß—Ç–æ –±—ã–ª–æ —Å–∞–º—ã–º —Å–ª–æ–∂–Ω—ã–º?",improved:"–ö–∞–∫ —è –≤—ã—Ä–æ—Å?"}},y=["üòî","üòï","üòê","üôÇ","üòä"],J=[{emoji:"üéØ",label:"–î–æ—Å—Ç–∏–≥ —Ü–µ–ª–∏"},{emoji:"üìö",label:"–£–∑–Ω–∞–ª –Ω–æ–≤–æ–µ"},{emoji:"üí™",label:"–ü—Ä–µ–æ–¥–æ–ª–µ–ª —Å–µ–±—è"},{emoji:"ü§ù",label:"–ü–æ–º–æ–≥ –¥—Ä—É–≥–∏–º"},{emoji:"üßò",label:"–ù–∞—à—ë–ª –±–∞–ª–∞–Ω—Å"},{emoji:"‚ö°",label:"–ë—ã–ª –ø—Ä–æ–¥—É–∫—Ç–∏–≤–µ–Ω"}],$=({isOpen:v,onClose:S,onComplete:k})=>{const[i,b]=a.useState([]),[g,c]=a.useState(!1),[o,E]=a.useState("daily"),[s,x]=a.useState(0),[m,u]=a.useState({learned:"",felt:"",did:"",improved:""}),[j,f]=a.useState(3),[n,h]=a.useState([]);a.useEffect(()=>{const t=localStorage.getItem("reflection_journal");t&&b(JSON.parse(t))},[]),a.useEffect(()=>{localStorage.setItem("reflection_journal",JSON.stringify(i))},[i]);const r=R[o],p=["learned","felt","did","improved","mood","highlights"],C=()=>{const t={id:Date.now().toString(),date:new Date().toISOString(),type:o,answers:m,mood:j,highlights:n};b([t,...i]),N(),k(25)},N=()=>{c(!1),x(0),u({learned:"",felt:"",did:"",improved:""}),f(3),h([])},D=t=>{n.includes(t)?h(n.filter(l=>l!==t)):h([...n,t])},O=t=>new Date(t).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),w=i.some(t=>new Date(t.date).toDateString()===new Date().toDateString());return v?e.jsx(H,{children:e.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-[#020617] overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-600/15 rounded-full blur-[100px] animate-pulse"}),e.jsx("div",{className:"absolute bottom-40 right-10 w-80 h-80 bg-indigo-600/10 rounded-full blur-[120px]"})]}),e.jsx("div",{className:"sticky top-0 z-30 px-4 pt-4 pb-4",children:e.jsx("div",{className:"p-4 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.15)"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.3) 0%, rgba(168,85,247,0.2) 100%)"},children:e.jsx("span",{className:"text-2xl",children:"üìî"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"–î–Ω–µ–≤–Ω–∏–∫ —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏"}),e.jsxs("p",{className:"text-white/50 text-xs",children:[i.length," –∑–∞–ø–∏—Å–µ–π"]})]})]}),e.jsx("button",{onClick:S,className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center",children:e.jsx(T,{size:20,className:"text-white"})})]})})}),e.jsx("div",{className:"px-4 pb-40 overflow-y-auto h-[calc(100vh-160px)]",children:g?e.jsxs(d.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:[s===0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-white/60 text-sm mb-3",children:"–¢–∏–ø –∑–∞–ø–∏—Å–∏"}),e.jsx("div",{className:"flex gap-2",children:[{id:"daily",label:"–î–µ–Ω—å",emoji:"‚òÄÔ∏è"},{id:"weekly",label:"–ù–µ–¥–µ–ª—è",emoji:"üìÖ"},{id:"milestone",label:"–í–µ—Ö–∞",emoji:"üèÜ"}].map(t=>e.jsxs("button",{onClick:()=>E(t.id),className:`flex-1 py-3 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2 ${o===t.id?"bg-purple-500 text-white":"bg-white/5 text-white/50"}`,children:[e.jsx("span",{children:t.emoji}),t.label]},t.id))})]}),e.jsx("div",{className:"flex gap-1 mb-6",children:p.map((t,l)=>e.jsx("div",{className:`flex-1 h-1 rounded-full ${l<=s?"bg-purple-500":"bg-white/10"}`},l))}),s<4&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-white font-bold text-xl mb-4",children:[s===0&&"üß† "+r.learned,s===1&&"üíú "+r.felt,s===2&&"ü§≤ "+r.did,s===3&&"üå± "+r.improved]}),e.jsx("textarea",{value:m[p[s]]||"",onChange:t=>u({...m,[p[s]]:t.target.value}),placeholder:"–ù–∞–ø–∏—à–∏ —Å–≤–æ–∏ –º—ã—Å–ª–∏...",className:"w-full h-40 bg-white/5 border border-white/10 rounded-2xl p-4 text-white placeholder-white/30 resize-none",autoFocus:!0})]}),s===4&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-xl mb-6 text-center",children:"–ö–∞–∫ —Ç—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å?"}),e.jsx("div",{className:"flex justify-center gap-4 mb-6",children:y.map((t,l)=>e.jsx("button",{onClick:()=>f(l),className:`w-14 h-14 rounded-2xl text-3xl transition-all ${j===l?"bg-purple-500/30 ring-2 ring-purple-500 scale-110":"bg-white/5 hover:bg-white/10"}`,children:t},l))})]}),s===5&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-xl mb-4 text-center",children:"–ß—Ç–æ –±—ã–ª–æ –æ—Å–æ–±–µ–Ω–Ω—ã–º?"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-6",children:J.map(t=>e.jsxs("button",{onClick:()=>D(t.emoji),className:`p-4 rounded-xl text-left transition-all flex items-center gap-3 ${n.includes(t.emoji)?"bg-purple-500/20 border-purple-500/50":"bg-white/5 border-white/10"}`,style:{border:"1px solid"},children:[e.jsx("span",{className:"text-2xl",children:t.emoji}),e.jsx("span",{className:"text-white/70 text-sm",children:t.label})]},t.emoji))})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:()=>{s===0?N():x(s-1)},className:"flex-1 py-4 rounded-2xl font-medium text-white bg-white/10",children:s===0?"–û—Ç–º–µ–Ω–∞":"–ù–∞–∑–∞–¥"}),e.jsx("button",{onClick:()=>{s===5?C():x(s+1)},className:"flex-1 py-4 rounded-2xl font-medium text-white",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},children:s===5?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å":"–î–∞–ª–µ–µ"})]})]}):e.jsxs(e.Fragment,{children:[!w&&e.jsx(d.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 p-4 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.15) 0%, rgba(99,102,241,0.08) 100%)",border:"1px solid rgba(139,92,246,0.2)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{size:20,className:"text-purple-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white font-medium text-sm",children:"–í—Ä–µ–º—è –¥–ª—è —Ä–µ—Ñ–ª–µ–∫—Å–∏–∏!"}),e.jsx("p",{className:"text-white/50 text-xs",children:"–ó–∞–ø–∏—à–∏ —Å–≤–æ–∏ –º—ã—Å–ª–∏ –æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–º –¥–Ω–µ"})]}),e.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 rounded-xl font-medium text-white text-sm",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},children:"–ù–∞—á–∞—Ç—å"})]})}),i.length===0?e.jsxs("div",{className:"rounded-3xl p-6 text-center",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("span",{className:"text-5xl mb-4 block",children:"üìî"}),e.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"–ù–∞—á–Ω–∏ —Å–≤–æ–π –¥–Ω–µ–≤–Ω–∏–∫"}),e.jsx("p",{className:"text-white/40 text-sm",children:"–†–µ—Ñ–ª–µ–∫—Å–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å —Å–µ–±—è –∏ —Ä–∞—Å—Ç–∏"})]}):e.jsx("div",{className:"space-y-3",children:i.map((t,l)=>e.jsxs(d.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.05},className:"rounded-2xl p-4",style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{size:14,className:"text-white/40"}),e.jsx("span",{className:"text-white/60 text-sm",children:O(t.date)})]}),e.jsx("span",{className:"text-2xl",children:y[t.mood]})]}),t.answers.learned&&e.jsxs("p",{className:"text-white/80 text-sm mb-2 line-clamp-2",children:["üí° ",t.answers.learned]}),t.highlights.length>0&&e.jsx("div",{className:"flex gap-1",children:t.highlights.map((z,I)=>e.jsx("span",{className:"text-lg",children:z},I))})]},t.id))})]})}),!g&&!w&&i.length>0&&e.jsx("div",{className:"fixed bottom-24 left-4 right-4 z-40",children:e.jsxs("button",{onClick:()=>c(!0),className:"w-full py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",boxShadow:"0 8px 32px rgba(139,92,246,0.4)"},children:[e.jsx(P,{size:20}),"–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å"]})})]})}):null};export{$ as ReflectionJournal,$ as default};
