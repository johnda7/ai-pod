import{c as P,r as i,j as e,A as T,m as k,X as C,o as q,S as K,f as Q,T as V,k as I}from"./index-C_OYZS1b.js";import{u as U}from"./useSyncTool-rspsrgLk.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],B=P("save",X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],J=P("tag",G),a=[{id:"purple",bg:"rgba(139,92,246,0.15)",border:"rgba(139,92,246,0.3)",accent:"#8b5cf6"},{id:"blue",bg:"rgba(59,130,246,0.15)",border:"rgba(59,130,246,0.3)",accent:"#3b82f6"},{id:"green",bg:"rgba(34,197,94,0.15)",border:"rgba(34,197,94,0.3)",accent:"#22c55e"},{id:"amber",bg:"rgba(245,158,11,0.15)",border:"rgba(245,158,11,0.3)",accent:"#f59e0b"},{id:"pink",bg:"rgba(236,72,153,0.15)",border:"rgba(236,72,153,0.3)",accent:"#ec4899"},{id:"cyan",bg:"rgba(6,182,212,0.15)",border:"rgba(6,182,212,0.3)",accent:"#06b6d4"}],W=["–ß—Ç–æ —Ç–µ–±—è —Å–µ–≥–æ–¥–Ω—è –≤–¥–æ—Ö–Ω–æ–≤–∏–ª–æ?","–ó–∞ —á—Ç–æ —Ç—ã –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω?","–ö–∞–∫–∞—è –º—ã—Å–ª—å –Ω–µ –¥–∞—ë—Ç –ø–æ–∫–æ—è?","–ß—Ç–æ —Ç—ã —É–∑–Ω–∞–ª –Ω–æ–≤–æ–≥–æ?","–û —á—ë–º —Ç—ã –º–µ—á—Ç–∞–µ—à—å?","–ß—Ç–æ —Ç–µ–±—è –±–µ—Å–ø–æ–∫–æ–∏—Ç?"],ee=({isOpen:A,onClose:D,onComplete:M})=>{const{data:r,setData:b}=U([],{storageKey:"notes_journal",debounceMs:1e3}),[g,E]=i.useState(""),[o,S]=i.useState(null),[f,d]=i.useState(!1),[j,w]=i.useState(""),[c,x]=i.useState(""),[h,N]=i.useState("purple"),[n,u]=i.useState([]),[m,y]=i.useState(""),L=()=>{if(c.trim()){if(a.find(t=>t.id===h)||a[0],o)b(r.map(t=>t.id===o.id?{...t,title:j.trim()||"–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è",content:c.trim(),tags:n,color:h,updatedAt:Date.now()}:t));else{const t={id:Date.now().toString(),title:j.trim()||"–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è",content:c.trim(),tags:n,color:h,createdAt:Date.now(),updatedAt:Date.now(),isPinned:!1};b([t,...r]),M(10)}v()}},v=()=>{w(""),x(""),N("purple"),u([]),y(""),S(null),d(!1)},$=t=>{S(t),w(t.title),x(t.content),N(t.color),u(t.tags),d(!0)},_=t=>{b(r.filter(s=>s.id!==t))},z=()=>{m.trim()&&!n.includes(m.trim())&&(u([...n,m.trim()]),y(""))},H=t=>{u(n.filter(s=>s!==t))},O=t=>{x(t+`

`),d(!0)},R=r.filter(t=>{if(!g)return!0;const s=g.toLowerCase();return t.title.toLowerCase().includes(s)||t.content.toLowerCase().includes(s)||t.tags.some(p=>p.toLowerCase().includes(s))}).sort((t,s)=>t.isPinned&&!s.isPinned?-1:!t.isPinned&&s.isPinned?1:s.updatedAt-t.updatedAt),F=t=>{const s=new Date(t),l=new Date().getTime()-s.getTime();return l<6e4?"–¢–æ–ª—å–∫–æ —á—Ç–æ":l<36e5?`${Math.floor(l/6e4)} –º–∏–Ω –Ω–∞–∑–∞–¥`:l<864e5?`${Math.floor(l/36e5)} —á –Ω–∞–∑–∞–¥`:l<6048e5?`${Math.floor(l/864e5)} –¥–Ω –Ω–∞–∑–∞–¥`:s.toLocaleDateString("ru-RU",{day:"numeric",month:"short"})};return A?e.jsx(T,{children:e.jsxs(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-[#020617] overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-purple-600/15 rounded-full blur-[100px] animate-pulse"}),e.jsx("div",{className:"absolute bottom-40 right-10 w-80 h-80 bg-violet-600/10 rounded-full blur-[120px]"})]}),e.jsx("div",{className:"sticky top-0 z-30 px-4 pt-4 pb-4",children:e.jsxs("div",{className:"p-4 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255,255,255,0.15)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.3) 0%, rgba(168,85,247,0.2) 100%)"},children:e.jsx("span",{className:"text-2xl",children:"üìì"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"–ó–∞–º–µ—Ç–∫–∏"}),e.jsxs("p",{className:"text-white/50 text-xs",children:[r.length," –∑–∞–ø–∏—Å–µ–π"]})]})]}),e.jsx("button",{onClick:D,className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:e.jsx(C,{size:20,className:"text-white"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(q,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/30"}),e.jsx("input",{type:"text",value:g,onChange:t=>E(t.target.value),placeholder:"–ü–æ–∏—Å–∫ –ø–æ –∑–∞–º–µ—Ç–∫–∞–º...",className:"w-full bg-white/5 border border-white/10 rounded-xl pl-10 pr-4 py-2.5 text-white placeholder-white/30 text-sm"})]})]})}),e.jsx("div",{className:"px-4 pb-40 overflow-y-auto h-[calc(100vh-200px)]",children:r.length===0&&!f?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-3xl p-6 text-center mb-6",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)"},children:[e.jsx("span",{className:"text-5xl mb-4 block",children:"üìù"}),e.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"–¢–≤–æ–π –ª–∏—á–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫"}),e.jsx("p",{className:"text-white/40 text-sm",children:"–ó–∞–ø–∏—Å—ã–≤–∞–π –º—ã—Å–ª–∏, –∏–¥–µ–∏ –∏ –≤—Å—ë –≤–∞–∂–Ω–æ–µ"})]}),e.jsxs("h3",{className:"text-white/40 text-xs font-bold uppercase tracking-wider mb-3 flex items-center gap-2",children:[e.jsx(K,{size:12})," –ò–¥–µ–∏ –¥–ª—è –∑–∞–ø–∏—Å–µ–π"]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:W.map((t,s)=>e.jsx("button",{onClick:()=>O(t),className:"rounded-2xl p-4 text-left transition-all active:scale-[0.98]",style:{background:a[s%a.length].bg,border:`1px solid ${a[s%a.length].border}`},children:e.jsx("span",{className:"text-white/80 text-sm",children:t})},s))})]}):e.jsx("div",{className:"grid grid-cols-2 gap-3",children:R.map(t=>{const s=a.find(p=>p.id===t.color)||a[0];return e.jsxs(k.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>$(t),className:"rounded-2xl p-4 cursor-pointer transition-all active:scale-[0.98] relative overflow-hidden",style:{background:s.bg,border:`1px solid ${s.border}`,minHeight:"140px"},children:[t.isPinned&&e.jsx("div",{className:"absolute top-2 right-2 text-xs",children:"üìå"}),e.jsx("h4",{className:"text-white font-bold text-sm mb-2 line-clamp-1",children:t.title}),e.jsx("p",{className:"text-white/60 text-xs line-clamp-4 mb-3",children:t.content}),e.jsx("div",{className:"absolute bottom-3 left-4 right-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-white/30 text-[10px] flex items-center gap-1",children:[e.jsx(Q,{size:10}),F(t.updatedAt)]}),t.tags.length>0&&e.jsxs("span",{className:"text-[10px] px-1.5 py-0.5 rounded",style:{background:s.accent+"30",color:s.accent},children:["#",t.tags[0]]})]})})]},t.id)})})}),e.jsx(T,{children:f&&e.jsx(k.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed inset-0 z-50 bg-[#020617] overflow-y-auto",children:e.jsxs("div",{className:"px-4 pt-20 pb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:v,className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center",children:e.jsx(C,{size:20,className:"text-white"})}),e.jsxs("div",{className:"flex gap-2",children:[o&&e.jsx("button",{onClick:()=>{_(o.id),v()},className:"w-10 h-10 rounded-xl bg-red-500/20 flex items-center justify-center",children:e.jsx(V,{size:18,className:"text-red-400"})}),e.jsxs("button",{onClick:L,disabled:!c.trim(),className:"px-4 py-2 rounded-xl font-medium text-white flex items-center gap-2 disabled:opacity-50",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},children:[e.jsx(B,{size:16}),"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"]})]})]}),e.jsx("div",{className:"flex gap-2 mb-4",children:a.map(t=>e.jsx("button",{onClick:()=>N(t.id),className:`w-8 h-8 rounded-lg transition-all ${h===t.id?"ring-2 ring-white scale-110":""}`,style:{background:t.accent}},t.id))}),e.jsx("input",{type:"text",value:j,onChange:t=>w(t.target.value),placeholder:"–ó–∞–≥–æ–ª–æ–≤–æ–∫",className:"w-full bg-transparent text-white text-xl font-bold placeholder-white/30 mb-4 outline-none"}),e.jsx("textarea",{value:c,onChange:t=>x(t.target.value),placeholder:"–ù–∞—á–Ω–∏ –ø–∏—Å–∞—Ç—å...",className:"w-full bg-transparent text-white/80 placeholder-white/30 outline-none resize-none min-h-[300px]",autoFocus:!0}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(J,{size:14,className:"text-white/40"}),e.jsx("span",{className:"text-white/40 text-xs",children:"–¢–µ–≥–∏"})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.map(t=>e.jsxs("span",{className:"px-3 py-1 rounded-lg bg-white/10 text-white/70 text-sm flex items-center gap-2",children:["#",t,e.jsx("button",{onClick:()=>H(t),className:"text-white/40 hover:text-white",children:e.jsx(C,{size:12})})]},t))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:m,onChange:t=>y(t.target.value),onKeyPress:t=>t.key==="Enter"&&z(),placeholder:"–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥...",className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-3 py-2 text-white text-sm placeholder-white/30"}),e.jsx("button",{onClick:z,className:"px-4 py-2 rounded-xl bg-white/10 text-white text-sm",children:"–î–æ–±–∞–≤–∏—Ç—å"})]})]})]})})}),!f&&e.jsx("div",{className:"fixed bottom-24 left-4 right-4 z-40",children:e.jsxs("button",{onClick:()=>d(!0),className:"w-full py-4 rounded-2xl font-bold text-white flex items-center justify-center gap-2",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",boxShadow:"0 8px 32px rgba(139,92,246,0.4)"},children:[e.jsx(I,{size:20}),"–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞"]})})]})}):null};export{ee as NotesTool,ee as default};
