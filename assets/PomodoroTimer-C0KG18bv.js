import{c as N,r as a,j as e,m as h,X as T,R as $,P as L,a as M}from"./index-DI5uzzHj.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],R=N("coffee",G);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],J=N("volume-2",q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],H=N("volume-x",U),Q={workDuration:25,shortBreakDuration:5,longBreakDuration:15,sessionsUntilLongBreak:4},y={work:{label:"Ð¤Ð¾ÐºÑƒÑ",emoji:"ðŸ§ ",color:"#6366f1",gradient:"from-indigo-500 to-purple-600",message:"Ð’Ñ€ÐµÐ¼Ñ ÑÐ¾ÑÑ€ÐµÐ´Ð¾Ñ‚Ð¾Ñ‡Ð¸Ñ‚ÑŒÑÑ"},shortBreak:{label:"ÐŸÐµÑ€ÐµÑ€Ñ‹Ð²",emoji:"â˜•",color:"#22c55e",gradient:"from-green-500 to-emerald-600",message:"ÐžÑ‚Ð´Ð¾Ñ…Ð½Ð¸ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾"},longBreak:{label:"Ð‘Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð¿ÐµÑ€ÐµÑ€Ñ‹Ð²",emoji:"ðŸŒŸ",color:"#f59e0b",gradient:"from-amber-500 to-orange-600",message:"Ð¢Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†! Ð¥Ð¾Ñ€Ð¾ÑˆÐ¸Ð¹ Ð¾Ñ‚Ð´Ñ‹Ñ…"}},O=({isOpen:F,onClose:I,onSessionComplete:n})=>{const[s,C]=a.useState(Q),[l,u]=a.useState("work"),[c,m]=a.useState("idle"),[w,d]=a.useState(s.workDuration*60),[o,v]=a.useState(0),[k,S]=a.useState(0),[V,X]=a.useState(!1),[g,_]=a.useState(!0),x=a.useRef(null),f=a.useRef(null),j=a.useCallback(t=>{switch(t){case"work":return s.workDuration*60;case"shortBreak":return s.shortBreakDuration*60;case"longBreak":return s.longBreakDuration*60}},[s]),Y=t=>{const i=Math.floor(t/60),D=t%60;return`${i.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`},B=1-w/j(l),A=a.useCallback(()=>{g&&f.current&&(f.current.currentTime=0,f.current.play().catch(()=>{}))},[g]),b=a.useCallback(()=>{if(A(),l==="work"){const t=o+1;v(t),S(p=>p+s.workDuration),n==null||n("work",s.workDuration);const i=new Date().toDateString();if(localStorage.getItem("pomodoro_last_date")!==i)localStorage.setItem("pomodoro_sessions_today","1"),localStorage.setItem("pomodoro_last_date",i);else{const p=parseInt(localStorage.getItem("pomodoro_sessions_today")||"0",10);localStorage.setItem("pomodoro_sessions_today",(p+1).toString())}t%s.sessionsUntilLongBreak===0?(u("longBreak"),d(s.longBreakDuration*60)):(u("shortBreak"),d(s.shortBreakDuration*60))}else n==null||n("break",l==="shortBreak"?s.shortBreakDuration:s.longBreakDuration),u("work"),d(s.workDuration*60);m("idle")},[l,o,s,A,n]);a.useEffect(()=>(c==="running"?x.current=setInterval(()=>{d(t=>t<=1?(b(),0):t-1)},1e3):x.current&&clearInterval(x.current),()=>{x.current&&clearInterval(x.current)}),[c,b]);const W=()=>m("running"),E=()=>m("paused"),P=()=>{m("idle"),d(j(l))},z=()=>b();if(a.useEffect(()=>{const t=localStorage.getItem("pomodoro_stats");if(t){const i=JSON.parse(t);v(i.sessions||0),S(i.totalTime||0)}},[]),a.useEffect(()=>{localStorage.setItem("pomodoro_stats",JSON.stringify({sessions:o,totalTime:k}))},[o,k]),!F)return null;const r=y[l];return e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${r.color}15 0%, #020617 50%, #0a0f1a 100%)`}}),e.jsx("audio",{ref:f,preload:"auto",children:e.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleWk4dJGhk4N6dnqQpJyQfXZtb3+JjIiDgH18gIWIiYmHhYKBgYSGh4eGhYSEhIWGhoaFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhQ==",type:"audio/wav"})}),e.jsxs(h.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative z-10 w-full max-w-sm mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-3xl",children:r.emoji}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white",children:r.label}),e.jsx("p",{className:"text-white/50 text-sm",children:r.message})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>_(!g),className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center transition-all hover:bg-white/20",children:g?e.jsx(J,{size:18,className:"text-white/60"}):e.jsx(H,{size:18,className:"text-white/40"})}),e.jsx("button",{onClick:I,className:"w-10 h-10 rounded-xl bg-white/10 flex items-center justify-center transition-all hover:bg-white/20",children:e.jsx(T,{size:18,className:"text-white/60"})})]})]}),e.jsxs("div",{className:"relative flex items-center justify-center mb-8",children:[e.jsxs("svg",{className:"w-64 h-64 -rotate-90",children:[e.jsx("circle",{cx:"128",cy:"128",r:"120",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),e.jsx(h.circle,{cx:"128",cy:"128",r:"120",fill:"none",stroke:r.color,strokeWidth:"8",strokeLinecap:"round",strokeDasharray:2*Math.PI*120,strokeDashoffset:2*Math.PI*120*(1-B),style:{filter:`drop-shadow(0 0 10px ${r.color}80)`},initial:!1,animate:{strokeDashoffset:2*Math.PI*120*(1-B)},transition:{duration:.5,ease:"linear"}})]}),e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx(h.span,{initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:1},className:"text-6xl font-black text-white tabular-nums",style:{textShadow:`0 0 30px ${r.color}50`},children:Y(w)},w),e.jsx("div",{className:"flex gap-2 mt-4",children:Array.from({length:s.sessionsUntilLongBreak}).map((t,i)=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${i<o%s.sessionsUntilLongBreak?"bg-gradient-to-br "+r.gradient+" shadow-lg":"bg-white/20"}`,style:{boxShadow:i<o%s.sessionsUntilLongBreak?`0 0 10px ${r.color}60`:"none"}},i))})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[e.jsx("button",{onClick:P,className:"w-14 h-14 rounded-2xl bg-white/10 flex items-center justify-center transition-all hover:bg-white/20 active:scale-95",children:e.jsx($,{size:22,className:"text-white/70"})}),e.jsx(h.button,{onClick:c==="running"?E:W,whileTap:{scale:.95},className:`w-20 h-20 rounded-3xl flex items-center justify-center transition-all bg-gradient-to-br ${r.gradient}`,style:{boxShadow:`0 8px 30px ${r.color}50`},children:c==="running"?e.jsx(L,{size:32,className:"text-white",fill:"white"}):e.jsx(M,{size:32,className:"text-white ml-1",fill:"white"})}),e.jsx("button",{onClick:z,className:"w-14 h-14 rounded-2xl bg-white/10 flex items-center justify-center transition-all hover:bg-white/20 active:scale-95",children:e.jsx(R,{size:22,className:"text-white/70"})})]}),e.jsxs("div",{className:"rounded-3xl p-5",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.03) 100%)",backdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.1)"},children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-black text-white mb-1",children:o}),e.jsx("div",{className:"text-white/50 text-xs font-medium uppercase tracking-wider",children:"Ð¡ÐµÑÑÐ¸Ð¹ ÑÐµÐ³Ð¾Ð´Ð½Ñ"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-black text-white mb-1",children:k}),e.jsx("div",{className:"text-white/50 text-xs font-medium uppercase tracking-wider",children:"ÐœÐ¸Ð½ÑƒÑ‚ Ñ„Ð¾ÐºÑƒÑÐ°"})]})]}),o>0&&e.jsx(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 pt-4 border-t border-white/10 text-center",children:e.jsx("p",{className:"text-white/60 text-sm",children:o>=4?"ðŸ”¥ ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°! Ð¢Ñ‹ Ð² Ð¿Ð¾Ñ‚Ð¾ÐºÐµ!":o>=2?"ðŸ’ª ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ð¹ Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ Ð´ÑƒÑ…Ðµ!":"âœ¨ Ð¥Ð¾Ñ€Ð¾ÑˆÐµÐµ Ð½Ð°Ñ‡Ð°Ð»Ð¾!"})})]}),e.jsx("div",{className:"flex justify-center gap-2 mt-6",children:["work","shortBreak","longBreak"].map(t=>e.jsxs("button",{onClick:()=>{c==="idle"&&(u(t),d(j(t)))},disabled:c!=="idle",className:`px-4 py-2 rounded-xl text-xs font-medium transition-all ${l===t?"bg-white/20 text-white":"bg-white/5 text-white/40 hover:bg-white/10 hover:text-white/60"} ${c!=="idle"?"opacity-50 cursor-not-allowed":""}`,children:[y[t].emoji," ",y[t].label]},t))})]})]})};export{O as PomodoroTimer,O as default};
