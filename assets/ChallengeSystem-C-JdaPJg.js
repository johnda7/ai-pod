import{r as n,j as e,A as z,m as s,n as A,X as L,d as M,G as P,Z as T,S as _}from"./index-BGNiMd3h.js";const f=[{id:"d1",title:"–£—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ç–∞—Ä—Ç",description:"–ó–∞–≤–µ—Ä—à–∏ 1 —É—Ä–æ–∫ –¥–æ 12:00",emoji:"üåÖ",image:"https://images.unsplash.com/photo-1470252649378-9c29740c9fa8?w=300&h=200&fit=crop",type:"daily",requirement:{type:"lessons",value:1},reward:{xp:30,coins:15}},{id:"d2",title:"–§–æ–∫—É—Å –¥–Ω—è",description:"–ò—Å–ø–æ–ª—å–∑—É–π –ü–æ–º–æ–¥–æ—Ä–æ 2 —Ä–∞–∑–∞",emoji:"üçÖ",image:"https://images.unsplash.com/photo-1495364141860-b0d03eccd065?w=300&h=200&fit=crop",type:"daily",requirement:{type:"tools",value:2},reward:{xp:25,coins:10}},{id:"d3",title:"–ú–æ–º–µ–Ω—Ç —Ç–∏—à–∏–Ω—ã",description:"–ü—Ä–æ–≤–µ–¥–∏ 5 –º–∏–Ω—É—Ç –≤ –º–µ–¥–∏—Ç–∞—Ü–∏–∏",emoji:"üßò",image:"https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=300&h=200&fit=crop",type:"daily",requirement:{type:"meditation",value:5},reward:{xp:20,coins:10}}],b=[{id:"w1",title:"–ù–µ–¥–µ–ª—å–Ω—ã–π –º–∞—Ä–∞—Ñ–æ–Ω",description:"–ó–∞–≤–µ—Ä—à–∏ 5 —É—Ä–æ–∫–æ–≤ –∑–∞ –Ω–µ–¥–µ–ª—é",emoji:"üèÉ",image:"https://images.unsplash.com/photo-1461896836934- voices-of-the-dead?w=300&h=200&fit=crop",type:"weekly",requirement:{type:"lessons",value:5},reward:{xp:150,coins:75}},{id:"w2",title:"XP –æ—Ö–æ—Ç–Ω–∏–∫",description:"–ù–∞–±–µ—Ä–∏ 500 XP –∑–∞ –Ω–µ–¥–µ–ª—é",emoji:"‚ö°",image:"https://images.unsplash.com/photo-1533227268428-f9ed0900fb3b?w=300&h=200&fit=crop",type:"weekly",requirement:{type:"xp",value:500},reward:{xp:100,coins:50}},{id:"w3",title:"–û–≥–Ω–µ–Ω–Ω–∞—è —Å–µ—Ä–∏—è",description:"–ü–æ–¥–¥–µ—Ä–∂–∏ streak 7 –¥–Ω–µ–π",emoji:"üî•",image:"https://images.unsplash.com/photo-1475552113915-6fcb52652ba2?w=300&h=200&fit=crop",type:"weekly",requirement:{type:"streak",value:7},reward:{xp:200,coins:100}}],y=[{id:"s1",title:"–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏",description:"–ó–∞–≤–µ—Ä—à–∏ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —É—Ä–æ–∫",emoji:"üë£",image:"https://images.unsplash.com/photo-1476480862126-209bfaa8edc8?w=300&h=200&fit=crop",type:"special",requirement:{type:"lessons",value:1},reward:{xp:50,coins:25}},{id:"s2",title:"–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å",description:"–ü–æ–ø—Ä–æ–±—É–π –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã",emoji:"üîç",image:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=300&h=200&fit=crop",type:"special",requirement:{type:"tools",value:6},reward:{xp:100,coins:50}},{id:"s3",title:"–ú–∞—Å—Ç–µ—Ä –º–æ—Ç–∏–≤–∞—Ü–∏–∏",description:"–ù–∞–±–µ—Ä–∏ 1000 XP",emoji:"üëë",image:"https://images.unsplash.com/photo-1526304640581-d334cdbbf45e?w=300&h=200&fit=crop",type:"special",requirement:{type:"xp",value:1e3},reward:{xp:250,coins:125}}],X=({isOpen:j,onClose:w,onComplete:v,userXp:N,completedLessons:k})=>{const[o,C]=n.useState("daily"),[d,p]=n.useState([]),[S,m]=n.useState(null);n.useEffect(()=>{const t=localStorage.getItem("completed_challenges");t&&p(JSON.parse(t))},[]),n.useEffect(()=>{localStorage.setItem("completed_challenges",JSON.stringify(d))},[d]);const x=t=>{switch(t.requirement.type){case"lessons":return Math.min(k,t.requirement.value);case"xp":return Math.min(N,t.requirement.value);default:return 0}},r=t=>x(t)>=t.requirement.value,l=t=>d.includes(t),q=t=>{!r(t)||l(t.id)||(m(t.id),setTimeout(()=>{p([...d,t.id]),v(t.reward.xp,t.reward.coins),m(null)},1e3))},E=()=>{switch(o){case"daily":return f;case"weekly":return b;case"special":return y}},I=[{id:"daily",label:"–î–Ω–µ–≤–Ω—ã–µ",emoji:"‚òÄÔ∏è",count:f.filter(t=>!l(t.id)&&r(t)).length},{id:"weekly",label:"–ù–µ–¥–µ–ª—å–Ω—ã–µ",emoji:"üìÖ",count:b.filter(t=>!l(t.id)&&r(t)).length},{id:"special",label:"–û—Å–æ–±—ã–µ",emoji:"‚≠ê",count:y.filter(t=>!l(t.id)&&r(t)).length}];return j?e.jsx(z,{children:e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(180deg, #1a0a2e 0%, #0f0f2a 50%, #0a0a1a 100%)"}}),e.jsx(s.div,{className:"absolute top-0 left-0 w-full h-1/2",style:{background:"radial-gradient(ellipse at 30% 0%, rgba(245,158,11,0.2) 0%, transparent 60%)",filter:"blur(60px)"},animate:{opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0}}),e.jsx(s.div,{className:"absolute top-20 right-0 w-1/2 h-1/2",style:{background:"radial-gradient(ellipse at 100% 20%, rgba(234,88,12,0.15) 0%, transparent 60%)",filter:"blur(50px)"},animate:{opacity:[.4,.7,.4]},transition:{duration:5,repeat:1/0,delay:1}}),[...Array(20)].map((t,c)=>e.jsx(s.div,{className:"absolute w-1 h-1 bg-white rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,opacity:.3+Math.random()*.4},animate:{opacity:[.2,.8,.2],scale:[.8,1.2,.8]},transition:{duration:2+Math.random()*3,repeat:1/0,delay:Math.random()*2}},c))]}),e.jsx("div",{className:"sticky top-0 z-30 px-4 pt-4 pb-4",children:e.jsxs(s.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"p-4 rounded-3xl",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%)",backdropFilter:"blur(40px)",border:"1px solid rgba(255,255,255,0.15)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-14 h-14 rounded-xl overflow-hidden relative",style:{boxShadow:"0 4px 20px rgba(245,158,11,0.3)"},children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1533227268428-f9ed0900fb3b?w=100&h=100&fit=crop",alt:"Trophy",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-amber-600/60 to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(A,{size:24,className:"text-white"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"–ß–µ–ª–ª–µ–Ω–¥–∂–∏"}),e.jsx("p",{className:"text-white/50 text-xs",children:"–í—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞–Ω–∏—è ‚Äî –ø–æ–ª—É—á–∞–π –Ω–∞–≥—Ä–∞–¥—ã!"})]})]}),e.jsx("button",{onClick:w,className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{background:"rgba(255,255,255,0.1)"},children:e.jsx(L,{size:20,className:"text-white"})})]}),e.jsx("div",{className:"flex gap-2",children:I.map(t=>e.jsxs("button",{onClick:()=>C(t.id),className:"flex-1 py-2.5 rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-1.5 relative",style:{background:o===t.id?"linear-gradient(135deg, #f59e0b 0%, #ea580c 100%)":"rgba(255,255,255,0.05)",color:o===t.id?"white":"rgba(255,255,255,0.5)",boxShadow:o===t.id?"0 4px 15px rgba(245,158,11,0.4)":"none"},children:[e.jsx("span",{children:t.emoji}),t.label,t.count>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full text-[10px] font-bold flex items-center justify-center",style:{background:"#22c55e",color:"white"},children:t.count})]},t.id))})]})}),e.jsxs("div",{className:"relative z-10 px-4 pb-40 overflow-y-auto h-[calc(100vh-220px)]",children:[e.jsx("div",{className:"space-y-4",children:E().map((t,c)=>{const h=x(t),i=r(t),a=l(t.id),u=S===t.id,g=Math.min(h/t.requirement.value*100,100);return e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:`rounded-2xl overflow-hidden ${a?"opacity-60":""}`,style:{background:"linear-gradient(135deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.03) 100%)",border:`1px solid ${i&&!a?"rgba(34,197,94,0.4)":"rgba(255,255,255,0.1)"}`,boxShadow:i&&!a?"0 4px 20px rgba(34,197,94,0.2)":"none"},children:[e.jsxs("div",{className:"h-24 relative",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),a?e.jsxs("div",{className:"absolute top-3 right-3 px-2 py-1 rounded-lg bg-green-500/90 text-white text-xs font-bold flex items-center gap-1",children:[e.jsx(M,{size:12}),"–ü–æ–ª—É—á–µ–Ω–æ"]}):i?e.jsxs(s.div,{className:"absolute top-3 right-3 px-2 py-1 rounded-lg text-white text-xs font-bold flex items-center gap-1",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)"},animate:{scale:[1,1.05,1]},transition:{duration:1,repeat:1/0},children:[e.jsx(P,{size:12}),"–ó–∞–±–µ—Ä–∏!"]}):null,e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:t.emoji}),e.jsx("h4",{className:"text-white font-bold",children:t.title})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-white/60 text-sm mb-3",children:t.description}),!a&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1.5",children:[e.jsxs("span",{className:"text-white/40",children:[h,"/",t.requirement.value]}),e.jsxs("span",{className:i?"text-green-400 font-bold":"text-white/40",children:[Math.round(g),"%"]})]}),e.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:e.jsx(s.div,{initial:{width:0},animate:{width:`${g}%`},className:"h-full rounded-full",style:{background:i?"linear-gradient(90deg, #22c55e, #10b981)":"linear-gradient(90deg, #f59e0b, #ea580c)"}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded-lg bg-yellow-500/10",children:[e.jsx(T,{size:12,className:"text-yellow-400"}),e.jsxs("span",{className:"text-yellow-400 font-medium",children:["+",t.reward.xp," XP"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs px-2 py-1 rounded-lg bg-yellow-500/10",children:[e.jsx("span",{className:"text-yellow-400",children:"ü™ô"}),e.jsxs("span",{className:"text-yellow-400 font-medium",children:["+",t.reward.coins]})]})]}),i&&!a&&e.jsx(s.button,{onClick:()=>q(t),disabled:u,className:"px-4 py-2 rounded-xl font-medium text-white text-sm",style:{background:"linear-gradient(135deg, #22c55e 0%, #16a34a 100%)",boxShadow:"0 4px 15px rgba(34,197,94,0.4)"},whileHover:{scale:1.05},whileTap:{scale:.95},children:u?e.jsx(s.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(_,{size:16})}):"–ó–∞–±—Ä–∞—Ç—å"})]})]})]},t.id)})}),e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-6 p-4 rounded-2xl",style:{background:"linear-gradient(135deg, rgba(139,92,246,0.15) 0%, rgba(99,102,241,0.08) 100%)",border:"1px solid rgba(139,92,246,0.2)"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-xl",children:"üí°"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm mb-1",children:"–°–æ–≤–µ—Ç"}),e.jsx("p",{className:"text-white/60 text-xs",children:"–î–Ω–µ–≤–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ –ø–æ–ª–Ω–æ—á—å. –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π ‚Äî –ø–æ–ª—É—á–∞–π –±–æ–ª—å—à–µ –Ω–∞–≥—Ä–∞–¥!"})]})]})})]})]})}):null};export{X as ChallengeSystem,X as default};
